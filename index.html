
<!doctype html>
<html>
  <head>
    <link href="images/favicon-19c47ae9.png" rel="icon" type="image/png" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>v3 dYdX Documentation</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-256b73e1.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-e5a13ef3.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-6b8410f3.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;python&quot;,&quot;typescript&quot;,&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <p align="center"><img src="images/dydx-logo-8c60f759.svg" width="128"/></p>
        <div class="lang-selector">
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="typescript">TypeScript</a>
              <a href="#" data-language-name="json">HTTP</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#terms-of-service-and-privacy-policy" class="toc-h1 toc-link" data-title="Terms of Service and Privacy Policy">Terms of Service and Privacy Policy</a>
          </li>
          <li>
            <a href="#general" class="toc-h1 toc-link" data-title="General">General</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#layer-2-zk-rollups" class="toc-h2 toc-link" data-title="Layer 2: ZK-Rollups">Layer 2: ZK-Rollups</a>
                  </li>
                  <li>
                    <a href="#data-centers" class="toc-h2 toc-link" data-title="Data Centers">Data Centers</a>
                  </li>
                  <li>
                    <a href="#number-formats" class="toc-h2 toc-link" data-title="Number Formats">Number Formats</a>
                  </li>
                  <li>
                    <a href="#base-urls" class="toc-h2 toc-link" data-title="Base URLs">Base URLs</a>
                  </li>
                  <li>
                    <a href="#testnet" class="toc-h2 toc-link" data-title="Testnet">Testnet</a>
                  </li>
                  <li>
                    <a href="#rate-limits" class="toc-h2 toc-link" data-title="Rate-Limits">Rate-Limits</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rate-limit-api" class="toc-h3 toc-link" data-title="Rate Limit - API">Rate Limit - API</a>
                          </li>
                          <li>
                            <a href="#rate-limit-websocket" class="toc-h3 toc-link" data-title="Rate Limit - Websocket">Rate Limit - Websocket</a>
                          </li>
                          <li>
                            <a href="#cancel-order-rate-limits" class="toc-h3 toc-link" data-title="Cancel-Order Rate Limits">Cancel-Order Rate Limits</a>
                          </li>
                          <li>
                            <a href="#place-order-rate-limits" class="toc-h3 toc-link" data-title="Place-Order Rate-Limits">Place-Order Rate-Limits</a>
                          </li>
                          <li>
                            <a href="#active-order-rate-limits" class="toc-h3 toc-link" data-title="Active-Order Rate-Limits">Active-Order Rate-Limits</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#other-limits" class="toc-h2 toc-link" data-title="Other Limits">Other Limits</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#perpetual-contracts" class="toc-h1 toc-link" data-title="Perpetual Contracts">Perpetual Contracts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#margin" class="toc-h2 toc-link" data-title="Margin">Margin</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#risk-parameters-and-related-fields" class="toc-h3 toc-link" data-title="Risk Parameters and Related Fields">Risk Parameters and Related Fields</a>
                          </li>
                          <li>
                            <a href="#portfolio-margining" class="toc-h3 toc-link" data-title="Portfolio Margining">Portfolio Margining</a>
                          </li>
                          <li>
                            <a href="#margin-calculation" class="toc-h3 toc-link" data-title="Margin Calculation">Margin Calculation</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#liquidations" class="toc-h2 toc-link" data-title="Liquidations">Liquidations</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#close-price-for-liquidations" class="toc-h3 toc-link" data-title="Close Price for Liquidations">Close Price for Liquidations</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#funding" class="toc-h2 toc-link" data-title="Funding">Funding</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#funding-rate-units" class="toc-h3 toc-link" data-title="Funding Rate Units">Funding Rate Units</a>
                          </li>
                          <li>
                            <a href="#funding-payment-calculation" class="toc-h3 toc-link" data-title="Funding Payment Calculation">Funding Payment Calculation</a>
                          </li>
                          <li>
                            <a href="#funding-rate-calculation" class="toc-h3 toc-link" data-title="Funding Rate Calculation">Funding Rate Calculation</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#contract-loss-mechanisms" class="toc-h2 toc-link" data-title="Contract Loss Mechanisms">Contract Loss Mechanisms</a>
                  </li>
                  <li>
                    <a href="#oracle-prices" class="toc-h2 toc-link" data-title="Oracle Prices">Oracle Prices</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#calculation" class="toc-h3 toc-link" data-title="Calculation">Calculation</a>
                          </li>
                          <li>
                            <a href="#node-providers" class="toc-h3 toc-link" data-title="Node Providers">Node Providers</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#index-prices" class="toc-h2 toc-link" data-title="Index Prices">Index Prices</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#calculation-2" class="toc-h3 toc-link" data-title="Calculation">Calculation</a>
                          </li>
                          <li>
                            <a href="#exchange-sources" class="toc-h3 toc-link" data-title="Exchange Sources">Exchange Sources</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#clients" class="toc-h1 toc-link" data-title="Clients">Clients</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#python-client" class="toc-h2 toc-link" data-title="Python Client">Python Client</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#installation" class="toc-h3 toc-link" data-title="Installation">Installation</a>
                          </li>
                          <li>
                            <a href="#usage" class="toc-h3 toc-link" data-title="Usage">Usage</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#typescript-client" class="toc-h2 toc-link" data-title="TypeScript Client">TypeScript Client</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#installation-2" class="toc-h3 toc-link" data-title="Installation">Installation</a>
                          </li>
                          <li>
                            <a href="#usage-2" class="toc-h3 toc-link" data-title="Usage">Usage</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#client-initialization" class="toc-h2 toc-link" data-title="Client Initialization">Client Initialization</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#c-methods-for-faster-stark-signing" class="toc-h3 toc-link" data-title="C++ Methods for Faster STARK Signing">C++ Methods for Faster STARK Signing</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#private-http-api" class="toc-h1 toc-link" data-title="Private HTTP API">Private HTTP API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#ethereum-key-authentication" class="toc-h3 toc-link" data-title="Ethereum Key Authentication">Ethereum Key Authentication</a>
                          </li>
                          <li>
                            <a href="#stark-key-authentication" class="toc-h3 toc-link" data-title="STARK Key Authentication">STARK Key Authentication</a>
                          </li>
                          <li>
                            <a href="#api-key-authentication" class="toc-h3 toc-link" data-title="API Key Authentication">API Key Authentication</a>
                          </li>
                          <li>
                            <a href="#stark-key-cryptography" class="toc-h3 toc-link" data-title="STARK Key Cryptography">STARK Key Cryptography</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#creating-and-signing-requests" class="toc-h2 toc-link" data-title="Creating and Signing Requests">Creating and Signing Requests</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#onboarding-endpoint-post-v3-onboarding" class="toc-h3 toc-link" data-title="Onboarding Endpoint: <code>POST v3/onboarding</code>">Onboarding Endpoint: <code>POST v3/onboarding</code></a>
                          </li>
                          <li>
                            <a href="#ethereum-key-private-endpoints" class="toc-h3 toc-link" data-title="Ethereum Key Private Endpoints">Ethereum Key Private Endpoints</a>
                          </li>
                          <li>
                            <a href="#api-key-private-endpoints" class="toc-h3 toc-link" data-title="API Key Private Endpoints">API Key Private Endpoints</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#onboarding" class="toc-h2 toc-link" data-title="Onboarding">Onboarding</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#overview" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                          </li>
                          <li>
                            <a href="#http-request" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#derive-starkkey" class="toc-h2 toc-link" data-title="Derive StarkKey">Derive StarkKey</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#request-2" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-2" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#keypairwithycoordinate" class="toc-h3 toc-link" data-title="KeyPairWithYCoordinate">KeyPairWithYCoordinate</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#recover-default-api-credentials" class="toc-h2 toc-link" data-title="Recover Default API Credentials">Recover Default API Credentials</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#request-3" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-3" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#apikeycredentials" class="toc-h3 toc-link" data-title="ApiKeyCredentials">ApiKeyCredentials</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#recover-starkkey-quotebalance-and-open-positions" class="toc-h2 toc-link" data-title="Recover StarkKey, QuoteBalance and Open Positions">Recover StarkKey, QuoteBalance and Open Positions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-2" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-4" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-registration" class="toc-h2 toc-link" data-title="Get Registration">Get Registration</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-3" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-5" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#register-api-key" class="toc-h2 toc-link" data-title="Register API Key">Register API Key</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-4" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-6" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-api-keys" class="toc-h2 toc-link" data-title="Get API Keys">Get API Keys</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-5" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-7" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#delete-api-key" class="toc-h2 toc-link" data-title="Delete API Key">Delete API Key</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-6" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-4" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-8" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-user" class="toc-h2 toc-link" data-title="Get User">Get User</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-7" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-9" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#update-user" class="toc-h2 toc-link" data-title="Update User">Update User</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-8" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-10" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-user-active-links" class="toc-h2 toc-link" data-title="Get User Active Links">Get User Active Links</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-9" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-11" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#send-user-link-request" class="toc-h2 toc-link" data-title="Send User Link Request">Send User Link Request</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-10" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-5" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-12" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#link-actions" class="toc-h3 toc-link" data-title="Link Actions">Link Actions</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-user-pending-link-requests" class="toc-h2 toc-link" data-title="Get User Pending Link Requests">Get User Pending Link Requests</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-11" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-13" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#create-an-account" class="toc-h2 toc-link" data-title="Create An Account">Create An Account</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-12" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-6" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-14" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-account" class="toc-h2 toc-link" data-title="Get Account">Get Account</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-13" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-7" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-15" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-account-leaderboard-pnls" class="toc-h2 toc-link" data-title="Get Account Leaderboard PNLs">Get Account Leaderboard PNLs</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-14" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-8" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-16" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-account-historical-leaderboard-pnls" class="toc-h2 toc-link" data-title="Get Account Historical Leaderboard PNLs">Get Account Historical Leaderboard PNLs</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-15" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-9" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-17" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#leaderboardpnl" class="toc-h3 toc-link" data-title="LeaderboardPnl">LeaderboardPnl</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-accounts" class="toc-h2 toc-link" data-title="Get Accounts">Get Accounts</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-16" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-18" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-positions" class="toc-h2 toc-link" data-title="Get Positions">Get Positions</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-17" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-10" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-19" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-transfers" class="toc-h2 toc-link" data-title="Get Transfers">Get Transfers</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-18" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-11" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-20" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#fast-vs-slow-withdrawal" class="toc-h2 toc-link" data-title="Fast vs. Slow Withdrawal">Fast vs. Slow Withdrawal</a>
                  </li>
                  <li>
                    <a href="#create-withdrawal" class="toc-h2 toc-link" data-title="Create Withdrawal">Create Withdrawal</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-19" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-12" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-21" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#create-fast-withdrawal" class="toc-h2 toc-link" data-title="Create Fast Withdrawal">Create Fast Withdrawal</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-20" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-13" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-22" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#order-types" class="toc-h2 toc-link" data-title="Order Types">Order Types</a>
                  </li>
                  <li>
                    <a href="#create-a-new-order" class="toc-h2 toc-link" data-title="Create A New Order">Create A New Order</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-21" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-14" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-23" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#order-limitfee" class="toc-h2 toc-link" data-title="Order LimitFee">Order LimitFee</a>
                  </li>
                  <li>
                    <a href="#tick-size-and-minimum-size" class="toc-h2 toc-link" data-title="Tick Size and Minimum Size">Tick Size and Minimum Size</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#tick-size" class="toc-h3 toc-link" data-title="Tick Size">Tick Size</a>
                          </li>
                          <li>
                            <a href="#minimum-size" class="toc-h3 toc-link" data-title="Minimum Size">Minimum Size</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#order-deletion" class="toc-h2 toc-link" data-title="Order Deletion">Order Deletion</a>
                  </li>
                  <li>
                    <a href="#reduce-only" class="toc-h2 toc-link" data-title="Reduce Only">Reduce Only</a>
                  </li>
                  <li>
                    <a href="#cancel-an-order" class="toc-h2 toc-link" data-title="Cancel An Order">Cancel An Order</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-22" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-15" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-24" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#cancel-orders" class="toc-h2 toc-link" data-title="Cancel Orders">Cancel Orders</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-23" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-16" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-25" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#cancel-active-orders" class="toc-h2 toc-link" data-title="Cancel Active Orders">Cancel Active Orders</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-24" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-17" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-26" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-orders" class="toc-h2 toc-link" data-title="Get Orders">Get Orders</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-25" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-18" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-27" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#order" class="toc-h3 toc-link" data-title="Order">Order</a>
                          </li>
                          <li>
                            <a href="#order-statuses" class="toc-h3 toc-link" data-title="Order Statuses">Order Statuses</a>
                          </li>
                          <li>
                            <a href="#cancel-reasons" class="toc-h3 toc-link" data-title="Cancel Reasons">Cancel Reasons</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-active-orders" class="toc-h2 toc-link" data-title="Get Active Orders">Get Active Orders</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-26" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-19" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-28" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#activeorder" class="toc-h3 toc-link" data-title="ActiveOrder">ActiveOrder</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-order-by-id" class="toc-h2 toc-link" data-title="Get Order By Id">Get Order By Id</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-27" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-20" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-29" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-order-by-clientid" class="toc-h2 toc-link" data-title="Get Order by ClientId">Get Order by ClientId</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-28" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-21" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-30" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-fills" class="toc-h2 toc-link" data-title="Get Fills">Get Fills</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-29" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-22" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-31" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#fill" class="toc-h3 toc-link" data-title="Fill">Fill</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-funding-payments" class="toc-h2 toc-link" data-title="Get Funding Payments">Get Funding Payments</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-30" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-23" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-32" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-historical-pnl-ticks" class="toc-h2 toc-link" data-title="Get Historical PNL Ticks">Get Historical PNL Ticks</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-31" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-24" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-33" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#historicalaggregatedpnl" class="toc-h3 toc-link" data-title="HistoricalAggregatedPnl">HistoricalAggregatedPnl</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-trading-rewards" class="toc-h2 toc-link" data-title="Get Trading Rewards">Get Trading Rewards</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-32" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-25" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-34" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#weight" class="toc-h3 toc-link" data-title="Weight">Weight</a>
                          </li>
                          <li>
                            <a href="#fees" class="toc-h3 toc-link" data-title="Fees">Fees</a>
                          </li>
                          <li>
                            <a href="#openinterest" class="toc-h3 toc-link" data-title="OpenInterest">OpenInterest</a>
                          </li>
                          <li>
                            <a href="#stakeddydx" class="toc-h3 toc-link" data-title="StakedDYDX">StakedDYDX</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-liquidity-provider-rewards" class="toc-h2 toc-link" data-title="Get Liquidity Provider Rewards">Get Liquidity Provider Rewards</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-33" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-26" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-35" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#liquidityrewards" class="toc-h3 toc-link" data-title="LiquidityRewards">LiquidityRewards</a>
                          </li>
                          <li>
                            <a href="#stakeddydx-2" class="toc-h3 toc-link" data-title="StakedDYDX">StakedDYDX</a>
                          </li>
                          <li>
                            <a href="#peraddressrewards" class="toc-h3 toc-link" data-title="PerAddressRewards">PerAddressRewards</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-liquidity-rewards-deprecated" class="toc-h2 toc-link" data-title="Get Liquidity Rewards (Deprecated)">Get Liquidity Rewards (Deprecated)</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-34" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-27" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-36" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#liquidityrewards-2" class="toc-h3 toc-link" data-title="LiquidityRewards">LiquidityRewards</a>
                          </li>
                          <li>
                            <a href="#stakeddydx-3" class="toc-h3 toc-link" data-title="StakedDYDX">StakedDYDX</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-retroactive-mining-rewards" class="toc-h2 toc-link" data-title="Get Retroactive Mining Rewards">Get Retroactive Mining Rewards</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-35" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-37" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#retroactiveminingrewards" class="toc-h3 toc-link" data-title="RetroactiveMiningRewards">RetroactiveMiningRewards</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#send-verification-email" class="toc-h2 toc-link" data-title="Send Verification Email">Send Verification Email</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-36" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-38" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#setting-notification-status" class="toc-h3 toc-link" data-title="Setting Notification Status">Setting Notification Status</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#request-testnet-tokens" class="toc-h2 toc-link" data-title="Request Testnet Tokens">Request Testnet Tokens</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-37" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-39" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-private-profile" class="toc-h2 toc-link" data-title="Get Private Profile">Get Private Profile</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-38" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-40" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#affiliatelinkdata" class="toc-h3 toc-link" data-title="AffiliateLinkData">AffiliateLinkData</a>
                          </li>
                          <li>
                            <a href="#tradingleagues" class="toc-h3 toc-link" data-title="TradingLeagues">TradingLeagues</a>
                          </li>
                          <li>
                            <a href="#tradingpnls" class="toc-h3 toc-link" data-title="TradingPnls">TradingPnls</a>
                          </li>
                          <li>
                            <a href="#tradingrewards" class="toc-h3 toc-link" data-title="TradingRewards">TradingRewards</a>
                          </li>
                          <li>
                            <a href="#affiliatestatistics" class="toc-h3 toc-link" data-title="AffiliateStatistics">AffiliateStatistics</a>
                          </li>
                          <li>
                            <a href="#currentepochaffiliatestatistics" class="toc-h3 toc-link" data-title="CurrentEpochAffiliateStatistics">CurrentEpochAffiliateStatistics</a>
                          </li>
                          <li>
                            <a href="#previousepochsaffiliatestatistics" class="toc-h3 toc-link" data-title="PreviousEpochsAffiliateStatistics">PreviousEpochsAffiliateStatistics</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#public-http-api" class="toc-h1 toc-link" data-title="Public HTTP API">Public HTTP API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-markets" class="toc-h2 toc-link" data-title="Get Markets">Get Markets</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#market" class="toc-h3 toc-link" data-title="Market">Market</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-orderbook" class="toc-h2 toc-link" data-title="Get Orderbook">Get Orderbook</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-2" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-2" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-2" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#orderbook-order" class="toc-h3 toc-link" data-title="Orderbook Order">Orderbook Order</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-trades" class="toc-h2 toc-link" data-title="Get Trades">Get Trades</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-3" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-3" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-3" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#trade" class="toc-h3 toc-link" data-title="Trade">Trade</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-fast-withdrawal-liquidity" class="toc-h2 toc-link" data-title="Get Fast Withdrawal Liquidity">Get Fast Withdrawal Liquidity</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-4" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-4" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-4" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#liquidity-provider" class="toc-h3 toc-link" data-title="Liquidity Provider">Liquidity Provider</a>
                          </li>
                          <li>
                            <a href="#liquidity-provider-quote" class="toc-h3 toc-link" data-title="Liquidity Provider Quote">Liquidity Provider Quote</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-market-stats" class="toc-h2 toc-link" data-title="Get Market Stats">Get Market Stats</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-5" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-5" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-5" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#marketstats" class="toc-h3 toc-link" data-title="MarketStats">MarketStats</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-historical-funding" class="toc-h2 toc-link" data-title="Get Historical Funding">Get Historical Funding</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-6" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-6" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-6" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#historical-funding" class="toc-h3 toc-link" data-title="Historical Funding">Historical Funding</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-candles-for-market" class="toc-h2 toc-link" data-title="Get Candles for Market">Get Candles for Market</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-7" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-7" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-7" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-global-configuration-variables" class="toc-h2 toc-link" data-title="Get Global Configuration Variables">Get Global Configuration Variables</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-8" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-8" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#cancelorderratelimiting" class="toc-h3 toc-link" data-title="cancelOrderRateLimiting">cancelOrderRateLimiting</a>
                          </li>
                          <li>
                            <a href="#placeorderratelimiting" class="toc-h3 toc-link" data-title="placeOrderRateLimiting">placeOrderRateLimiting</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#check-if-user-exists" class="toc-h2 toc-link" data-title="Check If User Exists">Check If User Exists</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-9" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-8" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-9" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#check-if-username-exists" class="toc-h2 toc-link" data-title="Check If Username Exists">Check If Username Exists</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-10" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-9" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-10" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-api-server-time" class="toc-h2 toc-link" data-title="Get API Server Time">Get API Server Time</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-11" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-11" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-public-leaderboard-pnls" class="toc-h2 toc-link" data-title="Get Public Leaderboard PNLs">Get Public Leaderboard PNLs</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-12" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-10" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-12" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-public-retroactive-mining-rewards" class="toc-h2 toc-link" data-title="Get Public Retroactive Mining Rewards">Get Public Retroactive Mining Rewards</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-13" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-11" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-13" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#verify-an-email-address" class="toc-h2 toc-link" data-title="Verify an Email Address">Verify an Email Address</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-14" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-12" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-14" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-currently-revealed-hedgies" class="toc-h2 toc-link" data-title="Get Currently Revealed Hedgies">Get Currently Revealed Hedgies</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-15" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-15" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#nftperiodinformation" class="toc-h3 toc-link" data-title="NftPeriodInformation">NftPeriodInformation</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-historically-revealed-hedgies" class="toc-h2 toc-link" data-title="Get Historically Revealed Hedgies">Get Historically Revealed Hedgies</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-16" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#request-13" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-16" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-insurance-fund-balance" class="toc-h2 toc-link" data-title="Get Insurance Fund Balance">Get Insurance Fund Balance</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-17" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-17" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#get-public-profile" class="toc-h2 toc-link" data-title="Get Public Profile">Get Public Profile</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#http-request-18" class="toc-h3 toc-link" data-title="HTTP Request">HTTP Request</a>
                          </li>
                          <li>
                            <a href="#response-18" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#request-14" class="toc-h3 toc-link" data-title="Request">Request</a>
                          </li>
                          <li>
                            <a href="#response-19" class="toc-h3 toc-link" data-title="Response">Response</a>
                          </li>
                          <li>
                            <a href="#tradingleagues" class="toc-h3 toc-link" data-title="TradingLeagues">TradingLeagues</a>
                          </li>
                          <li>
                            <a href="#tradingpnls" class="toc-h3 toc-link" data-title="TradingPnls">TradingPnls</a>
                          </li>
                          <li>
                            <a href="#tradingrewards" class="toc-h3 toc-link" data-title="TradingRewards">TradingRewards</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#v3-websocket-api" class="toc-h1 toc-link" data-title="V3 Websocket API">V3 Websocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#accounts-channel" class="toc-h2 toc-link" data-title="Accounts channel">Accounts channel</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#initial-response" class="toc-h3 toc-link" data-title="Initial Response:">Initial Response:</a>
                          </li>
                          <li>
                            <a href="#channel-data" class="toc-h3 toc-link" data-title="Channel Data">Channel Data</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#orderbook" class="toc-h2 toc-link" data-title="Orderbook">Orderbook</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#initial-response-2" class="toc-h3 toc-link" data-title="Initial Response:">Initial Response:</a>
                          </li>
                          <li>
                            <a href="#channel-data-2" class="toc-h3 toc-link" data-title="Channel Data">Channel Data</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#trades" class="toc-h2 toc-link" data-title="Trades">Trades</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#initial-response-3" class="toc-h3 toc-link" data-title="Initial Response:">Initial Response:</a>
                          </li>
                          <li>
                            <a href="#channel-data-3" class="toc-h3 toc-link" data-title="Channel Data">Channel Data</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#markets" class="toc-h2 toc-link" data-title="Markets">Markets</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#initial-response-4" class="toc-h3 toc-link" data-title="Initial Response:">Initial Response:</a>
                          </li>
                          <li>
                            <a href="#channel-data-4" class="toc-h3 toc-link" data-title="Channel Data">Channel Data</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#security" class="toc-h1 toc-link" data-title="Security">Security</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#independent-audits" class="toc-h2 toc-link" data-title="Independent Audits">Independent Audits</a>
                  </li>
                  <li>
                    <a href="#vulnerability-disclosure-policy" class="toc-h2 toc-link" data-title="Vulnerability Disclosure Policy">Vulnerability Disclosure Policy</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='terms-of-service-and-privacy-policy'>Terms of Service and Privacy Policy</h1>
<p>By using any API provided by dYdX Trading Inc., you agree to its <a href="https://dydx.exchange/terms">Terms of Use</a> and <a href="https://dydx.exchange/privacy">Privacy Policy</a>. If you do not agree to the foregoing, then do not use any such API.</p>
<h1 id='general'>General</h1>
<p>These docs describe the v3 API for the dYdX decentralized perpetual contracts exchange. The exchange runs on an L2 (layer-2) blockchain system, and operates independently of previous dYdX protocols and systems, including the v1 and v2 APIs.</p>

<p>Like the previous iteration of dYdX perpetuals, the exchange uses a centralized order book, but remains non-custodial, and settles trades and liquidations in a trustless manner.</p>

<aside class="notice">
These docs describe the dYdX <a href="https://trade.dydx.exchange">layer-2 perpetuals exchange</a>.
</aside>
<h2 id='layer-2-zk-rollups'>Layer 2: ZK-Rollups</h2>
<p>Trades are settled in an L2 (layer-2) system, which publishes ZK (zero-knowledge) proofs periodically to an Ethereum smart contract in order to prove that state transitions within L2 are valid. Funds must be deposited to the Ethereum smart contract before they can be used to trade on dYdX.</p>

<p>By settling trades on L2, the exchange is able to offer much higher trade throughput and lower minimum order sizes, compared with systems settling trades directly on Ethereum (i.e. L1). This is achieved while maintaining decentralization, and the exchange is fully non-custodial.</p>

<p>The L2 system was developed with, and is operated jointly with, Starkware. More information about the L2 design can be found in <a href="https://docs.starkware.co/starkex-docs/">Starkware&#39;s documentation</a>. (Note: Some of the details described there may be specific to Starkware&#39;s previous StarkEx system and may not apply to the dYdX system.)</p>
<h2 id='data-centers'>Data Centers</h2>
<p>Our data centers are located in the AWS AP-NORTHEAST-1 region (Tokyo).</p>

<aside class="warning">
It is strictly against our <a href="https://dydx.exchange/terms">Terms of Use</a> to use United States based IPs to trade on dYdX.
</aside>
<h2 id='number-formats'>Number Formats</h2>
<p>All amounts and prices in the clients and API are represented in “human readable,” natural units. For example, an amount of 1.25 ETH is represented as <code>1.25</code>, and a price of $31,000.50 per BTC is represented as <code>31000.5</code>.</p>
<h2 id='base-urls'>Base URLs</h2>
<p>Base URLs for API endpoints are as follows:</p>

<ul>
<li><strong>Production (Mainnet)</strong>: <code>https://api.dydx.exchange</code></li>
<li><strong>Staging (Goerli)</strong>: <code>https://api.stage.dydx.exchange</code></li>
</ul>
<h2 id='testnet'>Testnet</h2>
<p>We have one testnet which is on <code>Goerli</code>. To use the testnet, use the above Staging URL for your endpoint. Also use a <code>networkId</code> of <code>5</code> (Goerli) instead of <code>1</code> (Mainnet).</p>

<p>The user interface for testnet can be found <a href="https://trade.stage.dydx.exchange">here</a>.</p>

<p>The <code>dYdX Goerli USDC</code> token address is <code>0xF7a2fa2c2025fFe64427dd40Dc190d47ecC8B36e</code>. Users can deposit via the Testnet website.</p>
<h2 id='rate-limits'>Rate-Limits</h2>
<p>All rate-limits are subject to change.</p>

<p>Please make use of the WebSockets API if you need real-time data.</p>
<h3 id='rate-limit-api'>Rate Limit - API</h3>
<p>Limits are enforced by IP Address for public endpoints, and by both IP Address and Account for private endpoints.</p>

<p>Each request consumes 1 point towards the rate limit. <a href="#place-order-rate-limits"><code>POST v3/orders</code></a> consumes variable points based on the order. Points refresh at the end of each time window. Please take note of the <code>RateLimit-Remaining</code> header to track points usage.</p>
<h4 id='response-headers'>Response Headers</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>RateLimit-Remaining</code></td>
<td>Points remaining in the time window.</td>
</tr>
<tr>
<td><code>RateLimit-Reset</code></td>
<td>Timestamp that the time window ends, in Epoch milliseconds.</td>
</tr>
<tr>
<td><code>Retry-After</code></td>
<td>Milliseconds until the next time window. Header included only when the limit has been reached.</td>
</tr>
<tr>
<td><code>RateLimit-Limit</code></td>
<td>The maximum amount of points allowed per time window.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Request</th>
<th>Limit</th>
</tr>
</thead><tbody>
<tr>
<td><code>GET v3/*</code></td>
<td>175 requests per 10 seconds.</td>
</tr>
<tr>
<td><code>PUT v3/emails/send-verification-email</code></td>
<td>2 requests for 10 minutes.</td>
</tr>
<tr>
<td><code>DELETE v3/orders</code></td>
<td>See <code>Cancel-Order Rate Limits</code></td>
</tr>
<tr>
<td><code>POST v3/orders</code></td>
<td>See <code>Place-Order Rate-Limits</code></td>
</tr>
<tr>
<td><code>POST v3/testnet/tokens</code></td>
<td>5 requests per 24 hours.</td>
</tr>
<tr>
<td><code>GET v3/active-orders</code></td>
<td>See <code>Active-Order Rate-Limits</code></td>
</tr>
<tr>
<td><code>DELETE v3/active-orders</code></td>
<td>See <code>Active-Order Rate-Limits</code></td>
</tr>
<tr>
<td><code>All other requests</code></td>
<td>10 requests per minute.</td>
</tr>
</tbody></table>
<h3 id='rate-limit-websocket'>Rate Limit - Websocket</h3>
<p>Limits are enforced per <code>connectionId</code>.</p>

<aside class="warning">
If your connection exceeds the request limit, we will terminate the connection, and you will need to reconnect to the websocket. Additionally, sending too many invalid messages will also result in your websocket being disconnected.
</aside>

<table><thead>
<tr>
<th>Request</th>
<th>Limit</th>
</tr>
</thead><tbody>
<tr>
<td><code>subscribe v3_accounts, v3_markets</code></td>
<td>2 requests per 1 second.</td>
</tr>
<tr>
<td><code>subscribe v3_orderbook, v3_trades</code></td>
<td>2 requests for 1 second per market.</td>
</tr>
<tr>
<td><code>ping</code></td>
<td>5 requests per 1 second.</td>
</tr>
</tbody></table>
<h3 id='cancel-order-rate-limits'>Cancel-Order Rate Limits</h3>
<p>Canceling orders is limited per asset-pair and is intended to be higher than the limit on placing orders.</p>

<p><code>DELETE v3/orders</code> requests are limited to <code>3</code> requests per <code>10</code> seconds per asset-pair.</p>

<p><code>DELETE v3/orders/:id</code> requests are limited to <code>250</code> requests per <code>10</code> seconds per asset-pair.</p>
<h3 id='place-order-rate-limits'>Place-Order Rate-Limits</h3>
<p>Order rate limits are limited to <code>maxPoints</code> spent (per asset-pair) in a fixed window of <code>windowSec</code> seconds.</p>

<p>We want to give priority to those who are making the largest orders and who are contributing the most liquidity to the exchange.
Therefore, placing larger orders is subject to higher limits (i.e. larger orders carry a lower point cost).
The point cost is based on the <code>orderNotional</code> which is equal to the <code>size * price</code> of the order.</p>

<p>Limit-order point consumption is equal to:</p>

<pre class="center-column">
orderConsumption = clamp(
  ceil(targetNotional / orderNotional),
  minOrderConsumption,
  maxOrderConsumption
)
</pre>

<p>The <code>minOrderConsumption</code> is different for each order type, and can be one of <code>minLimitConsumption</code>, <code>minMarketConsumption</code>, or <code>minTriggerableConsumption</code>. Limit orders that are Fill-or-Kill or Immediate-or-Cancel are considered to be market orders for the purposes of rate limiting.</p>

<p>The values of the above variables as of March 15th, 2022 are listed below, but the most up-to-date values can be found in the <a href="#get-global-configuration-variables">v3/config endpoint</a>.</p>

<table><thead>
<tr>
<th>Variable</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><code>maxPoints</code></td>
<td><code>1,750</code></td>
</tr>
<tr>
<td><code>windowSec</code></td>
<td><code>10</code></td>
</tr>
<tr>
<td><code>targetNotional</code></td>
<td><code>40,000</code></td>
</tr>
<tr>
<td><code>minLimitConsumption</code></td>
<td><code>4</code></td>
</tr>
<tr>
<td><code>minMarketConsumption</code></td>
<td><code>20</code></td>
</tr>
<tr>
<td><code>minTriggerableConsumption</code></td>
<td><code>100</code></td>
</tr>
<tr>
<td><code>maxOrderConsumption</code></td>
<td><code>100</code></td>
</tr>
</tbody></table>
<h3 id='active-order-rate-limits'>Active-Order Rate-Limits</h3>
<p>Querying active orders is limited per endpoint and per asset and is intended to be higher than the respective DELETE and GET endpoints these new endpoints replace.</p>
<h4 id='delete-active-orders-rate-limits'>DELETE Active-Orders Rate Limits</h4>
<p><code>DELETE v3/active-orders/*</code></p>

<ul>
<li>425 points allotted per 10 seconds per market.</li>
<li>1 point consumed if order id included.</li>
<li>25 points consumed if order side included.</li>
<li>50 points consumed otherwise.</li>
</ul>
<h4 id='get-active-orders-rate-limits'>GET Active-Orders Rate Limits</h4>
<p><code>GET v3/active-orders/*</code></p>

<ul>
<li>175 points allotted per 10 seconds per market.</li>
<li>1 point consumed if order id included.</li>
<li>3 points consumed if order side included.</li>
<li>5 points consumed otherwise.</li>
</ul>
<h2 id='other-limits'>Other Limits</h2>
<p>Accounts may only have up to 20 open orders for a given market/side pair at any one time. (For example up to 20 open <code>BTC-USD</code> bids).</p>
<h1 id='perpetual-contracts'>Perpetual Contracts</h1>
<p>The dYdX Perpetual is a non-custodial, decentralized margin product that offers synthetic exposure to a variety of assets.</p>
<h2 id='margin'>Margin</h2>
<p>Collateral is held as USDC, and the quote asset for all perpetual markets is USDC. Cross-margining is used by default, meaning an account can open multiple positions that share the same collateral. Isolated margin can be achieved by creating separate accounts (sub-accounts) under the same user.</p>

<p>Each market has three risk parameters, the <code>initialMarginFraction</code>, <code>maintenanceMarginFraction</code> and <code>incrementalInitialMarginFraction</code>, which determine the max leverage available within that market. These are used to calculate the value that must be held by an account in order to open or increase positions (in the case of initial margin) or avoid liquidation (in the case of maintenance margin).</p>
<h3 id='risk-parameters-and-related-fields'>Risk Parameters and Related Fields</h3>
<table><thead>
<tr>
<th>Risk</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>initialMarginFraction</code></td>
<td>The margin fraction needed to open a position.</td>
</tr>
<tr>
<td><code>maintenanceMarginFraction</code></td>
<td>The margin fraction required to prevent liquidation.</td>
</tr>
<tr>
<td><code>incrementalInitialMarginFraction</code></td>
<td>The increase of <code>initialMarginFraction</code> for each <code>incrementalPositionSize</code> above the <code>baselinePositionSize</code> the position is.</td>
</tr>
<tr>
<td>baselinePositionSize</td>
<td>The max position size (in base token) before increasing the initial-margin-fraction.</td>
</tr>
<tr>
<td>incrementalPositionSize</td>
<td>The step size (in base token) for increasing the <code>initialMarginFraction</code> by (<code>incrementalInitialMarginFraction</code> per step).</td>
</tr>
</tbody></table>
<h3 id='portfolio-margining'>Portfolio Margining</h3>
<p>There is no distinction between realized and unrealized PnL for the purposes of margin calculations. Gains from one position will offset losses from another position within the same account, regardless of whether the profitable position is closed.</p>
<h3 id='margin-calculation'>Margin Calculation</h3>
<p>The margin requirement for a single position is calculated as follows:</p>

<pre class="center-column">
Initial Margin Requirement = abs(S &times; P &times; I)
Maintenance Margin Requirement = abs(S &times; P &times; M)
</pre>

<p>Where:</p>

<ul>
<li><code>S</code> is the size of the position (positive if long, negative if short)</li>
<li><code>P</code> is the oracle price for the market</li>
<li><code>I</code> is the initial margin fraction for the market</li>
<li><code>M</code> is the maintenance margin fraction for the market</li>
</ul>

<p>The margin requirement for the account as a whole is the sum of the margin requirement over each market <code>i</code> in which the account holds a position:</p>

<pre class="center-column">
Total Initial Margin Requirement = Σ abs(S<sub>i</sub> &times; P<sub>i</sub> &times; I<sub>i</sub>)
Total Maintenance Margin Requirement = Σ abs(S<sub>i</sub> &times; P<sub>i</sub> &times; M<sub>i</sub>)
</pre>

<p>The total margin requirement is compared against the total value of the account, which incorporates the quote asset (USDC) balance of the account as well as the value of the positions held by the account:</p>

<pre class="center-column">
Total Account Value = Q + Σ (S<sub>i</sub> &times; P<sub>i</sub>)
</pre>

<p>The Total Account Value is also referred to as equity.</p>

<p>Where:</p>

<ul>
<li><code>Q</code> is the account&#39;s USDC balance (note that <code>Q</code> may be negative). In the API, this is called <code>quoteBalance</code>. Every time a transfer, deposit or withdrawal occurs for an account, the balance changes. Also, when a position is modified for an account, the <code>quoteBalance</code> changes. Also funding payments and liquidations will change an account&#39;s <code>quoteBalance</code>.</li>
<li><code>S</code> and <code>P</code> are as defined above (note that <code>S</code> may be negative)</li>
</ul>

<p>An account cannot open new positions or increase the size of existing positions if it would lead the total account value of the account to drop below the total initial margin requirement. If the total account value ever falls below the total maintenance margin requirement, the account may be liquidated.</p>

<p>Free collateral is calculated as:</p>

<pre class="center-column">
Free collateral = Total Account Value - Total Initial Margin Requirement
</pre>

<p>Equity and free collateral can be tracked over time using the latest oracle price (obtained from the markets websocket).</p>
<h2 id='liquidations'>Liquidations</h2>
<p>Accounts whose total value falls below the maintenance margin requirement (described above) may have their positions automatically closed by the liquidation engine. Positions are closed at the close price described below. Profits or losses from liquidations are taken on by the insurance fund.</p>
<h3 id='close-price-for-liquidations'>Close Price for Liquidations</h3>
<p>The close price for a position being liquidated is calculated as follows, depending  whether it is a short or long position:</p>

<pre class="center-column">
Close Price (Short) = P &times; (1 + (M &times; V / W))
Close Price (Long) = P &times; (1 &minus; (M &times; V / W))
</pre>

<p>Where:</p>

<ul>
<li><code>P</code> is the oracle price for the market</li>
<li><code>M</code> is the maintenance margin fraction for the market</li>
<li><code>V</code> is the total account value, as defined above</li>
<li><code>W</code> is the total maintentance margin requirement, as defined above</li>
</ul>

<p>This formula is chosen such that the ratio <code>V / W</code> is unchanged as individual positions are liquidated.</p>
<h2 id='funding'>Funding</h2>
<p>Funding payments are exchanged between long and short traders to encourage the price of a perpetual contract to trade close to the price of the underlying. If the perpetual trades at a premium relative to the index, long traders will typically make payments to short traders, whereas if the perpetual trades at a discount relative to the index, short traders will typically make payments to long traders.</p>

<p>The payments are credited or debited at the start of each hour, and are included in the realized PnL for the position.</p>

<p>Funding payments can be found by calling <a href="#get-funding-payments">Get /v3/funding</a> and the predicted funding rate can be found by calling <a href="#get-markets">Get v3/markets</a>.</p>
<h3 id='funding-rate-units'>Funding Rate Units</h3>
<p>Since funding payments are exchanged every hour, the dYdX funding rate is usually represented as a 1-hour rate, which represents the return a position may expect to earn or pay every hour.</p>

<p>When calculating the funding rate, the premium is scaled to have a realization period of 8 hours. That means, for example, that if a certain perpetual market trades consistently at a 0.1% premium relative to the underlying, long traders may expect to pay ~0.1% every 8 hours, and short traders may expect to earn a ~0.1% return every 8 hours (not accounting for the interest rate component).</p>
<h3 id='funding-payment-calculation'>Funding Payment Calculation</h3>
<p>At the start of each hour, an account receives USDC (if <code>F</code> is positive) or pays USDC (if <code>F</code> is negative) in an amount equal to:</p>

<pre class="center-column">
F = (-1) &times; S &times; P &times; R
</pre>

<p>Where:</p>

<ul>
<li><code>S</code> is the size of the position (positive if long, negative if short)</li>
<li><code>P</code> is the oracle price for the market</li>
<li><code>R</code> is the funding rate (as a 1-hour rate)</li>
</ul>
<h3 id='funding-rate-calculation'>Funding Rate Calculation</h3>
<p>The main component of the funding rate is a premium that takes into account market activity for the perpetual. It is calculated for each market, every minute (at a random point within the minute) using the formula:</p>

<pre class="center-column">
Premium = (Max(0, Impact Bid Price - Index Price) - Max(0, Index Price - Impact Ask Price)) / Index Price
</pre>

<p>Where the impact bid and impact ask prices are defined as:</p>

<pre class="center-column">
Impact Bid Price = Average execution price for a market sell of the impact notional value
Impact Ask Price = Average execution price for a market buy of the impact notional value
</pre>

<p>And the impact notional amount for a market is:</p>

<pre class="center-column">
Impact Notional Amount = 500 USDC / Initial Margin Fraction
</pre>

<p>For example, for a market with a 10% initial margin fraction, the impact notional value is 5,000 USDC.</p>

<p>At the end of each hour, the premium component is calculated as the simple average (i.e. TWAP) of the 60 premiums calculated over the course of the last hour. In addition to the premium component, each market has a fixed interest rate component that aims to account for the difference in interest rates of the base and quote currencies. The funding rate is then:</p>

<pre class="center-column">
Funding Rate = (Premium Component / 8) + Interest Rate Component
</pre>

<p>Currently, the interest rate component for all dYdX markets is <code>0.00125%</code> (equivalent to <code>0.01%</code> per 8 hours).</p>
<h2 id='contract-loss-mechanisms'>Contract Loss Mechanisms</h2>
<p>During periods of high volatility in the markets underlying the perpetual contracts, the value of some accounts may drop below zero before they can be liquidated.</p>

<p>The insurance fund is the first backstop to maintain the solvency of the system when an account has a negative balance. The account will be liquidated, and the insurance fund will take on the loss.</p>

<p>In the event that the insurance fund is depleted, positions with the most profit and leverage may be used to offset negative-balance accounts, in order to maintain the stability of the system.</p>
<h2 id='oracle-prices'>Oracle Prices</h2>
<p>The <code>Oracle Price</code> for each trading pair is used for the following:</p>

<ul>
<li>Ensuring that each account is well-collateralized after each trade</li>
<li>Determining when an account should be liquidated</li>
</ul>
<h3 id='calculation'>Calculation</h3>
<p>Oracle prices are equal to the median of the reported prices of 15 independent Chainlink nodes.</p>
<h3 id='node-providers'>Node Providers</h3>
<ul>
<li>Chainlayer</li>
<li>Inotel</li>
<li>LinkForest</li>
<li>SimplyVC</li>
<li>DexTrac</li>
<li>Fiews</li>
<li>dMakers</li>
<li>linkPool</li>
<li>SDL</li>
<li>Ztake</li>
<li>stakFacils</li>
<li>infStones</li>
<li>01node</li>
<li>Syncnode</li>
<li>Vulcan</li>
</ul>
<h2 id='index-prices'>Index Prices</h2>
<p>The <code>Index Price</code> for each trading pair is used for the following:</p>

<ul>
<li>Calculating the funding rate</li>
<li>Triggering &quot;triggerable&quot; order types such as Stop-Limit and Take-Profit orders</li>
</ul>
<h3 id='calculation-2'>Calculation</h3>
<p>Index prices are equal to the median of several exchanges&#39; spot prices.</p>

<p>Each exchange&#39;s spot price is calculated as the median of the best-ask, best-bid, and last-traded prices of its spot pair.</p>

<p>If the exchange&#39;s quote-asset is a non-USD asset (including USDT), the price is adjusted by our index price for that asset.</p>
<h3 id='exchange-sources'>Exchange Sources</h3><h4 id='usdt-usd'>USDT-USD</h4>
<p>For <code>USDT</code> pairs where <code>USDT</code> is the quote asset, the implied price of <code>USDT</code> is taken to be the reciprocal of: the exchange price divided by the index price of the base asset.</p>

<ul>
<li>Binance: <code>USDT-USDC</code></li>
<li>Bitstamp: <code>USDT-USD</code></li>
<li>Bybit: <code>USDC-USDT</code></li>
<li>CoinbasePro: <code>USDT-USD</code></li>
<li>Crypto: <code>USDT-USD</code></li>
<li>Huobi: <code>ETH-USDT</code></li>
<li>Kraken: <code>USDT-USD</code></li>
<li>KuCoin: <code>BTC-USDT</code></li>
<li>MEXC: <code>ETH-USDT</code></li>
<li>OKX: <code>BTC-USDT</code></li>
</ul>
<h4 id='eth-usd'>ETH-USD</h4>
<ul>
<li>Binance: <code>ETH-USDT</code></li>
<li>Bitstamp: <code>ETH-USD</code></li>
<li>Bybit: <code>ETH-USDT</code></li>
<li>CoinbasePro: <code>ETH-USD</code></li>
<li>Kraken: <code>ETH-USD</code></li>
<li>KuCoin: <code>ETH-USDT</code></li>
<li>OKX: <code>ETH-USDT</code></li>
</ul>
<h4 id='btc-usd'>BTC-USD</h4>
<ul>
<li>Binance: <code>BTC-USDT</code></li>
<li>Bitstamp: <code>BTC-USD</code></li>
<li>Bybit: <code>BTC-USDT</code></li>
<li>CoinbasePro: <code>BTC-USD</code></li>
<li>Kraken: <code>BTC-USD</code></li>
<li>KuCoin: <code>BTC-USDT</code></li>
<li>OKX: <code>BTC-USDT</code></li>
</ul>
<h4 id='link-usd'>LINK-USD</h4>
<ul>
<li>Binance: <code>LINK-USDT</code></li>
<li>Bybit: <code>LINK-USDT</code></li>
<li>CoinbasePro: <code>LINK-USD</code></li>
<li>Huobi: <code>LINK-USDT</code></li>
<li>Kraken: <code>LINK-USD</code></li>
<li>KuCoin: <code>LINK-USDT</code></li>
<li>MEXC: <code>LINK-USDT</code></li>
<li>OKX: <code>LINK-USDT</code></li>
</ul>
<h4 id='aave-usd'>AAVE-USD</h4>
<ul>
<li>Binance: <code>AAVE-USDT</code></li>
<li>Bybit: <code>AAVE-USDT</code></li>
<li>CoinbasePro: <code>AAVE-USD</code></li>
<li>Huobi: <code>AAVE-USDT</code></li>
<li>Kraken: <code>AAVE-USD</code></li>
<li>KuCoin: <code>AAVE-USDT</code></li>
<li>MEXC: <code>AAVE-USDT</code></li>
<li>OKX: <code>AAVE-USDT</code></li>
</ul>
<h4 id='uni-usd'>UNI-USD</h4>
<ul>
<li>Binance: <code>UNI-USDT</code></li>
<li>Bybit: <code>UNI-USDT</code></li>
<li>CoinbasePro: <code>UNI-USD</code></li>
<li>Gate: <code>UNI-USDT</code></li>
<li>Huobi: <code>UNI-USDT</code></li>
<li>Kraken: <code>UNI-USD</code></li>
<li>MEXC: <code>UNI-USDT</code></li>
<li>OKX: <code>UNI-USDT</code></li>
</ul>
<h4 id='sushi-usd'>SUSHI-USD</h4>
<ul>
<li>Binance: <code>SUSHI-USDT</code></li>
<li>Bybit: <code>SUSHI-USDT</code></li>
<li>CoinbasePro: <code>SUSHI-USD</code></li>
<li>Gate: <code>SUSHI-USDT</code></li>
<li>Huobi: <code>SUSHI-USDT</code></li>
<li>Kraken: <code>SUSHI-USD</code></li>
<li>KuCoin: <code>SUSHI-USDT</code></li>
<li>MEXC: <code>SUSHI-USDT</code></li>
<li>OKX: <code>SUSHI-USDT</code></li>
</ul>
<h4 id='sol-usd'>SOL-USD</h4>
<ul>
<li>Binance: <code>SOL-USDT</code></li>
<li>Bybit: <code>SOL-USDT</code></li>
<li>CoinbasePro: <code>SOL-USD</code></li>
<li>Huobi: <code>SOL-USDT</code></li>
<li>Kraken: <code>SOL-USD</code></li>
<li>KuCoin: <code>SOL-USDT</code></li>
<li>MEXC: <code>SOL-USDT</code></li>
<li>OKX: <code>SOL-USDT</code></li>
</ul>
<h4 id='yfi-usd'>YFI-USD</h4>
<ul>
<li>Binance: <code>YFI-USDT</code></li>
<li>Bybit: <code>YFI-USDT</code></li>
<li>CoinbasePro: <code>YFI-USD</code></li>
<li>Gate: <code>YFI-USDT</code></li>
<li>Huobi: <code>YFI-USDT</code></li>
<li>Kraken: <code>YFI-USD</code></li>
<li>MEXC: <code>YFI-USDT</code></li>
<li>OKX: <code>YFI-USDT</code></li>
</ul>
<h4 id='1inch-usd'>1INCH-USD</h4>
<ul>
<li>Binance: <code>1INCH-USDT</code></li>
<li>Bybit: <code>1INCH-USDT</code></li>
<li>CoinbasePro: <code>1INCH-USD</code></li>
<li>Gate: <code>1INCH-USDT</code></li>
<li>Huobi: <code>1INCH-USDT</code></li>
<li>KuCoin: <code>1INCH-USDT</code></li>
<li>MEXC: <code>1INCH-USDT</code></li>
<li>OKX: <code>1INCH-USDT</code></li>
</ul>
<h4 id='avax-usd'>AVAX-USD</h4>
<ul>
<li>Binance: <code>AVAX-USDT</code></li>
<li>Bybit: <code>AVAX-USDT</code></li>
<li>Coinbase: <code>AVAX-USD</code></li>
<li>Gate: <code>AVAX-USDT</code></li>
<li>Huobi: <code>AVAX-USDT</code></li>
<li>Kraken: <code>AVAX-USD</code></li>
<li>KuCoin: <code>AVAX-USDT</code></li>
<li>OKX: <code>AVAX-USDT</code></li>
</ul>
<h4 id='snx-usd'>SNX-USD</h4>
<ul>
<li>Binance: <code>SNX-USDT</code></li>
<li>Bybit: <code>SNX-USDT</code></li>
<li>CoinbasePro: <code>SNX-USD</code></li>
<li>Gate: <code>SNX-USDT</code></li>
<li>Huobi: <code>SNX-USDT</code></li>
<li>Kraken: <code>SNX-USD</code></li>
<li>Kucoin: <code>SNX-USDT</code></li>
<li>MEXC: <code>SNX-USDT</code></li>
<li>OKX: <code>SNX-USDT</code></li>
</ul>
<h4 id='crv-usd'>CRV-USD</h4>
<ul>
<li>Binance: <code>CRV-USDT</code></li>
<li>Bybit: <code>CRV-USDT</code></li>
<li>CoinbasePro: <code>CRV-USD</code></li>
<li>Gate: <code>CRV-USDT</code></li>
<li>Huobi: <code>CRV-USDT</code></li>
<li>Kraken: <code>CRV-USD</code></li>
<li>Kucoin: <code>CRV-USDT</code></li>
<li>MEXC: <code>CRV-USDT</code></li>
<li>OKX: <code>CRV-USDT</code></li>
</ul>
<h4 id='uma-usd'>UMA-USD</h4>
<ul>
<li>Binance: <code>UMA-USDT</code></li>
<li>Bybit: <code>UMA-USDT</code></li>
<li>CoinbasePro: <code>UMA-USD</code></li>
<li>Gate: <code>UMA-USDT</code></li>
<li>Huobi: <code>UMA-USDT</code></li>
<li>KuCoin: <code>UMA-USDT</code></li>
<li>MEXC: <code>UMA-USDT</code></li>
<li>OKX: <code>UMA-USDT</code></li>
</ul>
<h4 id='dot-usd'>DOT-USD</h4>
<ul>
<li>Binance: <code>DOT-USDT</code></li>
<li>Bybit: <code>DOT-USDT</code></li>
<li>Coinbase: <code>DOT-USD</code></li>
<li>Gate: <code>DOT-USDT</code></li>
<li>Huobi: <code>DOT-USDT</code></li>
<li>Kraken: <code>DOT-USD</code></li>
<li>KuCoin: <code>DOT-USDT</code></li>
<li>OKX: <code>DOT-USDT</code></li>
</ul>
<h4 id='doge-usd'>DOGE-USD</h4>
<ul>
<li>Binance: <code>DOGE-USDT</code></li>
<li>Bybit: <code>DOGE-USDT</code></li>
<li>Coinbase: <code>DOGE-USD</code></li>
<li>Gate: <code>DOGE-USDT</code></li>
<li>Huobi: <code>DOGE-USDT</code></li>
<li>Kraken: <code>DOGE-USD</code></li>
<li>KuCoin: <code>DOGE-USDT</code></li>
<li>OKX: <code>DOGE-USDT</code></li>
</ul>
<h4 id='matic-usd'>MATIC-USD</h4>
<ul>
<li>Binance: <code>MATIC-USDT</code></li>
<li>Bybit: <code>MATIC-USDT</code></li>
<li>CoinbasePro: <code>MATIC-USD</code></li>
<li>Gate: <code>MATIC-USDT</code></li>
<li>Huobi: <code>MATIC-USDT</code></li>
<li>Kraken: <code>MATIC-USD</code></li>
<li>KuCoin: <code>MATIC-USDT</code></li>
<li>OKX: <code>MATIC-USDT</code></li>
</ul>
<h4 id='mkr-usd'>MKR-USD</h4>
<ul>
<li>Binance: <code>MKR-USDT</code></li>
<li>Bybit: <code>MKR-USDT</code></li>
<li>CoinbasePro: <code>MKR-USD</code></li>
<li>Gate: <code>MKR-USDT</code></li>
<li>Huobi: <code>MKR-USDT</code></li>
<li>Kraken: <code>MKR-USD</code></li>
<li>KuCoin: <code>MKR-USDT</code></li>
<li>OKX: <code>MKR-USDT</code></li>
</ul>
<h4 id='fil-usd'>FIL-USD</h4>
<ul>
<li>Binance: <code>FIL-USDT</code></li>
<li>Bybit: <code>FIL-USDT</code></li>
<li>CoinbasePro: <code>FIL-USD</code></li>
<li>Gate: <code>FIL-USDT</code></li>
<li>Huobi: <code>FIL-USDT</code></li>
<li>Kraken: <code>FIL-USD</code></li>
<li>KuCoin: <code>FIL-USDT</code></li>
<li>OKX: <code>FIL-USDT</code></li>
</ul>
<h4 id='ada-usd'>ADA-USD</h4>
<ul>
<li>Binance: <code>ADA-USDT</code></li>
<li>Bybit: <code>ADA-USDT</code></li>
<li>CoinbasePro: <code>ADA-USD</code></li>
<li>Gate: <code>ADA-USDT</code></li>
<li>Huobi: <code>ADA-USDT</code></li>
<li>Kraken: <code>ADA-USD</code></li>
<li>KuCoin: <code>ADA-USDT</code></li>
<li>OKX: <code>ADA-USDT</code></li>
</ul>
<h4 id='atom-usd'>ATOM-USD</h4>
<ul>
<li>Binance: <code>ATOM-USDT</code></li>
<li>ByBit: <code>ATOM-USDT</code></li>
<li>CoinbasePro: <code>ATOM-USD</code></li>
<li>Huobi: <code>ATOM-USDT</code></li>
<li>Kraken: <code>ATOM-USD</code></li>
<li>KuCoin: <code>ATOM-USDT</code></li>
<li>MEXC: <code>ATOM-USDT</code></li>
<li>OKX: <code>ATOM-USDT</code></li>
</ul>
<h4 id='comp-usd'>COMP-USD</h4>
<ul>
<li>Binance: <code>COMP-USDT</code></li>
<li>ByBit: <code>COMP-USDT</code></li>
<li>CoinbasePro: <code>COMP-USD</code></li>
<li>Huobi: <code>COMP-USDT</code></li>
<li>Kraken: <code>COMP-USD</code></li>
<li>KuCoin: <code>COMP-USDT</code></li>
<li>MEXC: <code>COMP-USDT</code></li>
<li>OKX: <code>COMP-USDT</code></li>
</ul>
<h4 id='bch-usd'>BCH-USD</h4>
<ul>
<li>Binance: <code>BCH-USDT</code></li>
<li>Bybit: <code>BCH-USDT</code></li>
<li>CoinbasePro: <code>BCH-USD</code></li>
<li>Huobi: <code>BCH-USDT</code></li>
<li>Kraken: <code>BCH-USD</code></li>
<li>KuCoin: <code>BCH-USDT</code></li>
<li>MEXC: <code>BCH-USDT</code></li>
<li>OKX: <code>BCH-USDT</code></li>
</ul>
<h4 id='ltc-usd'>LTC-USD</h4>
<ul>
<li>Binance: <code>LTC-USDT</code></li>
<li>ByBit: <code>LTC-USDT</code></li>
<li>CoinbasePro: <code>LTC-USD</code></li>
<li>Huobi: <code>LTC-USDT</code></li>
<li>Kraken: <code>LTC-USD</code></li>
<li>KuCoin: <code>LTC-USDT</code></li>
<li>MEXC: <code>LTC-USDT</code></li>
<li>OKX: <code>LTC-USDT</code></li>
</ul>
<h4 id='eos-usd'>EOS-USD</h4>
<ul>
<li>Binance: <code>EOS-USDT</code></li>
<li>Bybit: <code>EOS-USDT</code></li>
<li>CoinbasePro: <code>EOS-USD</code></li>
<li>Huobi: <code>EOS-USDT</code></li>
<li>Kraken: <code>EOS-USD</code></li>
<li>KuCoin: <code>EOS-USDT</code></li>
<li>MEXC: <code>EOS-USDT</code></li>
<li>OKX: <code>EOS-USDT</code></li>
</ul>
<h4 id='algo-usd'>ALGO-USD</h4>
<ul>
<li>Binance: <code>ALGO-USDT</code></li>
<li>Bybit: <code>ALGO-USDT</code></li>
<li>CoinbasePro: <code>ALGO-USD</code></li>
<li>Gate: <code>ALGO-USDT</code></li>
<li>Huobi: <code>ALGO-USDT</code></li>
<li>Kraken: <code>ALGO-USD</code></li>
<li>KuCoin: <code>ALGO-USDT</code></li>
<li>OKX: <code>ALGO-USDT</code></li>
</ul>
<h4 id='zrx-usd'>ZRX-USD</h4>
<ul>
<li>Binance: <code>ZRX-USDT</code></li>
<li>Bybit: <code>ZRX-USDT</code></li>
<li>CoinbasePro: <code>ZRX-USD</code></li>
<li>Gate: <code>ZRX-USDT</code></li>
<li>Huobi: <code>ZRX-USDT</code></li>
<li>Kraken: <code>ZRX-USD</code></li>
<li>MEXC: <code>ZRX-USDT</code></li>
<li>OKX: <code>ZRX-USDT</code></li>
</ul>
<h4 id='xmr-usd'>XMR-USD</h4>
<ul>
<li>Gate: <code>XMR-USDT</code></li>
<li>Huobi: <code>XMR-USDT</code></li>
<li>Kraken: <code>XMR-USD</code></li>
<li>KuCoin: <code>XMR-USDT</code></li>
<li>MEXC: <code>XMR-USDT</code></li>
</ul>
<h4 id='zec-usd'>ZEC-USD</h4>
<ul>
<li>Binance: <code>ZEC-USDT</code></li>
<li>CoinbasePro: <code>ZEC-USD</code></li>
<li>Gate: <code>ZEC-USDT</code></li>
<li>HTX: <code>ZEC-USDT</code></li>
<li>Kraken: <code>ZEC-USD</code></li>
<li>KuCoin: <code>ZEC-USDT</code></li>
<li>MEXC: <code>ZEC-USDT</code></li>
</ul>
<h4 id='enj-usd'>ENJ-USD</h4>
<ul>
<li>Binance: <code>ENJ-USDT</code></li>
<li>CoinbasePro: <code>ENJ-USD</code></li>
<li>Gate: <code>ENJ-USDT</code></li>
<li>Huobi: <code>ENJ-USDT</code></li>
<li>Kraken: <code>ENJ-USD</code></li>
<li>MEXC: <code>ENJ-USDT</code></li>
</ul>
<h4 id='etc-usd'>ETC-USD</h4>
<ul>
<li>Binance: <code>ETC-USDT</code></li>
<li>Bybit: <code>ETC-USDT</code></li>
<li>CoinbasePro: <code>ETC-USD</code></li>
<li>Gate: <code>ETC-USDT</code></li>
<li>Huobi: <code>ETC-USDT</code></li>
<li>Kraken: <code>ETC-USD</code></li>
<li>KuCoin: <code>ETC-USDT</code></li>
<li>OKX: <code>ETC-USDT</code></li>
</ul>
<h4 id='xlm-usd'>XLM-USD</h4>
<ul>
<li>Binance: <code>XLM-USDT</code></li>
<li>Bybit: <code>XLM-USDT</code></li>
<li>CoinbasePro: <code>XLM-USD</code></li>
<li>Gate: <code>XLM-USDT</code></li>
<li>Kraken: <code>XLM-USD</code></li>
<li>KuCoin: <code>XLM-USDT</code></li>
<li>OKX: <code>XLM-USDT</code></li>
</ul>
<h4 id='trx-usd'>TRX-USD</h4>
<ul>
<li>Binance: <code>TRX-USDT</code></li>
<li>Bybit: <code>TRX-USDT</code></li>
<li>Gate: <code>TRX-USDT</code></li>
<li>Huobi: <code>TRX-USDT</code></li>
<li>KuCoin: <code>TRX-USDT</code></li>
<li>MEXC: <code>TRX-USDT</code></li>
<li>OKX: <code>TRX-USDT</code></li>
</ul>
<h4 id='xtz-usd'>XTZ-USD</h4>
<ul>
<li>Binance: <code>XTZ-USDT</code></li>
<li>Bybit: <code>XTZ-USDT</code></li>
<li>CoinbasePro: <code>XTZ-USD</code></li>
<li>Gate: <code>XTZ-USDT</code></li>
<li>Huobi: <code>XTZ-USDT</code></li>
<li>Kraken: <code>XTZ-USD</code></li>
<li>KuCoin: <code>XTZ-USDT</code></li>
<li>OKX: <code>XTZ-USDT</code></li>
</ul>
<h4 id='icp-usd'>ICP-USD</h4>
<ul>
<li>Binance: <code>ICP-USDT</code></li>
<li>Bybit: <code>ICP-USDT</code></li>
<li>CoinbasePro: <code>ICP-USD</code></li>
<li>Gate: <code>ICP-USDT</code></li>
<li>Huobi: <code>ICP-USDT</code></li>
<li>KuCoin: <code>ICP-USDT</code></li>
<li>OKX: <code>ICP-USDT</code></li>
</ul>
<h4 id='rune-usd'>RUNE-USD</h4>
<ul>
<li>Binance: <code>RUNE-USDT</code></li>
<li>Bybit: <code>RUNE-USDT</code></li>
<li>Bitget: <code>RUNE-USDT</code></li>
<li>Gate: <code>RUNE-USDT</code></li>
<li>Kraken: <code>RUNE-USD</code></li>
<li>KuCoin: <code>RUNE-USDT</code></li>
</ul>
<h4 id='near-usd'>NEAR-USD</h4>
<ul>
<li>Binance: <code>NEAR-USDT</code></li>
<li>ByBit: <code>NEAR-USDT</code></li>
<li>CoinbasePro <code>NEAR-USD</code></li>
<li>Gate: <code>NEAR-USDT</code></li>
<li>Huobi: <code>NEAR-USDT</code></li>
<li>KuCoin: <code>NEAR-USDT</code></li>
<li>OKX: <code>NEAR-USDT</code></li>
</ul>
<h4 id='celo-usd'>CELO-USD</h4>
<ul>
<li>Binance: <code>CELO-USDT</code></li>
<li>Bybit: <code>CELO-USDT</code></li>
<li>CoinbasePro: <code>CELO-USD</code></li>
<li>Gate: <code>CELO-USDT</code></li>
<li>KuCoin: <code>CELO-USDT</code></li>
<li>MEXC: <code>CELO-USDT</code></li>
<li>OKX: <code>CELO-USDT</code></li>
</ul>
<h1 id='clients'>Clients</h1>
<p>Python and TypeScript clients are available, allowing programmatic usage of dYdX.</p>
<h2 id='python-client'>Python Client</h2><h3 id='installation'>Installation</h3>
<p>Install <code>dydx-v3-python</code> from <a href="https://pypi.org/project/dydx-v3-python">PyPI</a> using <code>pip</code>:</p>

<pre class="center-column">
pip install dydx-v3-python
</pre>
<h3 id='usage'>Usage</h3>
<p>See <a href="https://github.com/dydxprotocol/dydx-v3-python">dydxprotocol/dydx-v3-python</a>.</p>

<p>See the <a href="https://github.com/dydxprotocol/dydx-v3-python/tree/master/examples">examples</a> folder for simple python examples.</p>
<h2 id='typescript-client'>TypeScript Client</h2><h3 id='installation-2'>Installation</h3>
<p>Install <code>@dydxprotocol/v3-client</code> from <a href="https://www.npmjs.com/package/@dydxprotocol/v3-client">NPM</a>:</p>

<pre class="center-column">
npm i -s @dydxprotocol/v3-client
</pre>
<h3 id='usage-2'>Usage</h3>
<p>See <a href="https://github.com/dydxprotocol/v3-client">dydxprotocol/v3-client</a>.</p>

<p>See the <a href="https://github.com/dydxprotocol/v3-client/tree/master/examples">examples</a> folder for simple typescript examples.</p>
<h2 id='client-initialization'>Client Initialization</h2>
<blockquote>
<p>Initialize</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span>
    <span class="n">host</span><span class="o">=</span><span class="s">'https://api.dydx.exchange'</span><span class="p">,</span>
    <span class="n">web3</span><span class="o">=</span><span class="n">Web3</span><span class="p">(</span><span class="s">'...'</span><span class="p">),</span>
    <span class="n">stark_private_key</span><span class="o">=</span><span class="s">'01234abcd...'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">client</span><span class="p">:</span> <span class="nx">DydxClient</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">(</span>
    <span class="dl">'</span><span class="s1">host</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="na">apiTimeout</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
        <span class="na">starkPrivateKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">01234abcd...</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">);</span>
</code></pre></div>
<p>The client is organized into modules, based on the type of authentication needed for different requests. The configuration options passed into the client determine which modules are available. See <a href="#authentication">Authentication</a> for more information.</p>

<aside class="notice">
Multiple methods of authorization are available, so users never need to provide private keys directly to the client, if so desired. Ethereum signatures are needed only for onboarding and managing API keys, not trading, and may be provided via a web3 provider. STARK key signatures are required for trading, and the STARK key can be held either in the client or elsewhere.
</aside>

<table><thead>
<tr>
<th>Module</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>public</td>
<td>Public API endpoints. Does not require authentication.</td>
</tr>
<tr>
<td>onboarding</td>
<td>Endpoint to create a new user, authenticated via Ethereum key.</td>
</tr>
<tr>
<td>api_keys</td>
<td>Endpoints for managing API keys, authenticated via Ethereum key.</td>
</tr>
<tr>
<td>private</td>
<td>All other private endpoints, authenticated via API key.</td>
</tr>
<tr>
<td>eth</td>
<td>Calling and querying L1 Ethereum smart contracts.</td>
</tr>
</tbody></table>

<p>The following configuration options are available:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>host</td>
<td>The HTTP API host.</td>
</tr>
<tr>
<td>api_timeout</td>
<td>Timeout for HTTP requests, in milliseconds.</td>
</tr>
<tr>
<td>default_ethereum_address</td>
<td>(Optional) The default account for Ethereum key auth and sending Ethereum transactions.</td>
</tr>
<tr>
<td>eth_private_key</td>
<td>(Optional) May be used for Ethereum key auth.</td>
</tr>
<tr>
<td>eth_send_options</td>
<td>(Optional) Options for Ethereum transactions, see <a href="https://web3py.readthedocs.io/en/stable/web3.eth.html?highlight=signTransaction#web3.eth.Eth.sendTransaction"><code>sendTransaction</code></a>.</td>
</tr>
<tr>
<td>network_id</td>
<td>(Optional) Chain ID for Ethereum key auth and smart contract addresses. Defaults to <code>web3.net.version</code> if available, or <code>1</code> (mainnet).</td>
</tr>
<tr>
<td>stark_private_key</td>
<td>(Optional) STARK private key, used to sign orders and withdrawals.</td>
</tr>
<tr>
<td>web3</td>
<td>(Optional) Web3 object used for Ethereum key auth and/or smart contract interactions.</td>
</tr>
<tr>
<td>web3_account</td>
<td>(Optional) May be used for Ethereum key auth.</td>
</tr>
<tr>
<td>web3_provider</td>
<td>(Optional) Web3 provider object, same usage as <code>web3</code>.</td>
</tr>
<tr>
<td>api_key_credentials</td>
<td>(Optional) Dictionary containing the key, secret and passphrase required for the private module to sign requests.</td>
</tr>
<tr>
<td>crypto_c_exports_path</td>
<td>(Optional) For python only, will use faster C++ code to run hashing, signing and verifying. It&#39;s expected to be compiled from the <code>crypto_c_exports</code> target from Starkware&#39;s <a href="https://github.com/starkware-libs/crypto-cpp/blob/master/src/starkware/crypto/ffi/CMakeLists.txt">repository</a>. See <a href="#c-methods-for-faster-stark-signing">section on this below for more information</a>.</td>
</tr>
</tbody></table>
<h3 id='c-methods-for-faster-stark-signing'>C++ Methods for Faster STARK Signing</h3>
<aside class="notice">
This optimization is only available for the Python client currently.
</aside>

<p>The C++ wrapper methods in the client expect an absolute path to a <a href="https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html">Shared Object</a>. This has to be compiled from <a href="https://github.com/starkware-libs/crypto-cpp/blob/master/src/starkware/crypto/ffi/CMakeLists.txt">Starkware&#39;s crypto C++ library</a>.</p>
<h1 id='private-http-api'>Private HTTP API</h1><h2 id='authentication'>Authentication</h2>
<p>There are three levels of authentication to be considered when using dYdX. All signing can be handled directly by the client libraries.</p>
<h3 id='ethereum-key-authentication'>Ethereum Key Authentication</h3>
<p>The highest level of authentication is via an account&#39;s Ethereum private key. The Ethereum key remains in control of an account&#39;s funds while they are within the L2 system. This includes the ability to forcibly close an account&#39;s positions and exit the system, in the event that the L2 operators (dYdX and Starkware) were to unexpectedly go offline or otherwise censor requests.</p>

<p>Ethereum key authentication is required for the following operations:</p>

<ul>
<li>Register a new user or STARK key</li>
<li>Create or revoke API keys</li>
<li>Request a forced withdrawal or forced trade</li>
</ul>
<h3 id='stark-key-authentication'>STARK Key Authentication</h3>
<p>Within the L2 system, authentication is handled by a separate key pair, known as the account&#39;s STARK key pair.</p>

<p>STARK key authentication is required for the following operations:</p>

<ul>
<li>Place an order</li>
<li>Withdraw funds</li>
</ul>
<h3 id='api-key-authentication'>API Key Authentication</h3>
<p>The third level of authentication consists of the API key, secret and passphrase which are used solely to authenticate API requests made to dYdX. This includes operations such as canceling orders or retrieving an account&#39;s fills, which do not affect the L2 system.</p>

<p>When a user onboards via <code>POST v3/onboarding</code>, the server will use the signature as a seed to determinstically generate default API key credentials. An API key includes three fields:</p>

<ul>
<li><code>key</code>: UUID identifying the credentials.</li>
<li><code>secret</code>: Secret string used to generate HMACs, not sent with requests.</li>
<li><code>passphrase</code>: Secret string sent with each request, used to encrypt/decrypt the secret in our DB, and never stored in our DB.</li>
</ul>

<p>API keys can be added and managed via the <code>/v3/api-keys</code> endpoints.</p>

<p>All requests which are not signed by an Ethereum key and which are made to private endpoints require an API key signature.</p>
<h3 id='stark-key-cryptography'>STARK Key Cryptography</h3>
<p>The STARK and API keys are ECDSA key pairs on the <a href="https://docs.starkware.co/starkex-docs/crypto/stark-curve">STARK curve</a>. More info on the cryptography used on L2 is available in <a href="https://docs.starkware.co/starkex-docs/crypto/signatures">Starkware&#39;s documentation</a>.</p>
<h2 id='creating-and-signing-requests'>Creating and Signing Requests</h2>
<aside class="success">
Note that the Python and TypeScript clients can generate all required signatures.
</aside>

<p>Within the private HTTP API, there are three groups of endpoints which each require different headers and authentication.</p>

<p>(Separately, and in addition to the above, STARK signatures are required for orders and withdrawals. For details, please refer to the <a href="https://github.com/dydxprotocol/dydx-v3-python/tree/master/dydx3/starkex">Python</a> and <a href="https://github.com/dydxprotocol/starkex-lib/tree/master/src/signable">TypeScript</a> reference implementations.)</p>
<h3 id='onboarding-endpoint-post-v3-onboarding'>Onboarding Endpoint: <code>POST v3/onboarding</code></h3>
<p><strong>Request Headers</strong></p>

<table><thead>
<tr>
<th>Header</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>DYDX-SIGNATURE</td>
<td>yes</td>
<td>Ethereum key authentication</td>
</tr>
<tr>
<td>DYDX-ETHEREUM-ADDRESS</td>
<td>yes</td>
<td>Ethereum address of the user</td>
</tr>
</tbody></table>

<p><strong>Signing</strong></p>

<p>The header <code>DYDX-SIGNATURE</code> is an EIP-712 Ethereum signature on a static message containing the fields:</p>

<ul>
<li><code>action</code>: The string <code>DYDX-ONBOARDING</code>.</li>
<li><code>onlySignOn</code>: The string <code>https://trade.dydx.exchange</code>.</li>
</ul>

<p>See reference implementations: <a href="https://github.com/dydxprotocol/dydx-v3-python/blob/master/dydx3/modules/onboarding.py">[Python]</a> <a href="https://github.com/dydxprotocol/v3-client/blob/master/src/modules/onboarding.ts">[TypeScript]</a></p>
<h3 id='ethereum-key-private-endpoints'>Ethereum Key Private Endpoints</h3>
<p>This group includes the <code>POST</code> and <code>DELETE</code> <code>v3/api-keys</code> endpoints for managing API keys. Like the onboarding endpoint, requests to these endpoints require signatures by the user&#39;s Ethereum key. </p>

<p><strong>Request Headers</strong></p>

<table><thead>
<tr>
<th>Header</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>DYDX-SIGNATURE</td>
<td>yes</td>
<td>Ethereum key authentication</td>
</tr>
<tr>
<td>DYDX-ETHEREUM-ADDRESS</td>
<td>yes</td>
<td>Ethereum address of the user</td>
</tr>
<tr>
<td>DYDX-TIMESTAMP</td>
<td>yes</td>
<td>ISO timestamp of when the request was signed. Must be within 30 seconds of the server time.</td>
</tr>
</tbody></table>

<p><strong>Signing</strong></p>

<p>The header <code>DYDX-SIGNATURE</code> is an EIP-712-compliant Ethereum signature on a message containing the fields:</p>

<ul>
<li><code>method</code>: The name of the HTTP method used, uppercase (e.g. <code>GET</code>).</li>
<li><code>requestPath</code>: The API endpoint path, beginning with <code>/v3/</code>.</li>
<li><code>body</code>: The HTTP request body (normally empty for <code>GET</code> and <code>DELETE</code>).</li>
<li><code>timestamp</code>: Equal to the header <code>DYDX-TIMESTAMP</code>.</li>
</ul>

<p>See reference implementations: <a href="https://github.com/dydxprotocol/dydx-v3-python/blob/master/dydx3/modules/api_keys.py">[Python]</a> <a href="https://github.com/dydxprotocol/v3-client/blob/master/src/modules/keys.ts">[TypeScript]</a></p>
<h3 id='api-key-private-endpoints'>API Key Private Endpoints</h3>
<p>All private endpoints not listed above fall in this category, and must be authenticated via an API key.</p>

<p><strong>Request Headers</strong></p>

<table><thead>
<tr>
<th>Header</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>DYDX-SIGNATURE</td>
<td>yes</td>
<td>HMAC of the request.</td>
</tr>
<tr>
<td>DYDX-API-KEY</td>
<td>yes</td>
<td>Api key for the account.</td>
</tr>
<tr>
<td>DYDX-TIMESTAMP</td>
<td>yes</td>
<td>ISO timestamp of when the request was signed. Must be within 30 seconds of the server time.</td>
</tr>
<tr>
<td>DYDX-PASSPHRASE</td>
<td>yes</td>
<td>The <code>passphrase</code> field of the API key.</td>
</tr>
<tr>
<td>DYDX-ACCOUNT-NUMBER</td>
<td>no</td>
<td>Account number used to scope the request. Defaults to zero.</td>
</tr>
</tbody></table>

<p><strong>Signing</strong></p>

<p>The <code>DYDX-SIGNATURE</code> is a SHA-256 HMAC produced as described below, and encoded as a <code>Base64</code> string.</p>

<p>A SHA-256 HMAC is created using the API key <code>secret</code> and the message <code>timestamp + method + requestPath + body</code> defined as follows:</p>

<ul>
<li><code>timestamp</code>: The <code>DYDX-TIMESTAMP</code> header, which must be within 30 seconds of the server time.</li>
<li><code>method</code>: The name of the HTTP method used, uppercase (e.g. <code>GET</code>).</li>
<li><code>requestPath</code>: The API endpoint path, beginning with <code>/v3/</code>.</li>
<li><code>body</code>: The HTTP request body (normally empty for <code>GET</code> and <code>DELETE</code>).</li>
</ul>

<p>The HMAC should be encoded as a Base64 string and sent as the <code>DYDX-SIGNATURE</code> header.</p>

<p>See reference implementations: <a href="https://github.com/dydxprotocol/dydx-v3-python/blob/master/dydx3/modules/private.py">[Python]</a> <a href="https://github.com/dydxprotocol/v3-client/blob/master/src/modules/private.ts">[TypeScript]</a></p>
<h2 id='onboarding'>Onboarding</h2><h3 id='overview'>Overview</h3>
<p>A few steps are required of all accounts before they can begin trading:</p>

<ol>
<li><a href="#onboarding">Create a user</a>, providing a STARK public key to be associated with the main account.</li>
<li><a href="#get-registration">Request registration</a> signature from dYdX.</li>
<li>Send registration request to the L1 smart contract.</li>
<li>Approve collateral token allowance on the L1 smart contract.</li>
<li>Deposit collateral token to the L1 smart contract.</li>
</ol>

<p>All of these steps are supported by the Python and TypeScript clients. See the Python <a href="https://github.com/dydxprotocol/dydx-v3-python/blob/master/integration_tests/test_integration.py">integration tests</a> for an example of onboarding and usage of various endpoints.</p>

<blockquote>
<p>Create User</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">onboarding_information</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">onboarding</span><span class="p">.</span><span class="n">create_user</span><span class="p">(</span>
  <span class="c1"># Optional if stark_private_key was provided.
</span>  <span class="n">stark_public_key</span><span class="o">=</span><span class="s">'012340bcd...'</span><span class="p">,</span>
  <span class="n">stark_public_key_y_coordinate</span><span class="o">=</span><span class="s">'01234abcd...'</span><span class="p">,</span>
  <span class="c1"># Optional if eth_private_key or web3.eth.defaultAccount was provided.
</span>  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'ethereumAddress'</span><span class="p">,</span>
  <span class="n">country</span><span class="o">=</span><span class="s">'SG'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">onboardingInformation</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">apiKey</span><span class="p">:</span> <span class="nx">ApiKeyCredentials</span><span class="p">,</span>
  <span class="nx">user</span><span class="p">:</span> <span class="nx">UserResponseObject</span><span class="p">,</span>
  <span class="nx">account</span><span class="p">:</span> <span class="nx">AccountResponseObject</span><span class="p">,</span>
<span class="p">}</span>  <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">onboarding</span><span class="p">.</span><span class="nx">createUser</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">starkKey</span><span class="p">:</span> <span class="dl">'</span><span class="s1">71234abcd...</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">starkKeyYCoordinate</span><span class="p">:</span> <span class="dl">'</span><span class="s1">01234abcd...</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">country</span><span class="p">:</span> <span class="dl">'</span><span class="s1">SG</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="nx">ethereumAddress</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ethereumAddress</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"290decd9-548b-62a8-d603-45a988386fc8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passphrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S6a8lUhACPY2L5MWDvPl"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KQ3s2VSLYqjWA0WpiDhvyEumvJVIQAj2Ni-TFg7z"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ethereumAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isRegistered"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@dydx.exchange"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supersam15o"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"referredByAffiliateLink"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerVolume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerVolume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fees30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.50"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userData"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"dydxTokenBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stakedDydxTokenBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isEmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isSharingUsername"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isSharingAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SG"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1812"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"freeCollateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingWithdrawals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-09T21:08:34.984Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openPositions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unrealizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netFunding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>POST v3/onboarding</code></p>

<aside class="warning">
Programmatic users of the API must take care to store private STARK and API keys securely. dYdX does not store any private keys. Using the default key generation methods (such as `derive_stark_key`) ensures keys can be easily recovered by Ethereum key holder. If you generate your STARK key through other means, you must be careful not to lose it, or your funds may be inaccessible for a period of time.
</aside>

<p>Description: Onboard a user so they can begin using dYdX V3 API. This will generate a user, account and derive a key, passphrase and secret from the signature.</p>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>starkKey</td>
<td>Public starkKey associated with the key-pair you created.</td>
</tr>
<tr>
<td>starkKeyYCoordinate</td>
<td>Public starkKey Y-Coordinate associated with the key-pair you created.</td>
</tr>
<tr>
<td>ethereumAddress</td>
<td>Ethereum address associated with the user being created.</td>
</tr>
<tr>
<td>referredByAffiliateLink</td>
<td>(Optional) Link to affiliate the user was referred by.</td>
</tr>
<tr>
<td>country</td>
<td>(Optional) Country of the user&#39;s residence. Must be <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 Alpha-2</a> compliant.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiKey</td>
<td>See <a href="#post-api-keys">ApiKeyCredentials</a>.</td>
</tr>
<tr>
<td>user</td>
<td>See <a href="#get-user">User</a>.</td>
</tr>
<tr>
<td>account</td>
<td>See <a href="#get-account">Account</a>.</td>
</tr>
</tbody></table>
<h2 id='derive-starkkey'>Derive StarkKey</h2>
<blockquote>
<p>Derive StarkKey</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">key_pair_with_y_coordinate</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">onboarding</span><span class="p">.</span><span class="n">derive_stark_key</span><span class="p">(</span>
  <span class="c1"># Optional if eth_private_key or web3.eth.defaultAccount was provided.
</span>  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'ethereumAddress'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">keyPairWithYCoordinate</span><span class="p">:</span> <span class="nx">KeyPairWithYCoordinate</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">onboarding</span><span class="p">.</span><span class="nx">deriveStarkKey</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">ethereumAddress</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div>
<aside class="success">
This method does not access the dYdX API. This is used by the frontend app to derive the STARK key pair in a way that is recoverable. Programmatic traders may optionally derive their STARK key pair in the same way.
</aside>
<h3 id='request-2'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ethereumAddress</td>
<td>Ethereum address associated with the user being created.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>keyPairWithYCoordinate</td>
<td>KeyPairWithYCoordinate.</td>
</tr>
</tbody></table>
<h3 id='keypairwithycoordinate'>KeyPairWithYCoordinate</h3>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>publicKey</td>
<td>string</td>
<td>The x-coordinate of the publicKey.</td>
</tr>
<tr>
<td>publicKeyYCoordinate</td>
<td>string</td>
<td>The y-coordinate of the publicKey.</td>
</tr>
<tr>
<td>privateKey</td>
<td>string</td>
<td>The privateKey for the key pair.</td>
</tr>
</tbody></table>
<h2 id='recover-default-api-credentials'>Recover Default API Credentials</h2>
<blockquote>
<p>Recover Default API Credentials</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">api_credentials</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">onboarding</span><span class="p">.</span><span class="n">recover_default_api_key_credentials</span><span class="p">(</span>
  <span class="c1"># Optional if eth_private_key or web3.eth.defaultAccount was provided.
</span>  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'ethereumAddress'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">apiCredentials</span><span class="p">:</span> <span class="nx">ApiKeyCredentials</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">onboarding</span><span class="p">.</span><span class="nx">recoverDefaultApiCredentials</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">ethereumAddress</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div>
<aside class="success">
This method does not access the dYdX API. This can be used to recover the default API key credentials, which are
the same set of credentials used in the dYdX frontend.
</aside>
<h3 id='request-3'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ethereumAddress</td>
<td>Ethereum address associated with the user being created.</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiCredentials</td>
<td>ApiKeyCredentials.</td>
</tr>
</tbody></table>
<h3 id='apikeycredentials'>ApiKeyCredentials</h3>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>key</td>
<td>string</td>
<td>UUID identifying the credentials.</td>
</tr>
<tr>
<td>secret</td>
<td>string</td>
<td>Secret string used to generate HMACs.</td>
</tr>
<tr>
<td>passphrase</td>
<td>string</td>
<td>Secret string sent with each request.</td>
</tr>
</tbody></table>
<h2 id='recover-starkkey-quotebalance-and-open-positions'>Recover StarkKey, QuoteBalance and Open Positions</h2>
<blockquote>
<p>Recovery</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">recovery</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">eth_private</span><span class="p">.</span><span class="n">recovery</span><span class="p">(</span>
  <span class="c1"># Optional if eth_private_key or web3.eth.defaultAccount was provided.
</span>  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'ethereumAddress'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">recovery</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">starkKey</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="nx">positionId</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="nx">quoteBalance</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
  <span class="nx">positions</span><span class="p">:</span> <span class="nx">PositionResponseObject</span><span class="p">[],</span>
<span class="p">}</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ethPrivate</span><span class="p">.</span><span class="nx">recovery</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">ethereumAddress</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1812"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"freeCollateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unrealizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"netFunding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET v3/recovery</code></p>

<p>Description: This is for if you can&#39;t recover your starkKey or apiKey and need an additional way to get your starkKey and balance on our exchange, both of which are needed to call the L1 solidity function needed to recover your funds.</p>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>starkKey</td>
<td>Public starkKey associated with the key-pair you created.</td>
</tr>
<tr>
<td>positionId</td>
<td>Starkware-specific positionId.</td>
</tr>
<tr>
<td>equity</td>
<td>The amount of equity (value) in the account. Uses balances and oracle-prices to calculate.</td>
</tr>
<tr>
<td>freeCollateral</td>
<td>The amount of collateral that is withdrawable from the account.</td>
</tr>
<tr>
<td>quoteBalance</td>
<td>Human readable quote token balance. Can be negative.</td>
</tr>
<tr>
<td>positions</td>
<td>See <a href="#get-positions">Positions</a>. Note, only open position are returned.</td>
</tr>
</tbody></table>
<h2 id='get-registration'>Get Registration</h2>
<blockquote>
<p>Get Registration</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">signature</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_registration</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">signature</span><span class="p">:</span> <span class="p">{</span> <span class="nl">signature</span><span class="p">:</span> <span class="kr">string</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getRegistration</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET v3/registration</code></p>

<p>Description: Gets the dYdX provided Ethereum signature required to send a registration transaction to the Starkware smart contract.</p>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signature</td>
<td>Ethereum signature authorizing the user&#39;s Ethereum address to register for the corresponding position id.</td>
</tr>
</tbody></table>
<h2 id='register-api-key'>Register API Key</h2>
<blockquote>
<p>Register API Key</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">api_key_response</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">eth_private</span><span class="p">.</span><span class="n">create_api_key</span><span class="p">(</span>
  <span class="c1"># Optional if eth_private_key or web3.eth.defaultAccount was provided.
</span>  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'0x0123...'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">apiKey</span><span class="p">:</span> <span class="p">{</span> <span class="nl">apiKey</span><span class="p">:</span> <span class="nx">ApiKeyCredentials</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ethPrivate</span><span class="p">.</span><span class="nx">createApiKey</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">0x0123...</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"290decd9-548b-62a8-d603-45a988386fc8"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"passphrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"S6a8lUhACPY2L5MWDvPl"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"secret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KQ3s2VSLYqjWA0WpiDhvyEumvJVIQAj2Ni-TFg7z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST v3/api-keys</code></p>

<p>Description: Create new API key credentials for a user.
Limit: 20 API keys per user.</p>
<h3 id='response-6'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiKey</td>
<td><a href="#apikeycredentials">ApiKeyCredentials</a>.</td>
</tr>
</tbody></table>
<h2 id='get-api-keys'>Get API Keys</h2>
<blockquote>
<p>Get API Keys</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">api_keys</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_api_keys</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">apiKeys</span><span class="p">:</span> <span class="p">{</span> <span class="nl">keys</span><span class="p">:</span> <span class="kr">string</span><span class="p">[]</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getApiKeys</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"apiKeys"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"290decd9-548b-62a8-d603-45a988386fc8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"390decd9-548b-62a8-d603-45a988386fc8"</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET v3/api-keys</code></p>

<p>Description: Get all api keys associated with an Ethereum address.</p>

<aside class="warning">
Note that this endpoint is in the private module, unlike the methods to create or revoke API keys.
</aside>
<h3 id='response-7'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiKeys</td>
<td>Array of apiKey strings corresponding to the ethereumAddress in the request.</td>
</tr>
</tbody></table>
<h2 id='delete-api-key'>Delete API Key</h2>
<blockquote>
<p>Delete API Key</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">client</span><span class="p">.</span><span class="n">eth_private</span><span class="p">.</span><span class="n">delete_api_key</span><span class="p">(</span>
  <span class="n">api_key</span><span class="o">=</span><span class="s">'290decd9-548b-...'</span><span class="p">,</span>
  <span class="c1"># Optional if eth_private_key or web3.eth.defaultAccount was provided.
</span>  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'0x0123...'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">ethPrivate</span><span class="p">.</span><span class="nx">delete_api_key</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">290decd9-548b-...</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// API key</span>
  <span class="dl">'</span><span class="s1">0x0123...</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Ethereum address</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-6'>HTTP Request</h3>
<p><code>DELETE v3/api-keys</code></p>

<p>Description: Delete an api key by key and Ethereum address.</p>

<aside class="warning">
Deleting your API keys may cause you to be locked out of your account. dYdX will only prevent deleting your last API Key. Proceed with caution when using this endpoint.
</aside>
<h3 id='request-4'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiKey</td>
<td>Public api key being deleted.</td>
</tr>
<tr>
<td>ethereumAdddress</td>
<td>Ethereum address the api key is associated with.</td>
</tr>
</tbody></table>
<h3 id='response-8'>Response</h3>
<p>Returns a 200 on success.</p>
<h2 id='get-user'>Get User</h2>
<blockquote>
<p>Get User</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">user</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_user</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">user</span><span class="p">:</span> <span class="p">{</span> <span class="nl">user</span><span class="p">:</span> <span class="nx">UserResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getUser</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ethereumAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isRegistered"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@dydx.exchange"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supersam15o"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"referredByAffiliateLink"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerVolume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerVolume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fees30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.50"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userData"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"dydxTokenBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stakedDydxTokenBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isEmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hedgiesHeld"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">],</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"languageCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"zh-CN"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET v3/users</code></p>

<p>Description: return the user and user information.</p>
<h3 id='response-9'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ethereumAddress</td>
<td>The 20-byte Ethereum address.</td>
</tr>
<tr>
<td>isRegistered</td>
<td>True if the user is registered on the starkware smart contract. This is false otherwise.</td>
</tr>
<tr>
<td>email</td>
<td>Email address.</td>
</tr>
<tr>
<td>username</td>
<td>User defined username.</td>
</tr>
<tr>
<td>referredByAffiliateLink</td>
<td>The affiliate link that referred this user, or null if the user was not referred.</td>
</tr>
<tr>
<td>makerFeeRate</td>
<td>The fee rate the user would be willing to take as the maker. Fee rates are rounded to a 100th of a basis point, or 0.0001%. Note, 1% would be represented as 0.01.</td>
</tr>
<tr>
<td>takerFeeRate</td>
<td>The fee rate the user would be willing to take as the taker. Fee rates are rounded to a 100th of a basis point, or 0.0001%. Note, 1% would be represented as 0.01.</td>
</tr>
<tr>
<td>makerVolume30D</td>
<td>The user&#39;s trailing-thirty-day maker volume in USD.</td>
</tr>
<tr>
<td>takerVolume30D</td>
<td>The user&#39;s trailing-thirty-day taker volume in USD.</td>
</tr>
<tr>
<td>fees30D</td>
<td>The user&#39;s trailing-thirty-day fees in USD.</td>
</tr>
<tr>
<td>userData</td>
<td>The user&#39;s unstructured user data.</td>
</tr>
<tr>
<td>dydxTokenBalance</td>
<td>The user&#39;s DYDX token holdings.</td>
</tr>
<tr>
<td>stakedDydxTokenBalance</td>
<td>The user&#39;s staked DYDX token holdings</td>
</tr>
<tr>
<td>isEmailVerified</td>
<td>If the user&#39;s email address is verified to receive emails from dYdX.</td>
</tr>
<tr>
<td>hedgiesHeld</td>
<td>Indices of all Hedgies held by the user.</td>
</tr>
<tr>
<td>country</td>
<td>Country of the user&#39;s residence. Must be <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 Alpha-2</a> compliant.</td>
</tr>
<tr>
<td>languageCode</td>
<td>The user&#39;s preferred language. Must be <a href="https://en.wikipedia.org/wiki/ISO_639-1">ISO 639-1</a> compliant, including &#39;zh-CN&#39;.</td>
</tr>
</tbody></table>
<h2 id='update-user'>Update User</h2>
<blockquote>
<p>Update user</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">user</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">update_user</span><span class="p">(</span>
  <span class="n">user_data</span><span class="o">=</span><span class="p">{},</span>
  <span class="n">email</span><span class="o">=</span><span class="s">'user@example.com'</span><span class="p">,</span>
  <span class="n">username</span><span class="o">=</span><span class="s">'username'</span><span class="p">,</span>
  <span class="n">is_sharing_email</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
  <span class="n">is_sharing_address</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
  <span class="n">country</span><span class="o">=</span><span class="s">'SG'</span><span class="p">,</span>
  <span class="n">language_code</span><span class="o">=</span><span class="s">'en'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">user</span><span class="p">:</span> <span class="p">{</span> <span class="nl">user</span><span class="p">:</span> <span class="nx">UserResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">updateUser</span><span class="p">({</span>
  <span class="na">email</span><span class="p">:</span> <span class="dl">'</span><span class="s1">user@example.com</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">username</span><span class="p">:</span> <span class="dl">'</span><span class="s1">username</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">isSharingEmail</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">isSharingAddress</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">userData</span><span class="p">:</span> <span class="p">{},</span>
  <span class="na">country</span><span class="p">:</span> <span class="dl">'</span><span class="s1">SG</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">languageCode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">en</span><span class="dl">'</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ethereumAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isRegistered"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@dydx.exchange"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"supersam15o"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"referredByAffiliateLink"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerFeeRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"makerVolume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"takerVolume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000.00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fees30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00.50"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userData"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="nl">"dydxTokenBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stakedDydxTokenBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"isEmailVerified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SG"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"languageCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-8'>HTTP Request</h3>
<p><code>PUT v3/users</code></p>

<p>Description: Update user information and return the updated user.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userData</td>
<td>User metadata in a JSON blob.</td>
</tr>
<tr>
<td>email</td>
<td>(Optional) Email to be used with the user.</td>
</tr>
<tr>
<td>username</td>
<td>(Optional) Username to be used for the user.</td>
</tr>
<tr>
<td>isSharingUsername</td>
<td>(Optional) Share username publically on leaderboard rankings.</td>
</tr>
<tr>
<td>isSharingAddress</td>
<td>(Optional) Share ETH address publically on leaderboard rankings.</td>
</tr>
<tr>
<td>country</td>
<td>(Optional) Country of the user&#39;s residence. Must be <a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 Alpha-2</a> compliant.</td>
</tr>
<tr>
<td>languageCode</td>
<td>(Optional) The user&#39;s preferred language. Must be <a href="https://en.wikipedia.org/wiki/ISO_639-1">ISO 639-1</a> compliant, including &#39;zh-CN&#39;.</td>
</tr>
</tbody></table>
<h3 id='response-10'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>See <a href="#get-user">User</a>.</td>
</tr>
</tbody></table>
<h2 id='get-user-active-links'>Get User Active Links</h2>
<blockquote>
<p>Get User Active Links</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">links</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_user_links</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">userLinks</span><span class="p">:</span> <span class="nx">UserLinksResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getUserLinks</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"userType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SECONDARY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"primaryAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"secondaryAddresses"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET v3/users/links</code></p>

<p>Description: return active user links.</p>
<h3 id='response-11'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userType</td>
<td><code>PRIMARY</code>, <code>SECONDARY</code>, or null if no active links.</td>
</tr>
<tr>
<td>primaryAddress</td>
<td>Address of the <code>PRIMARY</code> user if <code>userType = SECONDARY</code>. null otherwise.</td>
</tr>
<tr>
<td>linkedAddresses</td>
<td>Addresses of the <code>SECONDARY</code> users if <code>userType = PRIMARY</code>. null otherwise.</td>
</tr>
</tbody></table>
<h2 id='send-user-link-request'>Send User Link Request</h2>
<blockquote>
<p>Send User Link Request</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">pending_links</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">send_link_request</span><span class="p">(</span><span class="s">'CREATE_SECONDARY_REQUEST'</span><span class="p">,</span> <span class="s">'0x0913017c740260fea4b2c62828a4008ca8b0d6e4'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">res</span><span class="p">:</span> <span class="p">{}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">sendLinkRequest</span><span class="p">({</span>
  <span class="na">action</span><span class="p">:</span> <span class="nx">LinkAction</span><span class="p">.</span><span class="nx">REMOVE</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0x0913017c740260fea4b2c62828a4008ca8b0d6e4</span><span class="dl">"</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre></div><h3 id='http-request-10'>HTTP Request</h3>
<p><code>POST v3/users/links</code></p>

<p>Description: Send a new request to link users, respond to a pending request, or remove a link.</p>

<p>All DYDX rewards will be calculated and distributed to the primary address following the current rewards formulas.</p>

<p>For trading rewards, all formula terms will be summed and aggregated across linked addresses, including fees paid, open interest, and stkDYDX.
For liquidity provider rewards, all formula terms will be summed and aggregated across linked addresses, including depth/score score, stkDYDX, and maker volume. For each market, the max uptime across linked addresses will be used.</p>
<h3 id='request-5'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>action</td>
<td><code>CREATE_SECONDARY_REQUEST</code>, <code>DELETE_SECONDARY_REQUEST</code>, <code>ACCEPT_PRIMARY_REQUEST</code>, <code>REJECT_PRIMARY_REQUEST</code>, or <code>REMOVE</code>.</td>
</tr>
<tr>
<td>address</td>
<td>Address that the link is with (should not be your own).</td>
</tr>
</tbody></table>
<h3 id='response-12'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>{}</td>
<td>Empty object upon success.</td>
</tr>
</tbody></table>
<h3 id='link-actions'>Link Actions</h3>
<table><thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>CREATE_SECONDARY_REQUEST</code></td>
<td>Create a pending link request for the address to become <code>SECONDARY</code>, and your address to become <code>PRIMARY</code>. Request will be rejected if either address is already linked.</td>
</tr>
<tr>
<td><code>DELETE_SECONDARY_REQUEST</code></td>
<td>Delete an outgoing link request from your address.</td>
</tr>
<tr>
<td><code>ACCEPT_PRIMARY_REQUEST</code></td>
<td>Accept a pending link request for your address to become <code>SECONDARY</code> and their address to become <code>PRIMARY</code>.</td>
</tr>
<tr>
<td><code>REJECT_PRIMARY_REQUEST</code></td>
<td>Reject an incoming pending link request.</td>
</tr>
<tr>
<td><code>REMOVE</code></td>
<td>Remove an active link between your address and the other&#39;s.</td>
</tr>
</tbody></table>
<h2 id='get-user-pending-link-requests'>Get User Pending Link Requests</h2>
<blockquote>
<p>Get User Pending Link Requests</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">pending_links</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_user_pending_link_requests</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">userPendingLinks</span><span class="p">:</span> <span class="nx">UserLinkRequestsResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getUserPendingLinkRequests</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"userType"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"outgoingRequests"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="nl">"incomingRequests"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"primaryAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x99b0599952a4fd2d1a1561fa4c010827ead30354"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"secondaryAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET v3/users/links/requests</code></p>

<p>Description: return pending user links.</p>
<h3 id='response-13'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userType</td>
<td><code>PRIMARY</code>, <code>SECONDARY</code>, or null if no active links.</td>
</tr>
<tr>
<td>outgoingRequests</td>
<td>Outgoing requests for another user to be linked as <code>SECONDARY</code> to this user. null if <code>userType = SECONDARY</code>.</td>
</tr>
<tr>
<td>incomingRequests</td>
<td>Incoming requests for this user to be linked as <code>SECONDARY</code> to another user. null if <code>userType != null</code>.</td>
</tr>
</tbody></table>
<h2 id='create-an-account'>Create An Account</h2>
<blockquote>
<p>Create Account</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">create_account</span><span class="p">(</span>
  <span class="n">stark_public_key</span><span class="o">=</span><span class="s">'701234abcd...'</span><span class="p">,</span>
  <span class="n">stark_public_key_y_coordinate</span><span class="o">=</span><span class="s">'1234abcd...'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">account</span><span class="p">:</span> <span class="p">{</span> <span class="nl">account</span><span class="p">:</span> <span class="nx">AccountResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">createAccount</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">701234abcd...</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// starkKey</span>
  <span class="dl">'</span><span class="s1">1234abcd...</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// starkKeyYCoordinate</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1812"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"freeCollateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingWithdrawals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-09T21:08:34.984Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openPositions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unrealizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netFunding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<aside class="warning">
An account will be created automatically during onboarding so this call is not necessary to get started.
</aside>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>POST v3/accounts</code></p>

<p>Description: Create an account with a given starkKey.</p>
<h3 id='request-6'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>starkKey</td>
<td>Public starkKey associated with the key-pair you created.</td>
</tr>
<tr>
<td>starkKeyYCoordinate</td>
<td>Public starkKey Y-Coordinate associated with the key-pair you created.</td>
</tr>
</tbody></table>
<h3 id='response-14'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account</td>
<td>See <a href="#get-account">Account</a>.</td>
</tr>
</tbody></table>
<h2 id='get-account'>Get Account</h2>
<blockquote>
<p>Get Account</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">account</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_account</span><span class="p">(</span>
  <span class="c1"># Optional if eth_private_key or web3.eth.defaultAccount was provided.
</span>  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'0x0123...'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">account</span><span class="p">:</span> <span class="p">{</span> <span class="nl">account</span><span class="p">:</span> <span class="nx">AccountResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getAccount</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">0x0123...</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1812"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"freeCollateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingWithdrawals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-09T21:08:34.984Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openPositions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unrealizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netFunding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-13'>HTTP Request</h3>
<p><code>GET v3/accounts/:id</code></p>

<p>Description: Get an account for a user by id. Using the client, the id will be generated with client
information and an Ethereum address.</p>
<h3 id='request-7'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ethereumAddress</td>
<td>Ethereum address associated with an account.</td>
</tr>
</tbody></table>
<h3 id='response-15'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>starkKey</td>
<td>Public StarkKey associated with an account.</td>
</tr>
<tr>
<td>positionId</td>
<td>Starkware-specific positionId.</td>
</tr>
<tr>
<td>equity</td>
<td>The amount of equity (value) in the account. Uses balances and oracle-prices to calculate.</td>
</tr>
<tr>
<td>freeCollateral</td>
<td>The amount of collateral that is withdrawable from the account.</td>
</tr>
<tr>
<td>quoteBalance</td>
<td>Human readable quote token balance. Can be negative.</td>
</tr>
<tr>
<td>pendingDeposits</td>
<td>The sum amount of all pending deposits.</td>
</tr>
<tr>
<td>pendingWithdrawals</td>
<td>The sum amount of all pending withdrawal requests.</td>
</tr>
<tr>
<td>createdAt</td>
<td>When the account was first created in UTC.</td>
</tr>
<tr>
<td>openPositions</td>
<td>See <a href="#get-positions">Positions</a>. Note, markets where the user has no position are not returned in the map.</td>
</tr>
<tr>
<td>accountNumber</td>
<td>Unique accountNumber for the account.</td>
</tr>
<tr>
<td>id</td>
<td>Unique id of the account hashed from the userId and the accountNumber.</td>
</tr>
</tbody></table>
<h2 id='get-account-leaderboard-pnls'>Get Account Leaderboard PNLs</h2>
<blockquote>
<p>Get Account Leaderboard PNLs</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">account</span><span class="p">:</span> <span class="p">{</span> <span class="nl">accountPnls</span><span class="p">:</span> <span class="nx">AccountLeaderboardPnlResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getAccountLeaderboardPnl</span><span class="p">(</span>
  <span class="nx">period</span><span class="o">=</span><span class="nx">LeaderboardPnlPeriod</span><span class="p">.</span><span class="nx">DAILY</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"absolutePnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"percentPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"absoluteRank"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"percentRank"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"endsAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-10T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-02T22:53:45.659Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRONZE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"seasonExpectedOutcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROMOTION"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"seasonNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hedgieWon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"prizeWon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET v3/accounts/leaderboard-pnl/:period</code></p>

<p>Description: Get an account&#39;s personal leaderboard pnls.</p>
<h3 id='request-8'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>period</td>
<td>&quot;DAILY&quot;, &quot;WEEKLY&quot;, &quot;MONTHLY&quot;, &quot;ALLTIME&quot;, &quot;COMPETITION&quot;, &quot;DAILY_COMPETITION&quot;, or &quot;LEAGUES&quot;.</td>
</tr>
<tr>
<td>startingBeforeOrAt</td>
<td>(Optional) Latest the leaderboard starts at.</td>
</tr>
</tbody></table>
<h3 id='response-16'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>absolutePnl</td>
<td>The account&#39;s latest updated absolute PNL.</td>
</tr>
<tr>
<td>percentPnl</td>
<td>The account&#39;s latest updated percent PNL.</td>
</tr>
<tr>
<td>absoluteRank</td>
<td>User&#39;s absolute PNL rank. <code>null</code> if not ranked.</td>
</tr>
<tr>
<td>percentRank</td>
<td>User&#39;s percent PNL rank. <code>null</code> if not ranked.</td>
</tr>
<tr>
<td>startedAt</td>
<td>Starting time for this pnl. Note: will only be set if being used for a competition or leagues. Otherwise, this value will always be <code>null</code>.</td>
</tr>
<tr>
<td>endsAt</td>
<td>Ending time for this pnl. Note: will only be set if being used for a competition or leagues. Otherwise, this value will always be <code>null</code>. (Can be a future time.)</td>
</tr>
<tr>
<td>updatedAt</td>
<td>When these leaderboard PNLs were last updated.</td>
</tr>
<tr>
<td>accountId</td>
<td>The account the PNLs are for.</td>
</tr>
<tr>
<td>period</td>
<td>&quot;DAILY&quot;, &quot;WEEKLY&quot;, &quot;MONTHLY&quot;, &quot;ALLTIME&quot;, &quot;COMPETITION&quot;, &quot;BRONZE&quot;, &quot;SILVER&quot;, &quot;GOLD&quot;, &quot;PLATINUM&quot;, &quot;DIAMOND&quot;.</td>
</tr>
<tr>
<td>seasonExpectedOutcome</td>
<td>User&#39;s expected outcome of latest season. &quot;PROMOTION&quot;, &quot;DEMOTION&quot;, or &quot;SAME_LEAGUE&quot;. <code>null</code> if not &quot;LEAGUES&quot;.</td>
</tr>
<tr>
<td>seasonNumber</td>
<td>Leagues season number. Starts at 1. <code>null</code> if not &quot;LEAGUES&quot;.</td>
</tr>
<tr>
<td>hedgieWon</td>
<td>Index of hedgie won. <code>null</code> if no hedgie won.</td>
</tr>
<tr>
<td>prizeWon</td>
<td>Amount of cash prize won in dollars. <code>null</code> if no prize won.</td>
</tr>
</tbody></table>
<h2 id='get-account-historical-leaderboard-pnls'>Get Account Historical Leaderboard PNLs</h2>
<blockquote>
<p>Get Account Historical Leaderboard PNLs</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">historical_leaderboard_pnls</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_historical_leaderboard_pnls</span><span class="p">(</span><span class="s">"LEAGUES"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">historicalLeaderboardPnls</span><span class="p">:</span> <span class="nx">HistoricalLeaderboardPnlsResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getAccountHistoricalLeaderboardPnl</span><span class="p">(</span>
  <span class="nx">period</span><span class="o">=</span><span class="nx">AccountLeaderboardPnlPeriod</span><span class="p">.</span><span class="nx">DAILY</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"leaderboardPnls"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"absolutePnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.000000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"absoluteRank"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentRank"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"endsAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-10T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-02T22:53:45.659Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BRONZE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seasonOutcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PROMOTION"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seasonNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hedgieWon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prizeWon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET v3/accounts/historical-leaderboard-pnls/:period</code></p>

<p>Description: Get an account&#39;s historical leaderboard pnls.</p>
<h3 id='request-9'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>period</td>
<td>Leaderboard period. &quot;LEAGUES&quot;, &quot;DAILY&quot;, or &quot;DAILY_COMPETITION&quot;.</td>
</tr>
<tr>
<td>limit</td>
<td>Integer between 1 to 10, which indicates the number of most recent leaderboard pnls to be returned. By default this value will be 10.</td>
</tr>
</tbody></table>
<h3 id='response-17'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>leaderboardPnls</td>
<td>Array of &quot;LeaderboardPnl&quot; from oldest to most recent. See &quot;LeaderboardPnl&quot; below.</td>
</tr>
</tbody></table>
<h3 id='leaderboardpnl'>LeaderboardPnl</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>absolutePnl</td>
<td>The account&#39;s latest updated absolute PNL.</td>
</tr>
<tr>
<td>percentPnl</td>
<td>The account&#39;s latest updated percent PNL.</td>
</tr>
<tr>
<td>absoluteRank</td>
<td>User&#39;s absolute PNL rank. <code>null</code> if not ranked.</td>
</tr>
<tr>
<td>percentRank</td>
<td>User&#39;s percent PNL rank. <code>null</code> if not ranked.</td>
</tr>
<tr>
<td>startedAt</td>
<td>Starting time for this pnl. Note: will only be set if being used for a competition or leagues. Otherwise, this value will always be <code>null</code>.</td>
</tr>
<tr>
<td>endsAt</td>
<td>Ending time for this pnl. Note: will only be set if being used for a competition or leagues. Otherwise, this value will always be <code>null</code>. (Can be a future time.)</td>
</tr>
<tr>
<td>updatedAt</td>
<td>When these leaderboard PNLs were last updated.</td>
</tr>
<tr>
<td>accountId</td>
<td>The account the PNLs are for.</td>
</tr>
<tr>
<td>period</td>
<td>Leaderboard period. &quot;LEAGUES&quot;, &quot;DAILY&quot;, or &quot;DAILY_COMPETITION&quot;.</td>
</tr>
<tr>
<td>seasonExpectedOutcome</td>
<td>User&#39;s expected outcome of latest season. &quot;PROMOTION&quot;, &quot;DEMOTION&quot;, or &quot;SAME_LEAGUE&quot;. <code>null</code> if not &quot;LEAGUES&quot;.</td>
</tr>
<tr>
<td>seasonNumber</td>
<td>Leagues season number. Starts at 1. <code>null</code> if not &quot;LEAGUES&quot;.</td>
</tr>
<tr>
<td>hedgieWon</td>
<td>Index of hedgie won. <code>null</code> if no hedgie won.</td>
</tr>
<tr>
<td>prizeWon</td>
<td>Amount of cash prize won in dollars. <code>null</code> if no prize won.</td>
</tr>
</tbody></table>
<h2 id='get-accounts'>Get Accounts</h2>
<blockquote>
<p>Get Account</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">accounts</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_accounts</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">accounts</span><span class="p">:</span> <span class="p">{</span> <span class="nl">accounts</span><span class="p">:</span> <span class="nx">AccountResponseObject</span><span class="p">[]</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getAccounts</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w"> </span><span class="nl">"accounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1812"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"freeCollateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pendingWithdrawals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-09T21:08:34.984Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openPositions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unrealizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"netFunding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET v3/accounts</code></p>

<p>Description: Get all accounts for a user.</p>
<h3 id='response-18'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accounts</td>
<td>See <a href="#get-account">Account</a>. Returns an array of Accounts.</td>
</tr>
</tbody></table>
<h2 id='get-positions'>Get Positions</h2>
<blockquote>
<p>Get Positions</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">POSITION_STATUS_OPEN</span>

<span class="n">all_positions</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_positions</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">status</span><span class="o">=</span><span class="n">POSITION_STATUS_OPEN</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">positions</span><span class="p">:</span> <span class="p">{</span> <span class="nl">positions</span><span class="p">:</span> <span class="nx">PositionResponseObject</span><span class="p">[]</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getPositions</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="nx">PositionStatus</span><span class="p">.</span><span class="nx">OPEN</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"unrealizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"netFunding"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1050"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-17'>HTTP Request</h3>
<p><code>GET v3/positions</code></p>

<p>Description: Get all current positions for a user by specified query parameters.</p>

<p>For each market, a position is created with <code>status=OPEN</code>. A position is set to <code>status=CLOSED</code> when it goes to market-neutral (i.e. <code>size=0</code>). On a per-market basis, there should be at most one <code>status=OPEN</code> position at any given time.</p>
<h3 id='request-10'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>(Optional) Market of the position.</td>
</tr>
<tr>
<td>status</td>
<td>(Optional) Status of the position. Can be <code>OPEN</code>, <code>CLOSED</code> or <code>LIQUIDATED</code>.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional) The maximum number of positions that can be fetched via this request. Note, this cannot be greater than 100.</td>
</tr>
<tr>
<td>createdBeforeOrAt</td>
<td>(Optional) Set a date by which the positions had to be created.</td>
</tr>
</tbody></table>
<h3 id='response-19'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>The market of the position.</td>
</tr>
<tr>
<td>status</td>
<td>The status of the position.</td>
</tr>
<tr>
<td>side</td>
<td>The side of the position. <code>LONG</code> or <code>SHORT</code>.</td>
</tr>
<tr>
<td>size</td>
<td>The current size of the position. Positive if long, negative if short, 0 if closed.</td>
</tr>
<tr>
<td>maxSize</td>
<td>The maximum (absolute value) size of the position. Positive if long, negative if short.</td>
</tr>
<tr>
<td>entryPrice</td>
<td>Average price paid to enter the position.</td>
</tr>
<tr>
<td>exitPrice</td>
<td>Average price paid to exit the position.</td>
</tr>
<tr>
<td>unrealizedPnl</td>
<td>The unrealized pnl of the position in quote currency using the market&#39;s <a href="#index-price-sources">index-price</a> for the position to calculate.</td>
</tr>
<tr>
<td>realizedPnl</td>
<td>The realized pnl of the position in quote currency.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Timestamp of when the position was opened.</td>
</tr>
<tr>
<td>closedAt</td>
<td>Timestamp of when the position was closed.</td>
</tr>
<tr>
<td>netFunding</td>
<td>Sum of all funding payments for this position.</td>
</tr>
<tr>
<td>sumOpen</td>
<td>Sum of all trades sizes that increased the size of this position.</td>
</tr>
<tr>
<td>sumClose</td>
<td>Sum of all trades sizes that decreased the size of this position.</td>
</tr>
</tbody></table>
<h2 id='get-transfers'>Get Transfers</h2>
<blockquote>
<p>Get Transfers</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ACCOUNT_ACTION_DEPOSIT</span>

<span class="n">transfers</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_transfers</span><span class="p">(</span>
  <span class="n">transfer_type</span><span class="o">=</span><span class="n">ACCOUNT_ACTION_DEPOSIT</span><span class="p">,</span>
  <span class="n">limit</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">transfers</span><span class="p">:</span> <span class="p">{</span> <span class="nl">transfers</span><span class="p">:</span> <span class="nx">TransferResponseObject</span><span class="p">[]</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getTransfers</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">AccountAction</span><span class="p">.</span><span class="nx">DEPOSIT</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPOSIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"debitAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"debitAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2800"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hash"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-18'>HTTP Request</h3>
<p><code>GET v3/transfers</code></p>

<p>Description: Get transfers for a user, limited by query parameters.</p>
<h3 id='request-11'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transferType</td>
<td>(Optional) Type of the transfer. Can be <code>DEPOSIT</code>, <code>WITHDRAWAL</code> or <code>FAST_WITHDRAWAL</code>.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional) The maximum number of transfers that can be fetched via this request. Note, this cannot be greater than 100.</td>
</tr>
<tr>
<td>createdBeforeOrAt</td>
<td>Latest that the transfers could have been created.</td>
</tr>
</tbody></table>
<h3 id='response-20'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique id assigned by dYdX.</td>
</tr>
<tr>
<td>type</td>
<td>Type of the transfer. Will be <code>DEPOSIT</code>, <code>WITHDRAWAL</code> or <code>FAST_WITHDRAWAL</code>.</td>
</tr>
<tr>
<td>debitAsset</td>
<td>Asset that was debited (USDC, USDT, USD, etc).</td>
</tr>
<tr>
<td>creditAsset</td>
<td>Asset that was credited (USDC, USDT, USD, etc).</td>
</tr>
<tr>
<td>debitAmount</td>
<td>Amount that was sent in for the deposit in debitAsset.</td>
</tr>
<tr>
<td>creditAmount</td>
<td>Amount that was credited to the account in creditAsset.</td>
</tr>
<tr>
<td>transactionHash</td>
<td>Ethereum transaction hash of the transfer.</td>
</tr>
<tr>
<td>status</td>
<td>Status of the transfer. Will be <code>PENDING</code> or <code>CONFIRMED</code>.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Timestamp when created.</td>
</tr>
<tr>
<td>confirmedAt</td>
<td>Timestamp when confirmed.</td>
</tr>
<tr>
<td>clientId</td>
<td>ClientId of transfer.</td>
</tr>
<tr>
<td>fromAddress</td>
<td>The Ethereum address the transfer is from.</td>
</tr>
<tr>
<td>toAddress</td>
<td>The Ethereum address the transfer is for.</td>
</tr>
</tbody></table>
<h2 id='fast-vs-slow-withdrawal'>Fast vs. Slow Withdrawal</h2>
<p>The normal process for withdrawing from L2 to L1 requires waiting for a block of L2 transactions to be collected, and the zero-knowledge proof for the block to be constructed and verified on-chain.</p>

<p>Using the fast withdrawal process, users can get their funds on L1 much faster by essentially trading their L2 funds to an “LP” account operated by dYdX, in order to receive immediate liquidity on L1. Since the LP must then recycle these funds from L2 to L1 via the regular withdrawal process, dYdX is only able to process a certain volume of fast withdrawals within a given period of time.</p>
<h2 id='create-withdrawal'>Create Withdrawal</h2>
<blockquote>
<p>Create Withdrawal</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ASSET_USDC</span>

<span class="n">withdrawal</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">create_withdrawal</span><span class="p">(</span>
  <span class="n">position_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="c1"># required for creating the withdrawal signature
</span>  <span class="n">amount</span><span class="o">=</span><span class="s">'100'</span><span class="p">,</span>
  <span class="n">asset</span><span class="o">=</span><span class="n">ASSET_USDC</span><span class="p">,</span>
  <span class="n">expiration_epoch_seconds</span><span class="o">=</span><span class="mi">1613988637</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">withdrawal</span><span class="p">:</span> <span class="p">{</span> <span class="nl">withdrawal</span><span class="p">:</span> <span class="nx">TransferResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">createWithdrawal</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">amount</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">asset</span><span class="p">:</span> <span class="nx">Asset</span><span class="p">.</span><span class="nx">USDC</span><span class="p">,</span>
    <span class="na">expiration</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2020-12-28T22:49:31.588Z</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// positionId required for creating the withdrawal signature</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"withdrawal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WITHDRAWAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"debitAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"debitAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2800"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hash"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-19'>HTTP Request</h3>
<p><code>POST v3/withdrawals</code></p>

<p>Description: Create a withdrawal from an account.</p>

<aside class="notice">
If not withdrawing the entirety of your balance, there is a minimum withdrawal amount. Currently that amount is 100 USDC.
</aside>

<p>An additional L1 transaction has to be sent to the Starkware contract to retrieve funds after a slow withdrawal. This cannot be done until the zero-knowledge proof for the block has been constructed and verified on-chain. For the L1 transaction, the Ethereum address that the starkKey is registered to must call either the <a href="https://github.com/dydxprotocol/starkex-eth/blob/master/src/contracts/starkware-perpetual-abi.json#L1802">withdraw</a> or <a href="https://github.com/dydxprotocol/starkex-eth/blob/master/src/contracts/starkware-perpetual-abi.json#L1907">withdrawTo</a> smart-contract functions. The contract ABI is not tied to a particular client but can be accessed via a <a href="https://github.com/dydxprotocol/starkex-eth">client</a>. All withdrawable funds are withdrawn at once.</p>

<p>Both Layer 1 withdrawal methods can be accessed from <a href="https://github.com/dydxprotocol/starkex-eth/blob/master/src/modules/Exchange.ts">starkex-eth</a>.</p>
<h3 id='request-12'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>Amount to be withdrawn.</td>
</tr>
<tr>
<td>asset</td>
<td>Asset being withdrawn. Can currently only be <code>USDC</code>.</td>
</tr>
<tr>
<td>expiration</td>
<td>Datetime at which the withdrawal expires if it has not been completed. Expiration must be at least seven days in the future.</td>
</tr>
<tr>
<td>clientId</td>
<td>Unique id of the client associated with the withdrawal. Must be &lt;= 40 characters. When using the client, if not included, will be randomly generated by the client.</td>
</tr>
<tr>
<td>signature</td>
<td>The signature for the withdrawal, signed with the account&#39;s STARK private key. When using the client, if not included, will be done by the client. For more information see <a href="#creating-and-signing-requests">above</a>.</td>
</tr>
</tbody></table>
<h3 id='response-21'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>withdrawal</td>
<td>See <a href="#get-transfers">Transfers</a>.</td>
</tr>
</tbody></table>
<h2 id='create-fast-withdrawal'>Create Fast Withdrawal</h2>
<blockquote>
<p>Create Fast Withdrawal</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ASSET_USDC</span>

<span class="n">fast_withdrawal</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">create_fast_withdrawal</span><span class="p">(</span>
  <span class="n">position_id</span><span class="o">=</span><span class="s">'1'</span><span class="p">,</span> <span class="c1"># required for creating the fast-withdrawal signature
</span>  <span class="n">credit_asset</span><span class="o">=</span><span class="n">ASSET_USDC</span><span class="p">,</span>
  <span class="n">credit_amount</span><span class="o">=</span><span class="s">'100'</span><span class="p">,</span>
  <span class="n">debit_amount</span><span class="o">=</span><span class="s">'110'</span><span class="p">,</span>
  <span class="n">to_address</span><span class="o">=</span><span class="s">'0x98ab...'</span><span class="p">,</span>
  <span class="n">lp_position_id</span><span class="o">=</span><span class="s">'2'</span><span class="p">,</span>
  <span class="n">expiration_epoch_seconds</span><span class="o">=</span><span class="mi">1613988637</span><span class="p">,</span>
  <span class="n">signature</span><span class="o">=</span><span class="s">'0abc12...'</span><span class="p">,</span>  <span class="c1"># Optional if stark_private_key was provided to client.
</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">fastWithdrawal</span><span class="p">:</span> <span class="p">{</span> <span class="nl">withdrawal</span><span class="p">:</span> <span class="nx">TransferResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">createFastWithdrawal</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">creditAsset</span><span class="p">:</span> <span class="nx">Asset</span><span class="p">.</span><span class="nx">USDC</span><span class="p">,</span>
    <span class="na">creditAmount</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">debitAmount</span><span class="p">:</span> <span class="dl">'</span><span class="s1">110</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">toAddress</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0x98ab...</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">lpPositionId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">clientId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">client</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">signature</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0abc12...</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// Optional if starkPrivateKey was provided to client.</span>
  <span class="p">},</span>
  <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// positionId required for creating the fast-withdrawal signature</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"withdrawal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAST_WITHDRAWAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"debitAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"debitAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"creditAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2800"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"transactionHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hash"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"confirmedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-20'>HTTP Request</h3>
<p><code>POST v3/fast-withdrawals</code></p>

<p>Description: Create a fast-withdrawal. <a href="https://help.dydx.exchange/en/articles/4797387-how-do-deposits-and-withdrawals-work">dYdX article on how fast withdrawals work</a>.</p>
<h3 id='request-13'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>creditAsset</td>
<td>Asset being withdrawn. Can currently only be <code>USDC</code>.</td>
</tr>
<tr>
<td>creditAmount</td>
<td>Amount that is expected.</td>
</tr>
<tr>
<td>debitAmount</td>
<td>Amount offered in <code>USDC</code> for the credit amount.</td>
</tr>
<tr>
<td>toAddress</td>
<td>Address to be credited.</td>
</tr>
<tr>
<td>lpPositionId</td>
<td>LP Position Id of the debit account.</td>
</tr>
<tr>
<td>expiration</td>
<td>Datetime at which the withdrawal expires if it has not been completed. Expiration must be at least seven days in the future.</td>
</tr>
<tr>
<td>signature</td>
<td>Signature for the fast-withdrawal, signed with the account&#39;s STARK private key. When using the client, if not included, will be done by the client. For more information see <a href="#creating-and-signing-requests">above</a>.</td>
</tr>
<tr>
<td>clientId</td>
<td>Unique id of the client associated with the fast-withdrawal. Must be &lt;= 40 characters. When using the client, if not included, will be randomly generated by the client.</td>
</tr>
</tbody></table>

<p><code>expectedCredit</code> is the result of computing <code>debitAmount</code> - min(<code>gas_fee</code>).</p>
<h3 id='response-22'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>withdrawal</td>
<td>See <a href="#get-transfers">Transfers</a>.</td>
</tr>
</tbody></table>

<p>Returns 400 if <code>expectedCredit</code> != <code>creditAmount</code>.</p>
<h2 id='order-types'>Order Types</h2>
<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>MARKET</td>
<td>Market order (must be FOK or IOC).</td>
</tr>
<tr>
<td>LIMIT</td>
<td>Limit order.</td>
</tr>
<tr>
<td>STOP</td>
<td>Stop limit order.</td>
</tr>
<tr>
<td>TRAILING_STOP</td>
<td>Trailing stop limit order.</td>
</tr>
<tr>
<td>TAKE_PROFIT</td>
<td>Take-profit order.</td>
</tr>
<tr>
<td>LIQUIDATED</td>
<td>Indicates the account was liquidated (fills only).</td>
</tr>
<tr>
<td>LIQUIDATION</td>
<td>Indicates the account took over a liquidated account (fills only).</td>
</tr>
</tbody></table>
<h2 id='create-a-new-order'>Create A New Order</h2>
<blockquote>
<p>Create Order</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ORDER_SIDE_SELL</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ORDER_TYPE_LIMIT</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">TIME_IN_FORCE_GTT</span>

<span class="n">placed_order</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">create_order</span><span class="p">(</span>
  <span class="n">position_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="c1"># required for creating the order signature
</span>  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">side</span><span class="o">=</span><span class="n">ORDER_SIDE_SELL</span><span class="p">,</span>
  <span class="n">order_type</span><span class="o">=</span><span class="n">ORDER_TYPE_LIMIT</span><span class="p">,</span>
  <span class="n">post_only</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
  <span class="n">size</span><span class="o">=</span><span class="s">'100'</span><span class="p">,</span>
  <span class="n">price</span><span class="o">=</span><span class="s">'18000'</span><span class="p">,</span>
  <span class="n">limit_fee</span><span class="o">=</span><span class="s">'0.015'</span><span class="p">,</span>
  <span class="n">expiration_epoch_seconds</span><span class="o">=</span><span class="mi">1613988637</span><span class="p">,</span>
  <span class="n">time_in_force</span><span class="o">=</span><span class="n">TIME_IN_FORCE_GTT</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">order</span><span class="p">:</span> <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="nx">OrderResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">createOrder</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">side</span><span class="p">:</span> <span class="nx">OrderSide</span><span class="p">.</span><span class="nx">SELL</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">OrderType</span><span class="p">.</span><span class="nx">LIMIT</span><span class="p">,</span>
    <span class="na">timeInForce</span><span class="p">:</span> <span class="nx">TimeInForce</span><span class="p">.</span><span class="nx">GTT</span><span class="p">,</span>
    <span class="na">postOnly</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">size</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">price</span><span class="p">:</span> <span class="dl">'</span><span class="s1">18000</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">limitFee</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0.015</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">expiration</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2022-12-21T21:30:20.200Z</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">,</span> <span class="c1">// required for creating the order signature</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingPercent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfillableAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-12-21T21:30:20.200Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"reduceOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-21'>HTTP Request</h3>
<p><code>POST v3/orders</code></p>

<p>Description: Create a new order.</p>
<h3 id='request-14'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market of the order.</td>
</tr>
<tr>
<td>side</td>
<td>Either <code>BUY</code> or <code>SELL</sell>.</td>
</tr>
<tr>
<td>type</td>
<td>The type of order. This can be <code>MARKET</code>, <code>LIMIT</code>, <code>STOP_LIMIT</code>, <code>TRAILING_STOP</code> or <code>TAKE_PROFIT</code>.</td>
</tr>
<tr>
<td>postOnly</td>
<td>Whether the order should be canceled if it would fill immediately on reaching the matching-engine.</td>
</tr>
<tr>
<td>size</td>
<td>Size of the order, in base currency (i.e. an ETH-USD position of size 1 represents 1 ETH).</td>
</tr>
<tr>
<td>price</td>
<td>Worst accepted price of the base asset in USD.</td>
</tr>
<tr>
<td>limitFee</td>
<td>Is the highest accepted fee for the trade. See <a href="#order-limitfee">below</a> for more information.</td>
</tr>
<tr>
<td>expiration</td>
<td>Time at which the order will expire if not filled. This is the Good-Til-Time and is accurate to a granularity of about 15 seconds.</td>
</tr>
<tr>
<td>timeInForce</td>
<td>(Optional) One of <code>GTT</code> (Good til time), <code>FOK</code>(Fill or kill) or <code>IOC</code> (Immediate or cancel). This will default to <code>GTT</code>.</td>
</tr>
<tr>
<td>cancelId</td>
<td>(Optional) The id of the order that is being replaced by this one.</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>(Optional) The triggerPrice at which this order will go to the matching-engine.</td>
</tr>
<tr>
<td>trailingPercent</td>
<td>(Optional) The percent that the triggerPrice trails the <a href="#index-price-sources">index price</a> of the market.</td>
</tr>
<tr>
<td>reduceOnly</td>
<td>(Optional) Whether the order should be <a href="#reduce-only">reduce-only</a>. Only supported on <code>FOK</code>(Fill or kill) or <code>IOC</code> (Immediate or cancel) orders.</td>
</tr>
<tr>
<td>clientId</td>
<td>Unique id of the client associated with the order. Must be &lt;= 40 characters. When using the client, if not included, will be randomly generated by the client.</td>
</tr>
<tr>
<td>signature</td>
<td>Signature for the order, signed with the account&#39;s STARK private key. When using the client, if not included, will be done by the client. For more information see <a href="#creating-and-signing-requests">above</a>.</td>
</tr>
</tbody></table>

<aside class="notice">
Specifying cancelId will cause the order matching cancelId to be canceled **atomically** (and immediately before) with the new order being placed. This can be used to always have available liquidity on the book when market making. The new order will still be placed even if the old order was already filled.
</aside>
<h3 id='response-23'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order</td>
<td>See <a href="#get-orders">order</a>.</td>
</tr>
</tbody></table>
<h2 id='order-limitfee'>Order LimitFee</h2>
<p>The <code>limitFee</code> is the highest fee a user would be willing to accept on an order. This should be in decimal form (i.e. 0.1 is 10%). To see current fees, call <a href="#get-user">GET /v3/users</a> and the maker/taker fee rates show what fees will be. If the order is <code>postOnly</code> dYdX will validate against <code>makerFeeRate</code> only. The opposite is true if the order is <code>FOK</code> or <code>IOC</code> - dYdX will only validate against <code>takerFeeRate</code>. Otherwise, dYdX assesses against the maximum of maker and taker fee rate.</p>
<h2 id='tick-size-and-minimum-size'>Tick Size and Minimum Size</h2><h3 id='tick-size'>Tick Size</h3>
<p>Each market has a specified <code>tickSize</code>. Order <code>price</code> must be a multiple of the tickSize. The same applies to <code>triggerPrice</code> and <code>trailingPercent</code> if either of these are not null.</p>
<h3 id='minimum-size'>Minimum Size</h3>
<p>Each market has a specified <code>minOrderSize</code>. Order <code>size</code> must be not be less than the minOrderSize.</p>
<h2 id='order-deletion'>Order Deletion</h2>
<p>Canceled orders older than one month are deleted from the dYdX database.</p>
<h2 id='reduce-only'>Reduce Only</h2>
<p>A reduce-only order can only reduce an existing position.</p>

<ul>
<li>When user holds no open position, a reduce-only order will always be rejected.</li>
<li>When user holds an open position, a reduce-only order can only be placed on the other side of the book, with size smaller or equal to the existing position size.</li>
</ul>

<p>The reduce-only option can be combined with any order type (Limit, Market, Stop Loss, Take Profit, Trailing Stop), but is only available for taker orders (Immediate-or-Cancel and Fill-or-Kill).</p>

<p><code>UNTRIGGERED</code> reduce-only orders are either resized or canceled (with cancel reason <code>REDUCE_ONLY_RESIZED</code>) if the underlying position shrinks or no longer exists. When there are multiple <code>UNTRIGGERED</code> reduce-only orders and the total order size exceeds the existing position, they will be resized/canceled starting from the order that will be filled last.</p>

<aside class="notice">
Under extremely rare circumstances during outages, reduce-only orders may not execute as expected. During these cases, placing multiple reduce-only orders may result in an opposite position.
</aside>
<h2 id='cancel-an-order'>Cancel An Order</h2>
<blockquote>
<p>Cancel an order</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">cancel_order</span><span class="p">(</span><span class="n">order_id</span><span class="o">=</span><span class="s">'0x0000'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">cancelOrder</span><span class="p">(</span><span class="dl">'</span><span class="s1">0x0000</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre></div><h3 id='http-request-22'>HTTP Request</h3>
<p><code>DELETE v3/orders/:id</code></p>

<p>Description: Cancel an order by its unique id.</p>
<h3 id='request-15'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orderId</td>
<td>Unique id of the order to be canceled.</td>
</tr>
</tbody></table>
<h3 id='response-24'>Response</h3>
<aside class="success">
The endpoint returns with status code 200 once the order has been queued for cancelation. The order's status will be updated after the cancelation has been processed by the matching engine.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cancelOrder</td>
<td>See <a href="#get-orders">order</a>.</td>
</tr>
</tbody></table>
<h2 id='cancel-orders'>Cancel Orders</h2>
<blockquote>
<p>Cancel Orders</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">cancel_all_orders</span><span class="p">(</span><span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">cancelAllOrders</span><span class="p">(</span><span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre></div><h3 id='http-request-23'>HTTP Request</h3>
<p><code>DELETE v3/orders</code></p>

<p>Description: Either bulk cancel all orders or just all orders for a specific market.</p>
<h3 id='request-16'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>(Optional) Market of the orders being canceled.</td>
</tr>
</tbody></table>
<h3 id='response-25'>Response</h3>
<aside class="success">
The endpoint returns with status code 200 once the orders have been queued for cancelation. The orders' statuses will be updated after the cancelations have been processed by the matching engine.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cancelOrders</td>
<td>Returns an array of orders to be canceled. See <a href="#get-orders">order</a>.</td>
</tr>
</tbody></table>
<h2 id='cancel-active-orders'>Cancel Active Orders</h2>
<blockquote>
<p>Cancel Active Orders</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ORDER_SIDE_SELL</span>

<span class="n">market_side_orders</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">cancel_active_orders</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">side</span><span class="o">=</span><span class="n">ORDER_SIDE_SELL</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">marketSideOrders</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">cancelOrders</span><span class="p">:</span> <span class="nx">ActiveOrderResponseObject</span><span class="p">[],</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">cancelActiveOrders</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="nx">OrderSide</span><span class="p">.</span><span class="nx">SELL</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"cancelOrders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-24'>HTTP Request</h3>
<p><code>DELETE v3/active-orders</code></p>

<p>Description: Cancel active orders that match request parameters.</p>

<aside class="success">
Note that rate-limiting is more generous for this endpoint than DELETE v3/orders. When including side, the rate-limiting becomes even more permissive and when id is included as well as side, the rate-limiting is its most permissive.
</aside>
<h3 id='request-17'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market of the order.</td>
</tr>
<tr>
<td>side</td>
<td>(Optional) Either <code>BUY</code> or <code>SELL</sell>. This parameter is required if <code>id</code> is included.</td>
</tr>
<tr>
<td>id</td>
<td>(Optional) The unique id assigned by dYdX. Note, if id is not found, will return a 400.</td>
</tr>
</tbody></table>
<h3 id='response-26'>Response</h3>
<aside class="success">
The endpoint returns with status code 200 once the orders have been queued for cancelation. The orders' statuses will be updated after the cancelations have been processed by the matching engine.
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>cancelOrders</td>
<td>Returns an array of active orders to be canceled. See <a href="#get-active-orders">activeOrder</a>.</td>
</tr>
</tbody></table>
<h2 id='get-orders'>Get Orders</h2>
<blockquote>
<p>Get Orders</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ORDER_SIDE_SELL</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ORDER_TYPE_LIMIT</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ORDER_STATUS_OPEN</span>

<span class="n">all_orders</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_orders</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">status</span><span class="o">=</span><span class="n">ORDER_STATUS_OPEN</span><span class="p">,</span>
  <span class="n">side</span><span class="o">=</span><span class="n">ORDER_SIDE_SELL</span><span class="p">,</span>
  <span class="nb">type</span><span class="o">=</span><span class="n">ORDER_TYPE_LIMIT</span><span class="p">,</span>
  <span class="n">limit</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">allOrders</span><span class="p">:</span> <span class="p">{</span> <span class="nl">orders</span><span class="p">:</span> <span class="nx">OrderResponseObject</span><span class="p">[]</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getOrders</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="nx">OrderStatus</span><span class="p">.</span><span class="nx">OPEN</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="nx">OrderSide</span><span class="p">.</span><span class="nx">SELL</span><span class="p">,</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">OrderType</span><span class="p">.</span><span class="nx">LIMIT</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trailingPercent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unfillableAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"cancelReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-25'>HTTP Request</h3>
<p><code>GET v3/orders</code></p>

<p>Description: Get active (not filled or canceled) orders for a user by specified parameters.</p>
<h3 id='request-18'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>(Optional) Market of the order.</td>
</tr>
<tr>
<td>status</td>
<td>(Optional) A list of statuses to filter by. Must be in the subset <code>PENDING</td>
</tr>
<tr>
<td>side</td>
<td>(Optional) Either <code>BUY</code> or <code>SELL</sell>.</td>
</tr>
<tr>
<td>type</td>
<td>(Optional) The expected type of the order. This can be <code>LIMIT</code>, <code>STOP</code>, <code>TRAILING_STOP</code> or <code>TAKE_PROFIT</code>.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional) The maximum number of orders that can be fetched via this request. Note, this cannot be greater than 100.</td>
</tr>
<tr>
<td>createdBeforeOrAt</td>
<td>(Optional) Set a date by which the orders had to be created.</td>
</tr>
<tr>
<td>returnLatestOrders</td>
<td>(Optional) Returns the most recently created orders instead of the oldest and the order is from most recent to least recent (up to <code>limit</code>).</td>
</tr>
</tbody></table>
<h3 id='response-27'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>An array of orders. See order below.</td>
</tr>
</tbody></table>
<h3 id='order'>Order</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The unique id assigned by dYdX.</td>
</tr>
<tr>
<td>clientId</td>
<td>The unique id assigned by the client.</td>
</tr>
<tr>
<td>accountId</td>
<td>The id of the account.</td>
</tr>
<tr>
<td>market</td>
<td>Market of the fill.</td>
</tr>
<tr>
<td>side</td>
<td>Either <code>BUY</code> or <code>SELL</sell>.</td>
</tr>
<tr>
<td>price</td>
<td>The price of the order. Must adhere to the market&#39;s tick size.</td>
</tr>
<tr>
<td>triggerPrice</td>
<td>The trigger price of the order. Must adhere to the market&#39;s tick size.</td>
</tr>
<tr>
<td>trailingPercent</td>
<td>Used for trailing stops. Percent drop from maximum price that will trigger the order.</td>
</tr>
<tr>
<td>size</td>
<td>Total size (base currency) of the order</td>
</tr>
<tr>
<td>remainingSize</td>
<td>Size of order not yet filled.</td>
</tr>
<tr>
<td>type</td>
<td>The <a href="#order-types">type</a> of the fill.</td>
</tr>
<tr>
<td>createdAt</td>
<td>Timestamp when the fill was created.</td>
</tr>
<tr>
<td>unfillableAt</td>
<td>Time order was either filled or canceled.</td>
</tr>
<tr>
<td>expiresAt</td>
<td>Time order will expire.</td>
</tr>
<tr>
<td>status</td>
<td>See order statuses below.</td>
</tr>
<tr>
<td>timeInForce</td>
<td>One of <code>GTT</code> (Good til time), <code>FOK</code>(Fill or kill) or <code>IOC</code> (Immediate or cancel). This will default to <code>GTT</code>.</td>
</tr>
<tr>
<td>postOnly</td>
<td>If the order will cancel if it would take the position of <code>TAKER</code>.</td>
</tr>
<tr>
<td>cancelReason</td>
<td>See cancel reasons below.</td>
</tr>
</tbody></table>
<h3 id='order-statuses'>Order Statuses</h3>
<table><thead>
<tr>
<th>Status</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>PENDING</td>
<td>Order has yet to be processed by the matching engine.</td>
</tr>
<tr>
<td>OPEN</td>
<td>Order is active and on the orderbook. Could be partially filled.</td>
</tr>
<tr>
<td>FILLED</td>
<td>Fully filled.</td>
</tr>
<tr>
<td>CANCELED</td>
<td>Canceled, for one of the cancel reasons. Could be partially filled.</td>
</tr>
<tr>
<td>UNTRIGGERED</td>
<td>Triggerable order that has not yet been triggered.</td>
</tr>
</tbody></table>
<h3 id='cancel-reasons'>Cancel Reasons</h3>
<table><thead>
<tr>
<th>Reason</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>UNDERCOLLATERALIZED</td>
<td>Order would have led to an undercollateralized state for the user.</td>
</tr>
<tr>
<td>EXPIRED</td>
<td>Order expired.</td>
</tr>
<tr>
<td>USER_CANCELED</td>
<td>Order was canceled by the user.</td>
</tr>
<tr>
<td>SELF_TRADE</td>
<td>Order would have resulted in a self trade for the user.</td>
</tr>
<tr>
<td>FAILED</td>
<td>An internal issue caused the order to be canceled.</td>
</tr>
<tr>
<td>COULD_NOT_FILL</td>
<td>A FOK or IOC order could not be fully filled.</td>
</tr>
<tr>
<td>POST_ONLY_WOULD_CROSS</td>
<td>A post-only order would cross the orderbook.</td>
</tr>
</tbody></table>
<h2 id='get-active-orders'>Get Active Orders</h2>
<blockquote>
<p>Get Active Orders</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>
<span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">ORDER_SIDE_SELL</span>

<span class="n">market_side_orders</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_active_orders</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">side</span><span class="o">=</span><span class="n">ORDER_SIDE_SELL</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">marketSideOrders</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">orders</span><span class="p">:</span> <span class="nx">ActiveOrderResponseObject</span><span class="p">[],</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getActiveOrders</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
    <span class="na">side</span><span class="p">:</span> <span class="nx">OrderSide</span><span class="p">.</span><span class="nx">SELL</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-26'>HTTP Request</h3>
<p><code>GET v3/active-orders</code></p>

<p>Description: Get active (not filled or canceled) orders for a user by specified parameters.</p>

<aside class="success">
Note that rate-limiting is more generous for this endpoint than GET v3/orders. When including side, the rate-limiting becomes even more permissive and when id is included as well as side, the rate-limiting is its most permissive.
</aside>
<h3 id='request-19'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market of the order.</td>
</tr>
<tr>
<td>side</td>
<td>(Optional) Either <code>BUY</code> or <code>SELL</sell>. This parameter is required if <code>id</code> is included.</td>
</tr>
<tr>
<td>id</td>
<td>(Optional) The unique id assigned by dYdX. Note, if id is not found, will return a 400.</td>
</tr>
</tbody></table>
<h3 id='response-28'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>An array of activeOrders. See activeOrder below.</td>
</tr>
</tbody></table>
<h3 id='activeorder'>ActiveOrder</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The unique id assigned by dYdX.</td>
</tr>
<tr>
<td>accountId</td>
<td>The id of the account.</td>
</tr>
<tr>
<td>market</td>
<td>Market of the fill.</td>
</tr>
<tr>
<td>side</td>
<td>Either <code>BUY</code> or <code>SELL</sell>.</td>
</tr>
<tr>
<td>price</td>
<td>The price of the order. Must adhere to the market&#39;s tick size.</td>
</tr>
<tr>
<td>remainingSize</td>
<td>Size of order not yet filled.</td>
</tr>
</tbody></table>
<h2 id='get-order-by-id'>Get Order By Id</h2>
<blockquote>
<p>Get Order By Id</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">order</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_order_by_id</span><span class="p">(</span><span class="s">'foo'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">orderResponse</span><span class="p">:</span> <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="nx">OrderResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getOrderById</span><span class="p">(</span><span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingPercent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfillableAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-27'>HTTP Request</h3>
<p><code>GET v3/orders/:id</code></p>

<p>Description: Get an order by <code>id</code> from the active orderbook and order history.</p>
<h3 id='request-20'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique id of the order</td>
</tr>
</tbody></table>
<h3 id='response-29'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order</td>
<td>See <a href="#get-orders">order</a>.</td>
</tr>
</tbody></table>
<h2 id='get-order-by-clientid'>Get Order by ClientId</h2>
<blockquote>
<p>Get Order By ClientId</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">order</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_order_by_client_id</span><span class="p">(</span><span class="s">'clientId'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">allOrders</span><span class="p">:</span> <span class="p">{</span> <span class="nl">order</span><span class="p">:</span> <span class="nx">OrderResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getOrderByClientId</span><span class="p">(</span><span class="dl">'</span><span class="s1">clientId</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"afoo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"triggerPrice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trailingPercent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"unfillableAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-04T23:44:59.690Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelReason"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-28'>HTTP Request</h3>
<p><code>GET v3/orders/client/:id</code></p>

<p>Description: Get an order by <code>clientId</code> from the active orderbook and order history. Only the latest 1 hour of orders can be fetched from this endpoint.</p>
<h3 id='request-21'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique clientId of the order</td>
</tr>
</tbody></table>
<h3 id='response-30'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order</td>
<td>See <a href="#get-orders">order</a>.</td>
</tr>
</tbody></table>
<h2 id='get-fills'>Get Fills</h2>
<blockquote>
<p>Get Fills</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">all_fills</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_fills</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">allFills</span><span class="p">:</span> <span class="p">{</span> <span class="nl">fills</span><span class="p">:</span> <span class="nx">FillResponseObject</span><span class="p">[]</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getFills</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"fills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liquidity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"id"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-05T16:33:43.163Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-29'>HTTP Request</h3>
<p><code>GET v3/fills</code></p>

<p>Description: Get Fills for a user by specified parameters.</p>
<h3 id='request-22'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>(Optional) Market of the fills.</td>
</tr>
<tr>
<td>orderId</td>
<td>(Optional) Unique order id. Will only fetch a single order.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional) The maximum number of fills that can be fetched via this request. Note, this cannot be greater than 100.</td>
</tr>
<tr>
<td>createdBeforeOrAt</td>
<td>(Optional) Set a date by which the fills had to be created.</td>
</tr>
</tbody></table>
<h3 id='response-31'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fills</td>
<td>Array of fills. See below for an individual example.</td>
</tr>
</tbody></table>
<h3 id='fill'>Fill</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>The unique id assigned by dYdX.</td>
</tr>
<tr>
<td>side</td>
<td>Either <code>BUY</code> or <code>SELL</sell>.</td>
</tr>
<tr>
<td>liquidity</td>
<td>Either <code>MAKER</code> or <code>TAKER</sell>.</td>
</tr>
<tr>
<td>type</td>
<td>The <a href="#order-types">type</a> of the fill.</td>
</tr>
<tr>
<td>market</td>
<td>Market of the fill.</td>
</tr>
<tr>
<td>orderId</td>
<td>Id of the order which caused this fill. null if type is <code>LIQUIDATED</code> or <code>LIQUIDATION`</code>.</td>
</tr>
<tr>
<td>price</td>
<td>The price the fill occurred at (in quote / base currency).</td>
</tr>
<tr>
<td>size</td>
<td>Size that was filled (in base currency).</td>
</tr>
<tr>
<td>fee</td>
<td>Fee that was charged (in quote currency).</td>
</tr>
<tr>
<td>createdAt</td>
<td>Timestamp when the fill was created.</td>
</tr>
</tbody></table>
<h2 id='get-funding-payments'>Get Funding Payments</h2>
<blockquote>
<p>Get Funding Payments</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">funding_payments</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_funding_payments</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">limit</span><span class="o">=</span><span class="mi">75</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">fundingPayments</span><span class="p">:</span> <span class="p">{</span> <span class="nl">fundingPayments</span><span class="p">:</span> <span class="nx">FundingResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getFundingPayments</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">75</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"fundingPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000125000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"positionSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"effectiveAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-04T23:44:59.690Z"</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-30'>HTTP Request</h3>
<p><code>GET v3/funding</code></p>

<p>Description: Get Funding Payments made to an account.</p>
<h3 id='request-23'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>(Optional) Market of the funding payments.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional) The maximum number of funding payments that can be fetched via this request. Note, this cannot be greater than 100.</td>
</tr>
<tr>
<td>effectiveBeforeOrAt</td>
<td>(Optional) Set a date by which the funding payments had to be created.</td>
</tr>
</tbody></table>
<h3 id='response-32'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market corresponding to the funding payment.</td>
</tr>
<tr>
<td>payment</td>
<td>Change in the <code>quoteBalance</code> of the account. Positive if the user received funding and negative if the user paid funding.</td>
</tr>
<tr>
<td>rate</td>
<td>Funding rate at the time of this payment (as a 1-hour rate).</td>
</tr>
<tr>
<td>positionSize</td>
<td>User&#39;s position size at the time of this funding payment. positive if long, negative if short.</td>
</tr>
<tr>
<td>price</td>
<td>Oracle price used to calculate this funding payment.</td>
</tr>
<tr>
<td>effectiveAt</td>
<td>Time of this funding payment.</td>
</tr>
</tbody></table>
<h2 id='get-historical-pnl-ticks'>Get Historical PNL Ticks</h2>
<blockquote>
<p>Get Historical PNL Ticks</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">historical_pnl</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_historical_pnl</span><span class="p">(</span>
  <span class="n">created_before_or_at</span><span class="o">=</span><span class="s">'2021-04-09T22:02:46+0000'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">historicalPnlTicks</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">historicalPnl</span><span class="p">:</span> <span class="nx">HistoricalPnlResponseObject</span><span class="p">[],</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getHistoricalPnl</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">createdBeforeOrAt</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2021-04-09T22:02:46+0000</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"historicalPnl"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-09T21:08:34.984Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"netTransfers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49979004..."</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-31'>HTTP Request</h3>
<p><code>GET v3/historical-pnl</code></p>

<p>Description: Get Historical PNL for an account during an interval.</p>

<aside class="warning">
The max interval of ticks is 1 month. If a single time value is provided, the other value will default to one month away from said value (i.e. set createdBeforeOrAt and createdOnOrAfter will be a month before). If neither value is set, the interval will be the current past roughly 30 days.
</aside>
<h3 id='request-24'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>createdBeforeOrAt</td>
<td>(Optional) Used for setting a ending bounds on the ticks.</td>
</tr>
<tr>
<td>createdOnOrAfter</td>
<td>(Optional) Used for setting a starting bounds on the ticks.</td>
</tr>
</tbody></table>
<h3 id='response-33'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>historicalPnl</td>
<td>Array of HistoricalAggregatedPnl. See &quot;HistoricalAggregatedPnl&quot; below.</td>
</tr>
</tbody></table>
<h3 id='historicalaggregatedpnl'>HistoricalAggregatedPnl</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>equity</td>
<td>The total account equity.</td>
</tr>
<tr>
<td>totalPnl</td>
<td>The total PNL for the account since inception.</td>
</tr>
<tr>
<td>createdAt</td>
<td>When the tick was recorded.</td>
</tr>
<tr>
<td>netTransfers</td>
<td>The value into or out of the account of transfers since the last interval.</td>
</tr>
<tr>
<td>accountId</td>
<td>Account the tick is for.</td>
</tr>
</tbody></table>
<h2 id='get-trading-rewards'>Get Trading Rewards</h2>
<blockquote>
<p>Get Trading Rewards</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">rewards</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_trading_rewards</span><span class="p">(</span>
  <span class="n">epoch</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">rewards</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">tradingRewards</span><span class="p">:</span> <span class="nx">TradingRewardsResponseObject</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getTradingRewards</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">epoch</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"epoch"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-21T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-18T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"feesPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalFeesPaid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"averageOpenInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAverageOpenInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"stakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"primaryStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageStakedDYDXWithFloor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAverageStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalWeight"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"totalRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"383561.6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"estimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3835616"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-32'>HTTP Request</h3>
<p><code>GET v3/rewards/weight</code></p>

<p>Description: Get the rewards weight of a given epoch.</p>
<h3 id='request-25'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>epoch</td>
<td>(Optional) Epoch number to request rewards data for. Defaults to current epoch.</td>
</tr>
<tr>
<td>secondaryAddress</td>
<td>(Optional) Get rewards for a linked, <code>SECONDARY</code> address.</td>
</tr>
</tbody></table>
<h3 id='response-34'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>epoch</td>
<td>ID of the epoch.</td>
</tr>
<tr>
<td>epochStart</td>
<td>Time when the epoch starts.</td>
</tr>
<tr>
<td>epochEnd</td>
<td>Time when the epoch ends.</td>
</tr>
<tr>
<td>fees</td>
<td>See &quot;Fees&quot; below.</td>
</tr>
<tr>
<td>openInterest</td>
<td>See &quot;OpenInterest&quot; below.</td>
</tr>
<tr>
<td>weight</td>
<td>See &quot;Weight&quot; below.</td>
</tr>
<tr>
<td>stakedDYDX</td>
<td>See &quot;StakedDYDX&quot; below.</td>
</tr>
<tr>
<td>totalRewards</td>
<td>The total number of tokens that will be given out at the end of the epoch.</td>
</tr>
<tr>
<td>estimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards.</td>
</tr>
</tbody></table>
<h3 id='weight'>Weight</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>weight</td>
<td>The user&#39;s current weight score for this epoch.</td>
</tr>
<tr>
<td>totalWeight</td>
<td>The sum of the weight score of all users for this epoch.</td>
</tr>
</tbody></table>
<h3 id='fees'>Fees</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>feesPaid</td>
<td>The USD amount of fees paid by the user in the epoch.</td>
</tr>
<tr>
<td>totalFeesPaid</td>
<td>The total USD amount of fees paid by all users in the epoch.</td>
</tr>
</tbody></table>
<h3 id='openinterest'>OpenInterest</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>averageOpenInterest</td>
<td>The average open interest for the user.</td>
</tr>
<tr>
<td>totalAverageOpenInterest</td>
<td>The total average open interest for all users.</td>
</tr>
</tbody></table>
<h3 id='stakeddydx'>StakedDYDX</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>primaryStakedDYDX</td>
<td>The average staked DYDX of the primary user if own user <code>linkType = SECONDARY</code> or <code>secondaryAddress</code> is included. <code>&#39;0&#39;</code> for epochs 0-4 (old rewards formula). <code>null</code> otherwise.</td>
</tr>
<tr>
<td>averageStakedDYDX</td>
<td>The average staked DYDX for the user. This value is <code>&#39;0&#39;</code> for epochs 0-4 (old rewards formula does not take into account stakedDYDX).</td>
</tr>
<tr>
<td>averageStakedDYDXWithFloor</td>
<td>The average staked DYDX for the user, taking into account both <code>primaryStakedDYDX</code> and the <a href="https://commonwealth.im/dydx/proposal/discussion/2940-drc-update-trading-liquidity-provider-rewards-formulas-to-include-holding-of-stkdydx">rewards formula&#39;s</a> floor stakedDYDX value. This value is <code>&#39;0&#39;</code> for epochs 0-4 (old rewards formula does not take into account stakedDYDX).</td>
</tr>
<tr>
<td>totalAverageStakedDYDX</td>
<td>The total average staked DYDX for all users. This value is <code>&#39;0&#39;</code> for epochs 0-4 (old rewards formula does not take into account stakedDYDX).</td>
</tr>
</tbody></table>
<h2 id='get-liquidity-provider-rewards'>Get Liquidity Provider Rewards</h2>
<blockquote>
<p>Get Liquidity Provider Rewards</p>
</blockquote>

<aside class="warning">
This API is only supported for epochs 13+. For previous epochs, please use the `Get Liquidity Rewards` endpoint.
</aside>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">rewards</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_liquidity_provider_rewards_v2</span><span class="p">(</span>
  <span class="n">epoch</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">rewards</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">liquidityRewards</span><span class="p">:</span> <span class="nx">LiquidityProviderRewardsV2ResponseObject</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getLiquidityProviderRewardsV2</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">epoch</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"epoch"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-8-02T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-08-30T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"depthSpreadScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"linkedUptime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxUptime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00098821176880261854125"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"makerVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalMakerVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"230137"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"estimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"227.42409183692822322765125"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"secondaryAllocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"stakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"averageStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAverageStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"linkedAddressRewards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"depthSpreadScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"linkedUptime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7500"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maxUptime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00098821176880261854125"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"makerVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalMakerVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"totalRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"230137"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"estimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"227.42409183692822322765125"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"secondaryAllocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"averageStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"750"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-33'>HTTP Request</h3>
<p><code>GET v3/rewards/liquidity-provider</code></p>

<p>Description: Get the liquidity provider rewards of a given epoch (epochs 13+).</p>
<h3 id='request-26'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>epoch</td>
<td>(Optional) Epoch number to request rewards data for. Defaults to current epoch.</td>
</tr>
</tbody></table>
<h3 id='response-35'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>epoch</td>
<td>ID of the epoch.</td>
</tr>
<tr>
<td>epochStart</td>
<td>Time when the epoch starts.</td>
</tr>
<tr>
<td>epochEnd</td>
<td>Time when the epoch ends.</td>
</tr>
<tr>
<td>markets</td>
<td>Map of market name to liquidity rewards for that market. See &quot;LiquidityRewards&quot; below.</td>
</tr>
<tr>
<td>stakedDYDX</td>
<td>See &quot;StakedDYDX&quot; below.</td>
</tr>
<tr>
<td>linkedAddressRewards</td>
<td>For a <code>PRIMARY</code> address, map of linked address to rewards data for that address. Includes the <code>PRIMARY</code> address. See &quot;PerAddressRewards&quot; below.</td>
</tr>
</tbody></table>
<h3 id='liquidityrewards'>LiquidityRewards</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>The market for which the rewards are for.</td>
</tr>
<tr>
<td>depthSpreadScore</td>
<td>The user&#39;s depth and spread score for this market.</td>
</tr>
<tr>
<td>uptime</td>
<td>The ratio of uptime (non-zero scores) that the user has for this market.</td>
</tr>
<tr>
<td>linkedUptime</td>
<td>For a <code>SECONDARY</code> address, the max uptime of linked addresses, which will be used in rewards calculation. <code>0</code> otherwise.</td>
</tr>
<tr>
<td>maxUptime</td>
<td>The number of samples taken for this market.</td>
</tr>
<tr>
<td>score</td>
<td>The user&#39;s total score for this market.</td>
</tr>
<tr>
<td>totalScore</td>
<td>The total score of all liquidity providers who are eligible for liquidity rewards.</td>
</tr>
<tr>
<td>makerVolume</td>
<td>The maker volume for the user.</td>
</tr>
<tr>
<td>totalMakerVolume</td>
<td>The total maker volume for all liquidity providers.</td>
</tr>
<tr>
<td>estimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards for this market. For a <code>SECONDARY</code> address, this field is the amount of rewards contributed to the <code>PRIMARY</code> address (<code>SECONDARY</code> addresses do not receive rewards).</td>
</tr>
<tr>
<td>totalRewards</td>
<td>The total number of tokens that will be given out at the end of the epoch for this market.</td>
</tr>
<tr>
<td>secondaryAllocation</td>
<td>For a <code>SECONDARY</code> address, the proportion (0 to 1) of the <code>PRIMARY</code> address rewards that are based on this address contribution. <code>0</code> otherwise.</td>
</tr>
</tbody></table>
<h3 id='stakeddydx-2'>StakedDYDX</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>averageStakedDYDX</td>
<td>The average staked DYDX for the user. For a <code>PRIMARY</code> address, this is the aggregate <code>averageStakedDYDX</code> across all linked addresses.</td>
</tr>
<tr>
<td>totalAverageStakedDYDX</td>
<td>The total average staked DYDX for all eligible users.</td>
</tr>
</tbody></table>
<h3 id='peraddressrewards'>PerAddressRewards</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>markets</td>
<td>Map of market name to liquidity rewards for that market for the respective address. See &quot;LiquidityRewards&quot; above.</td>
</tr>
<tr>
<td>averageStakedDYDX</td>
<td>The average staked DYDX for the respective address.</td>
</tr>
</tbody></table>
<h2 id='get-liquidity-rewards-deprecated'>Get Liquidity Rewards (Deprecated)</h2>
<blockquote>
<p>Get Liquidity Rewards</p>
</blockquote>

<aside class="warning">
This API is now deprecated. Please use it to fetch rewards for only epoch 0-12. For future epochs, please use the `Get Liquidity Provider Rewards` endpoint.
</aside>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">rewards</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_liquidity_provider_rewards</span><span class="p">(</span>
  <span class="n">epoch</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">rewards</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">liquidityRewards</span><span class="p">:</span> <span class="nx">LiquidityProviderRewardsResponseObject</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getLiquidityProviderRewards</span><span class="p">(</span>
  <span class="p">{</span>
    <span class="na">epoch</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"epoch"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-12-21T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-01-18T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00098821176880261854125"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalScore"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"230137"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"estimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"227.42409183692822322765125"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"stakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"primaryStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"averageStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalAverageStakedDYDX"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-34'>HTTP Request</h3>
<p><code>GET v3/rewards/liquidity</code></p>

<p>Description: Get the liquidity rewards of a given epoch.</p>
<h3 id='request-27'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>epoch</td>
<td>(Optional) Epoch number to request rewards data for. Defaults to current epoch.</td>
</tr>
<tr>
<td>secondaryAddress</td>
<td>(Optional) Get rewards for a linked, <code>SECONDARY</code> address.</td>
</tr>
</tbody></table>
<h3 id='response-36'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>epoch</td>
<td>ID of the epoch.</td>
</tr>
<tr>
<td>epochStart</td>
<td>Time when the epoch starts.</td>
</tr>
<tr>
<td>epochEnd</td>
<td>Time when the epoch ends.</td>
</tr>
<tr>
<td>markets</td>
<td>Map of market name to rewards for that market. See &quot;LiquidityRewards&quot; below.</td>
</tr>
<tr>
<td>stakedDYDX</td>
<td>See &quot;StakedDYDX&quot; below.</td>
</tr>
</tbody></table>
<h3 id='liquidityrewards-2'>LiquidityRewards</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>The market for which the rewards are for.</td>
</tr>
<tr>
<td>depthSpreadScore</td>
<td>The user&#39;s depth and spread score for this market.</td>
</tr>
<tr>
<td>uptime</td>
<td>The ratio of uptime (non-zero scores) that the user has for this market.</td>
</tr>
<tr>
<td>maxUptime</td>
<td>The number of samples taken for this market.</td>
</tr>
<tr>
<td>score</td>
<td>The user&#39;s total score for this market.</td>
</tr>
<tr>
<td>totalScore</td>
<td>The total score of all liquidity providers who are eligible for liquidity rewards.</td>
</tr>
<tr>
<td>makerVolume</td>
<td>The maker volume for the user. <code>0</code> for epochs 0-9 (old rewards formulas).</td>
</tr>
<tr>
<td>totalMakerVolume</td>
<td>The total maker volume for all liquidity providers. <code>0</code> for epochs 0-4 (old rewards formula).</td>
</tr>
<tr>
<td>totalRewards</td>
<td>The total number of tokens that will be given out at the end of the epoch for this market.</td>
</tr>
<tr>
<td>estimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards for this market.</td>
</tr>
</tbody></table>
<h3 id='stakeddydx-3'>StakedDYDX</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>primaryStakedDYDX</td>
<td>The average staked DYDX of the primary user if own user <code>linkType = SECONDARY</code> or if <code>secondaryAddress</code> is included. <code>&#39;0&#39;</code> for epochs 0-4 (old rewards formula). <code>null</code> otherwise.</td>
</tr>
<tr>
<td>averageStakedDYDX</td>
<td>The average staked DYDX for the user. This value is <code>&#39;0&#39;</code> for epochs 0-4 (old rewards formula does not take into account stakedDYDX).</td>
</tr>
<tr>
<td>totalAverageStakedDYDX</td>
<td>The total average staked DYDX for all eligible users. This value is <code>&#39;0&#39;</code> for epochs 0-4 (old rewards formula does not take into account stakedDYDX).</td>
</tr>
</tbody></table>
<h2 id='get-retroactive-mining-rewards'>Get Retroactive Mining Rewards</h2>
<blockquote>
<p>Get Retroactive Mining Rewards</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">rewards</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_retroactive_mining_rewards</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">rewards</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">retroactiveMiningRewards</span><span class="p">:</span> <span class="nx">RetroactiveMiningRewardsResponseObject</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getRetroactiveMiningRewards</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"epoch"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochStart"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-03T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epochEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-31T15:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"retroactiveMining"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"allocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"targetVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"estimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-35'>HTTP Request</h3>
<p><code>GET v3/rewards/retroactive-mining</code></p>

<p>Description: Get the retroactive mining rewards of a given epoch.</p>
<h3 id='response-37'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>epoch</td>
<td>Will always be &#39;0&#39;.</td>
</tr>
<tr>
<td>epochStart</td>
<td>Time when the epoch starts.</td>
</tr>
<tr>
<td>epochEnd</td>
<td>Time when the epoch ends.</td>
</tr>
<tr>
<td>retroactiveMining</td>
<td>See &quot;RetroactiveMiningRewards&quot; below.</td>
</tr>
<tr>
<td>estimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards.</td>
</tr>
</tbody></table>
<h3 id='retroactiveminingrewards'>RetroactiveMiningRewards</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>allocation</td>
<td>The number of allocated dYdX tokens for the user.</td>
</tr>
<tr>
<td>targetVolume</td>
<td>The user&#39;s required trade volume (in USD) to be able to claim the allocation.</td>
</tr>
<tr>
<td>volume</td>
<td>The user&#39;s current total trade volume (in USD) in the epoch.</td>
</tr>
</tbody></table>
<h2 id='send-verification-email'>Send Verification Email</h2>
<blockquote>
<p>Send a verification email</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">send_verification_email</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">sendVerificationEmail</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre></div><h3 id='http-request-36'>HTTP Request</h3>
<p><code>PUT v3/emails/send-verification-email</code></p>

<p>Description: Send an email to the email address associated with the user, requesting that they click on a link to verify their email address.</p>
<h3 id='response-38'>Response</h3>
<p>On success, returns a <code>204</code> response with an empty body. Responds with a <code>400</code> error if no email address is on file for the user, or their email address has already been verified.</p>
<h3 id='setting-notification-status'>Setting Notification Status</h3>
<p>In addition to verifying an email, notifications must be set in <code>user.userData</code> to start receiving emails per category.</p>

<blockquote>
<p>Example userData:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>user.userData = {
  notifications: {
    deposit: {
      email: true
    },
    trades: {
      email: true
    }
  }
}
</code></pre></div><h2 id='request-testnet-tokens'>Request Testnet Tokens</h2>
<blockquote>
<p>Request Testnet Tokens</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">transfer</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">request_testnet_tokens</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">transfer</span><span class="p">:</span> <span class="p">{</span> <span class="nl">transfer</span><span class="p">:</span> <span class="nx">TransferResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">requestTestnetTokens</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"transfer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e5ed0207-27fe-5cfa-a74e-b3908a113dca"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRANSFER_OUT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"debitAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"creditAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"debitAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"creditAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactionHash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-11-09T01:29:59.960Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"confirmedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"521ba97550e9299"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-37'>HTTP Request</h3>
<p><code>POST v3/testnet/tokens</code></p>

<p>Description: Requests tokens on dYdX&#39;s staging server.</p>

<aside class="notice">
This endpoint is only enabled on Staging/Goerli, and will not work on Mainnet/Production.
</aside>

<p>A fixed number of tokens will be transferred to the account. Please take note of <a href="#rate-limit-api">rate limits</a>.</p>

<aside class="notice">
Accounts with high equity that request tokens will have their requests denied.
</aside>
<h3 id='response-39'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transfer</td>
<td>See <a href="#get-transfers">Transfers</a>.</td>
</tr>
</tbody></table>
<h2 id='get-private-profile'>Get Private Profile</h2>
<p>Get private profile data for the user. This is a superset of the <code>/v3/profile/:publicId</code> endpoint.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">profile_private</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">private</span><span class="p">.</span><span class="n">get_profile</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">profilePrivate</span><span class="p">:</span> <span class="nx">ProfilePrivateResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">private</span><span class="p">.</span><span class="nx">getProfilePrivate</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethereumAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DYDXHoldings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stakedDYDXHoldings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hedgiesHeld"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">111</span><span class="p">],</span><span class="w">
    </span><span class="nl">"twitterHandle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"affiliateLinks"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mrAffiliate"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"discountRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.95"</span><span class="p">,</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"affiliateApplicationStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"APPROVED"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"publicId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCDEFGH"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradingLeagues"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"currentLeague"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SILVER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currentLeagueRanking"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tradingPnls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"absolutePnl30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"324"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"percentPnl30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tradingRewards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"curEpoch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"curEpochEstimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prevEpochEstimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"affiliateStatistics"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"currentEpoch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"usersReferred"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.50"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"revenueShareRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.24"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"previousEpochs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"usersReferred"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"revenue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1427.30"</span><span class="p">,</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"lastPaidEpoch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-38'>HTTP Request</h3>
<p><code>GET v3/profile/private</code></p>

<p>Description: Get private profile data for the user.</p>
<h3 id='response-40'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Publically-displayed username.</td>
</tr>
<tr>
<td>publicId</td>
<td>User&#39;s public id used in the public profile endpoint</td>
</tr>
<tr>
<td>ethereumAddress</td>
<td>User&#39;s associated ethereum address.</td>
</tr>
<tr>
<td>DYDXHoldings</td>
<td>The user&#39;s DYDX token holdings. <code>null</code> if not sharing ethereum address.</td>
</tr>
<tr>
<td>stakedDYDXHoldings</td>
<td>The user&#39;s stkDYDX token holdings. <code>null</code> if not sharing ethereum address.</td>
</tr>
<tr>
<td>hedgiesHeld</td>
<td>Indices of all Hedgies held.</td>
</tr>
<tr>
<td>twitterHandle</td>
<td>The username that appears at the end of a unique Twitter url.</td>
</tr>
<tr>
<td>affiliateLinks</td>
<td>The affiliate links that the user can share and earn revenue on. [] if the user is not an affiliate. See &quot;AffiliateLinkData&quot; below.</td>
</tr>
<tr>
<td>affiliateApplicationStatus</td>
<td>The status of the affiliate application, can be <code>APPROVED</code>, <code>PENDING</code>, <code>REJECTED</code>, and <code>REJECTED_AND_BANNED</code>. <code>null</code> if no affiliate application had been submitted.</td>
</tr>
<tr>
<td>tradingLeagues</td>
<td>See &quot;TradingLeagues&quot; below.</td>
</tr>
<tr>
<td>tradingPnls</td>
<td>See &quot;TradingPnls&quot; below.</td>
</tr>
<tr>
<td>tradingRewards</td>
<td>See &quot;TradingRewards&quot; below.</td>
</tr>
<tr>
<td>affiliateStatistics</td>
<td>See &quot;AffiliateStatistics&quot; below.</td>
</tr>
</tbody></table>
<h3 id='affiliatelinkdata'>AffiliateLinkData</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>link</td>
<td>The affiliate link. Ex: <code>mrAffiliate</code> in affiliate link <code>trade.dydx.exchange/r/mrAffiliate</code>.</td>
</tr>
<tr>
<td>discountRate</td>
<td>The discount rate used to calculate the referred user&#39;s fee. Ex: <code>0.95</code> would mean that users get a 5% discount to their fees.</td>
</tr>
</tbody></table>
<h3 id='tradingleagues'>TradingLeagues</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currentLeague</td>
<td><code>null, &quot;BRONZE&quot;, &quot;SILVER&quot;, &quot;GOLD&quot;, &quot;PLATINUM&quot;, or &quot;DIAMOND&quot;</code>.</td>
</tr>
<tr>
<td>currentLeagueRanking</td>
<td><code>null</code>, or positive integer ranking.</td>
</tr>
</tbody></table>
<h3 id='tradingpnls'>TradingPnls</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>absolutePnl30D</td>
<td><code>null</code>, or user&#39;s 30 day absolute pnl (based on leaderboard formula).</td>
</tr>
<tr>
<td>percentPnl30D</td>
<td><code>null</code>, or user&#39;s 30 day percent pnl (based on leaderboard formula).</td>
</tr>
<tr>
<td>volume30D</td>
<td>The sum of a user&#39;s 30 day maker and taker trading volume.</td>
</tr>
</tbody></table>
<h3 id='tradingrewards'>TradingRewards</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>curEpoch</td>
<td>Current epoch number.</td>
</tr>
<tr>
<td>curEpochEstimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards for the current epoch.</td>
</tr>
<tr>
<td>prevEpochEstimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards for the previous epoch.</td>
</tr>
</tbody></table>
<h3 id='affiliatestatistics'>AffiliateStatistics</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currentEpoch</td>
<td>See &quot;CurrentEpochAffiliateStatistics&quot; below.</td>
</tr>
<tr>
<td>previousEpochs</td>
<td>See &quot;PreviousEpochAffiliateStatistics&quot; below.</td>
</tr>
<tr>
<td>lastEpochPaid</td>
<td>The last epoch that has been paid out to affiliates.</td>
</tr>
</tbody></table>
<h3 id='currentepochaffiliatestatistics'>CurrentEpochAffiliateStatistics</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>usersReferred</td>
<td>Total number of users referred by this affiliate in this epoch.</td>
</tr>
<tr>
<td>revenue</td>
<td>Expected current affiliate payout in this epoch.</td>
</tr>
<tr>
<td>revenueShareRate</td>
<td>Current revenue share rate for the user depending on their $stkDYDX and if manual override is enabled for the user. Will be a number between 0 and 1 inclusive, 0.1 would indicate that the affiliate will receive 10% of all net revenue generated by their referred users.</td>
</tr>
</tbody></table>
<h3 id='previousepochsaffiliatestatistics'>PreviousEpochsAffiliateStatistics</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>usersReferred</td>
<td>Total number of users referred by this affiliate in all previous epochs.</td>
</tr>
<tr>
<td>revenue</td>
<td>Total amount of revenue this user has earned in all previous epochs.</td>
</tr>
</tbody></table>
<h1 id='public-http-api'>Public HTTP API</h1><h2 id='get-markets'>Get Markets</h2>
<blockquote>
<p>Get Markets</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">markets</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_markets</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">markets</span><span class="p">:</span> <span class="p">{</span> <span class="nl">markets</span><span class="p">:</span> <span class="nx">MarketsResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getMarkets</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"LINK-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ONLINE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baseAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"quoteAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stepSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tickSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indexPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"oraclePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"priceChange24H"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000125000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextFundingAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-03-01T18:00:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"minOrderSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERPETUAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"initialMarginFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.10"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maintenanceMarginFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.05"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"baselinePositionSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"incrementalPositionSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"incrementalInitialMarginFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume24H"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"trades24H"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxPositionSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"assetResolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"syntheticAssetId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x4c494e4b2d37000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request'>HTTP Request</h3>
<p><code>GET v3/markets</code></p>

<p>Description: Get one or all markets as well as metadata about each retrieved market.</p>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>(Optional): Specific market to be fetched.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3><h3 id='market'>Market</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>markets</td>
<td>Map of market objects. See below for individual market.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Symbol of the market.</td>
</tr>
<tr>
<td>status</td>
<td>Status of the market. Can be one of <code>ONLINE</code>, <code>OFFLINE</code>, <code>POST_ONLY</code> or <code>CANCEL_ONLY</code>.</td>
</tr>
<tr>
<td>baseAsset</td>
<td>Symbol of the base asset. e.g. &quot;BTC&quot;.</td>
</tr>
<tr>
<td>quoteAsset</td>
<td>Symbol of the quote asset. e.g. &quot;BTC&quot;.</td>
</tr>
<tr>
<td>stepSize</td>
<td>The minimum step size (in base currency) of trade sizes for the market.</td>
</tr>
<tr>
<td>tickSize</td>
<td>The Tick size of the market.</td>
</tr>
<tr>
<td>indexPrice</td>
<td>The current <a href="#index-price-sources">index price</a> of the market.</td>
</tr>
<tr>
<td>oraclePrice</td>
<td>The current oracle price of the market.</td>
</tr>
<tr>
<td>priceChange24H</td>
<td>The absolute price change of the <a href="#index-price-sources">index price</a> over the past 24 hours.</td>
</tr>
<tr>
<td>nextFundingRate</td>
<td>The predicted next funding rate (as a 1-hour rate). Can be up to 5 seconds delayed.</td>
</tr>
<tr>
<td>nextFundingAt</td>
<td>The timestamp of the next funding update.</td>
</tr>
<tr>
<td>minOrderSize</td>
<td>Minimum order size for the market.</td>
</tr>
<tr>
<td>type</td>
<td>Type of the market. This will always be <code>PERPETUAL</code> for now.</td>
</tr>
<tr>
<td>initialMarginFraction</td>
<td>The margin fraction needed to open a position.</td>
</tr>
<tr>
<td>maintenanceMarginFraction</td>
<td>The margin fraction required to prevent liquidation.</td>
</tr>
<tr>
<td>baselinePositionSize</td>
<td>The max position size (in base token) before increasing the initial-margin-fraction.</td>
</tr>
<tr>
<td>incrementalPositionSize</td>
<td>The step size (in base token) for increasing the <code>initialMarginFraction</code> by (<code>incrementalInitialMarginFraction</code> per step).</td>
</tr>
<tr>
<td>incrementalInitialMarginFraction</td>
<td>The increase of <code>initialMarginFraction</code> for each <code>incrementalPositionSize</code> above the <code>baselinePositionSize</code> the position is.</td>
</tr>
<tr>
<td>maxPositionSize</td>
<td>The max position size for this market in base token.</td>
</tr>
<tr>
<td>volume24H</td>
<td>The USD volume of the market in the previous 24 hours.</td>
</tr>
<tr>
<td>trades24H</td>
<td>The number of trades in the market in the previous 24 hours.</td>
</tr>
<tr>
<td>openInterest</td>
<td>The open interest in base token.</td>
</tr>
<tr>
<td>assetResolution</td>
<td>The asset resolution is the number of quantums (Starkware units) that fit within one &quot;human-readable&quot; unit of the asset.</td>
</tr>
<tr>
<td>syntheticAssetId</td>
<td>The id of the synthetic asset traded in the market. Only used for cryptographically signing orders.</td>
</tr>
</tbody></table>
<h2 id='get-orderbook'>Get Orderbook</h2>
<blockquote>
<p>Get Orderbook</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">orderbook</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_orderbook</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">orderbook</span><span class="p">:</span> <span class="nx">OrderbookResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getOrderbook</span><span class="p">(</span>
  <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.499"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET v3/orderbook/:market</code></p>

<aside class="success">
Returns bids and asks which are each Orderbook order arrays (price and size).
</aside>

<p>Description: Returns the active orderbook for a market. All bids and asks that are fillable are returned.</p>
<h3 id='request-2'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market of the Orderbook.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bids</td>
<td>See Orderbook Order below. Sorted by price in descending order.</td>
</tr>
<tr>
<td>asks</td>
<td>See Orderbook Order below. Sorted by price in ascending order.</td>
</tr>
</tbody></table>
<h3 id='orderbook-order'>Orderbook Order</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>The price of the order (in quote / base currency).</td>
</tr>
<tr>
<td>size</td>
<td>The size of the order (in base currency).</td>
</tr>
</tbody></table>
<h2 id='get-trades'>Get Trades</h2>
<blockquote>
<p>Get Trades</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">all_trades</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_trades</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">trades</span><span class="p">:</span> <span class="p">{</span> <span class="nl">trades</span><span class="p">:</span> <span class="nx">Trade</span><span class="p">[]</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getTrades</span><span class="p">({</span>
  <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
  <span class="na">startingBeforeOrAt</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2021-01-05T17:33:43.163Z</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">limit</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-05T16:33:43.163Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"liquidation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET v3/trades/:market</code></p>

<p>Description: Get Trades by specified parameters. Passing in all query parameters to the HTTP endpoint would look like: <code>GET v3/trades/BTC-USD?startingBeforeOrAt=2021-09-05T17:33:43.163Z&amp;limit=1</code>.</p>

<aside class="notice">
Trades will include information for all users and as such includes less information on individual transactions than the fills endpoint.
</aside>
<h3 id='request-3'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market of the trades.</td>
</tr>
<tr>
<td>startingBeforeOrAt</td>
<td>(Optional): Set a date by which the trades had to be created.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional): The number of candles to fetch (Max 100).</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>trades</td>
<td>An array of trades. See trade below</td>
</tr>
</tbody></table>
<h3 id='trade'>Trade</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>side</td>
<td>Either <code>BUY</code> or <code>SELL</sell>.</td>
</tr>
<tr>
<td>size</td>
<td>The size of the trade.</td>
</tr>
<tr>
<td>price</td>
<td>The price of the trade.</td>
</tr>
<tr>
<td>createdAt</td>
<td>The time of the trade.</td>
</tr>
<tr>
<td>liquidation</td>
<td><code>true</code> if the trade was the result of a liquidation. <code>false</code> otherwise.</td>
</tr>
</tbody></table>
<h2 id='get-fast-withdrawal-liquidity'>Get Fast Withdrawal Liquidity</h2>
<blockquote>
<p>Get Fast Withdrawal Liquidity</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">fast_withdrawals_info</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_fast_withdrawal</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">availableFundsMap</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">liquidityProviders</span><span class="p">:</span> <span class="p">{</span>
    <span class="p">[</span><span class="na">positionId</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="p">{</span>
      <span class="na">availableFunds</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
      <span class="na">starkKey</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
      <span class="na">quote</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">creditAsset</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
        <span class="na">creditAmount</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
        <span class="na">debitAmount</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span>
      <span class="p">}</span> <span class="o">|</span> <span class="kc">null</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getFastWithdrawalAvailableFunds</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"liquidityProviders"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"1812"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"availableFunds"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quote"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET v3/fast-withdrawals</code></p>

<p>Description: Returns a map of all LP provider accounts that have available funds for fast withdrawals. Given a <code>debitAmount</code> and asset the user wants sent to L1, this endpoint also returns amount of the desired asset the user will be credited on L1. Given a <code>creditAmount</code> and asset the user wants sent to L1, this endpoint also returns the amount the user will be debited on L2.</p>
<h3 id='request-4'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>creditAsset</td>
<td>(Optional): The asset that would be sent to the user. Required if creditAmount or debitAmount are set.</td>
</tr>
<tr>
<td>creditAmount</td>
<td>(Optional): Set this value if the user wants a quote based on the creditAmount.</td>
</tr>
<tr>
<td>debitAmount</td>
<td>(Optional): Set this value if the user wants a quote based on the debitAmount.</td>
</tr>
</tbody></table>

<aside class="warning">
Both debitAmount and creditAmount cannot be provided in the same request.
</aside>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>liquidityProviders</td>
<td>Map of LP position IDs to <a href="#liquidity-provider">Liquidity Provider</a>.</td>
</tr>
</tbody></table>
<h3 id='liquidity-provider'>Liquidity Provider</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>availableFunds</td>
<td>The funds available for the LP.</td>
</tr>
<tr>
<td>starkKey</td>
<td>The public stark key for the LP.</td>
</tr>
<tr>
<td>quote</td>
<td>The <a href="#liquidity-provider-quote">Liquidity Provider Quote</a> given the user&#39;s request. Null if no request from the user or the request is unfillable by this LP.</td>
</tr>
</tbody></table>
<h3 id='liquidity-provider-quote'>Liquidity Provider Quote</h3>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>creditAsset</td>
<td>The asset that would be sent to the user on L1.</td>
</tr>
<tr>
<td>creditAmount</td>
<td>The amount of creditAsset that would be sent to the user (human readable).</td>
</tr>
<tr>
<td>debitAmount</td>
<td>The amount of USD that would be deducted from the users L2 account (human readable).</td>
</tr>
</tbody></table>
<h2 id='get-market-stats'>Get Market Stats</h2>
<blockquote>
<p>Get Market Stats</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">market_statistics</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_stats</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">days</span><span class="o">=</span><span class="n">MARKET_STATISTIC_DAY_SEVEN</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">marketStatistics</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getStats</span><span class="p">({</span>
  <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
  <span class="na">days</span><span class="p">:</span> <span class="nx">MarketStatisticDay</span><span class="p">.</span><span class="nx">SEVEN</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"markets"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ETH-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1095"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"baseVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quoteVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PERPETUAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET v3/stats/:market</code></p>

<p>Description: Get an individual market&#39;s statistics over a set period of time or all available periods of time.</p>
<h3 id='request-5'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market whose statistics are being fetched.</td>
</tr>
<tr>
<td>days</td>
<td>(Optional): Specified day range for the statistics to have been compiled over. Can be one of <code>1</code>, <code>7</code>, <code>30</code>. Defaults to <code>1</code>.</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>markets</td>
<td>Map of market to MarketStats. See example below.</td>
</tr>
</tbody></table>
<h3 id='marketstats'>MarketStats</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>The symbol of the market, e.g. ETH-USD.</td>
</tr>
<tr>
<td>open</td>
<td>The open price of the market.</td>
</tr>
<tr>
<td>high</td>
<td>The high price of the market.</td>
</tr>
<tr>
<td>low</td>
<td>The low price of the market.</td>
</tr>
<tr>
<td>close</td>
<td>The close price of the market.</td>
</tr>
<tr>
<td>baseVolume</td>
<td>The total amount of base asset traded.</td>
</tr>
<tr>
<td>quoteVolume</td>
<td>The total amount of quote asset traded.</td>
</tr>
<tr>
<td>type</td>
<td>Type of the market. This will always be <code>PERPETUAL</code> for now.</td>
</tr>
</tbody></table>
<h2 id='get-historical-funding'>Get Historical Funding</h2>
<blockquote>
<p>Get Historical Funding</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">historical_funding</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_historical_funding</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">historicalFunding</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getHistoricalFunding</span><span class="p">({</span>
  <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"historicalFunding"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000125000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31297.5000008009374142"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"effectiveAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-05T09:10:49.000Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET v3/historical-funding/:market</code></p>

<p>Description: Get the historical funding rates for a market.</p>
<h3 id='request-6'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market whose historical funding rates are being fetched.</td>
</tr>
<tr>
<td>effectiveBeforeOrAt</td>
<td>(Optional): Set a date by which the historical funding rates had to be created.</td>
</tr>
</tbody></table>
<h3 id='response-6'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>historicalFunding</td>
<td>Array of HistoricalFunding. See below for individual example.</td>
</tr>
</tbody></table>
<h3 id='historical-funding'>Historical Funding</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market for which to query historical funding.</td>
</tr>
<tr>
<td>rate</td>
<td>The funding rate (as a 1-hour rate).</td>
</tr>
<tr>
<td>price</td>
<td>Oracle price used to calculate the funding rate.</td>
</tr>
<tr>
<td>effectiveAt</td>
<td>Time at which funding payments were exchanged at this rate.</td>
</tr>
</tbody></table>
<h2 id='get-candles-for-market'>Get Candles for Market</h2>
<blockquote>
<p>Get Candles for Market</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">dydx3.constants</span> <span class="kn">import</span> <span class="n">MARKET_BTC_USD</span>

<span class="n">candles</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_candles</span><span class="p">(</span>
  <span class="n">market</span><span class="o">=</span><span class="n">MARKET_BTC_USD</span><span class="p">,</span>
  <span class="n">resolution</span><span class="o">=</span><span class="s">'1DAY'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">candles</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">candles</span><span class="p">:</span> <span class="nx">CandleResponseObject</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getCandles</span><span class="p">({</span>
  <span class="na">market</span><span class="p">:</span> <span class="nx">Market</span><span class="p">.</span><span class="nx">BTC_USD</span><span class="p">,</span>
  <span class="na">resolution</span><span class="p">:</span> <span class="nx">CandleResolution</span><span class="p">.</span><span class="mi">1</span><span class="nx">DAY</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="nl">"candles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-05T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-05T00:00:00.000Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1DAY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"low"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"high"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"close"</span><span class="p">:</span><span class="w"> </span><span class="s2">"40000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"baseTokenVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.002"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"usdVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45085"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"startingOpenInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span></code></pre></div><h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET v3/candles/:market</code></p>

<p>Description: Get the candle statistics for a market.</p>
<h3 id='request-7'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>market</td>
<td>Market whose candles are being fetched.</td>
</tr>
<tr>
<td>resolution</td>
<td>(Optional): Specific candle resolution being fetched. Can be one of <code>1DAY</code>, <code>4HOURS</code>, <code>1HOUR</code>, <code>30MINS</code>, <code>15MINS</code>, <code>5MINS</code>, <code>1MIN</code>.</td>
</tr>
<tr>
<td>fromISO</td>
<td>(Optional): Starting point for the candles.</td>
</tr>
<tr>
<td>toISO</td>
<td>(Optional): Ending point for the candles.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional): The number of candles to fetch (Max 100).</td>
</tr>
</tbody></table>
<h3 id='response-7'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>startedAt</td>
<td>When the candle started, time of first trade in candle.</td>
</tr>
<tr>
<td>updatedAt</td>
<td>When the candle was last updated</td>
</tr>
<tr>
<td>market</td>
<td>Market the candle is for.</td>
</tr>
<tr>
<td>resolution</td>
<td>Time-period of candle (currently 1HOUR or 1DAY).</td>
</tr>
<tr>
<td>low</td>
<td>Low trade price of the candle.</td>
</tr>
<tr>
<td>high</td>
<td>High trade price of the candle.</td>
</tr>
<tr>
<td>open</td>
<td>Open trade price of the candle.</td>
</tr>
<tr>
<td>close</td>
<td>Close trade price of the candle.</td>
</tr>
<tr>
<td>baseTokenVolume</td>
<td>Volume of trade in baseToken currency for the candle.</td>
</tr>
<tr>
<td>trades</td>
<td>Count of trades during the candle.</td>
</tr>
<tr>
<td>usdVolume</td>
<td>Volume of trade in USD for the candle.</td>
</tr>
<tr>
<td>startingOpenInterest</td>
<td>The open interest in baseToken at the start of the candle.</td>
</tr>
</tbody></table>
<h2 id='get-global-configuration-variables'>Get Global Configuration Variables</h2><div class="highlight"><pre class="highlight python tab-python"><code><span class="n">config</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_config</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">ConfigResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getConfig</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"collateralAssetId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x02c04d8b650f44092278a7cb1e1028c82025dff622db96c934b611b84cc8de5a"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"collateralTokenAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8707a5bf4c2842d46b31a405ba41b858c0f876c4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"defaultMakerFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0005"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"defaultTakerFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"exchangeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x014F738EAd8Ec6C50BCD456a971F8B84Cd693BBe"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxExpectedBatchLengthMinutes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"240"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxFastWithdrawalAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cancelOrderRateLimiting"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"maxPointsMulti"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxPointsSingle"</span><span class="p">:</span><span class="w"> </span><span class="mi">8500</span><span class="p">,</span><span class="w">
      </span><span class="nl">"windowSecMulti"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"windowSecSingle"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"placeOrderRateLimiting"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"maxPoints"</span><span class="p">:</span><span class="w"> </span><span class="mi">1750</span><span class="p">,</span><span class="w">
      </span><span class="nl">"windowSec"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"targetNotional"</span><span class="p">:</span><span class="w"> </span><span class="mi">40000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minLimitConsumption"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minMarketConsumption"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nl">"minTriggerableConsumption"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxOrderConsumption"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET v3/config</code></p>

<p>Description: Get any global configuration variables for the exchange as a whole.</p>
<h3 id='response-8'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>collateralAssetId</td>
<td>The assetId of the collateral asset in the Starkware system.</td>
</tr>
<tr>
<td>collateralTokenAddress</td>
<td>The address of the token used as collateral.</td>
</tr>
<tr>
<td>defaultMakerFee</td>
<td>The default maker fee for new accounts.</td>
</tr>
<tr>
<td>defaultTakerFee</td>
<td>The default taker fee for new accounts.</td>
</tr>
<tr>
<td>exchangeAddress</td>
<td>The address of the exchange contract.</td>
</tr>
<tr>
<td>maxExpectedBatchLengthMinutes</td>
<td>The maximum expected time between batches L2 (in minutes).</td>
</tr>
<tr>
<td>maxFastWithdrawalAmount</td>
<td>The maximum amount (in USDC) allowed for fast withdrawals.</td>
</tr>
<tr>
<td>cancelOrderRateLimiting</td>
<td>See <code>cancelOrderRateLimiting</code> below.</td>
</tr>
<tr>
<td>placeOrderRateLimiting</td>
<td>See <code>placeOrderRateLimiting</code> below.</td>
</tr>
</tbody></table>
<h3 id='cancelorderratelimiting'>cancelOrderRateLimiting</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>maxPointsMulti</td>
<td>The number of rate limiting points given per window for canceling multiple orders.</td>
</tr>
<tr>
<td>maxPointsSingle</td>
<td>The number of rate limiting points given per window for canceling single orders.</td>
</tr>
<tr>
<td>windowSecMulti</td>
<td>The length of a rate limiting window for canceling multiple orders, in seconds.</td>
</tr>
<tr>
<td>windowSecSingle</td>
<td>The length of a rate limiting window for canceling single orders, in seconds.</td>
</tr>
</tbody></table>
<h3 id='placeorderratelimiting'>placeOrderRateLimiting</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>maxPoints</td>
<td>The number of rate limiting points given per window.</td>
</tr>
<tr>
<td>windowSec</td>
<td>The length of a rate limiting window, in seconds.</td>
</tr>
<tr>
<td>targetNotional</td>
<td>The <code>(size * price)</code> target used for determining points consumption.</td>
</tr>
<tr>
<td>minLimitConsumption</td>
<td>The minimum number of points used when placing a limit order.</td>
</tr>
<tr>
<td>minMarketConsumption</td>
<td>The minimum number of points used when placing a market order.</td>
</tr>
<tr>
<td>minTriggerableConsumption</td>
<td>The minimum number of points used when placing a triggerable (e.g. stop-loss) order.</td>
</tr>
<tr>
<td>maxOrderConsumption</td>
<td>The maximum number of points used when placing an order.</td>
</tr>
</tbody></table>
<h2 id='check-if-user-exists'>Check If User Exists</h2>
<blockquote>
<p>Check If User Exists</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">user_exists</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">check_if_user_exists</span><span class="p">(</span>
  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'foo'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">userExists</span><span class="p">:</span> <span class="p">{</span> <span class="nl">exists</span><span class="p">:</span> <span class="nx">boolean</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">doesUserExistWithAddress</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET v3/users/exists</code></p>

<p>Description: Check if a user exists for a given Ethereum address.</p>
<h3 id='request-8'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ethereumAddress</td>
<td>Ethereum address that the user would be associated with.</td>
</tr>
</tbody></table>
<h3 id='response-9'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>exists</td>
<td>If a user exists for the given Ethereum address.</td>
</tr>
</tbody></table>
<h2 id='check-if-username-exists'>Check If Username Exists</h2>
<blockquote>
<p>Check If Username Exists</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">username_exists</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">check_if_username_exists</span><span class="p">(</span>
  <span class="n">username</span><span class="o">=</span><span class="s">'username'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">usernameExists</span><span class="p">:</span> <span class="p">{</span> <span class="nl">exists</span><span class="p">:</span> <span class="nx">boolean</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">doesUserExistWithUsername</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">username</span><span class="dl">'</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET v3/usernames</code></p>

<p>Description: Check if a username has been taken by a user.</p>
<h3 id='request-9'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Unique username being checked.</td>
</tr>
</tbody></table>
<h3 id='response-10'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>exists</td>
<td>If a username has been taken by any user.</td>
</tr>
</tbody></table>
<h2 id='get-api-server-time'>Get API Server Time</h2>
<blockquote>
<p>Get API Server Time</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">time_object</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_time</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">time</span><span class="p">:</span> <span class="p">{</span> <span class="nl">time</span><span class="p">:</span> <span class="p">{</span> <span class="na">iso</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="na">epoch</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getTime</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"iso"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-02T18:35:45Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"epoch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1611965998.515"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET v3/time</code></p>

<p>Description: Get the current time of the API server.</p>
<h3 id='response-11'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>iso</td>
<td>ISO time of the server in UTC.</td>
</tr>
<tr>
<td>epoch</td>
<td>Epoch time in seconds with milliseconds.</td>
</tr>
</tbody></table>
<h2 id='get-public-leaderboard-pnls'>Get Public Leaderboard PNLs</h2>
<blockquote>
<p>Get Public Leaderboard PNLs</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">leaderboardPnls</span><span class="p">:</span> <span class="p">{</span> <span class="nl">pnls</span><span class="p">:</span> <span class="nx">LeaderboardPnlResponseObject</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getLeaderboardPnls</span><span class="p">(</span>
  <span class="nx">period</span><span class="o">=</span><span class="nx">LeaderboardPnlPeriod</span><span class="p">.</span><span class="nx">WEEKLY</span><span class="p">,</span>
  <span class="nx">sortBy</span><span class="o">=</span><span class="nx">LeaderboardPnlSortBy</span><span class="p">.</span><span class="nx">ABSOLUTE</span><span class="p">,</span>
  <span class="nx">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"prizePool"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"numHedgiesWinners"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"numPrizeWinners"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ratioPromoted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.25</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ratioDemoted"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"minimumEquity"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
  </span><span class="nl">"minimumDYDXTokens"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"seasonNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="nl">"topPnls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ethereumAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3408105669f73e814be44cbf598679a50eb2f7ed"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"publicId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCDEFG"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"absolutePnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10206.971314"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.409100"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"absoluteRank"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nl">"percentRank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seasonExpectedOutcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SAME_LEAGUE"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"hedgieWon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"prizeWon"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
    </span><span class="nl">"numParticipants"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-02T15:31:10.813Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"startedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-01T15:30:00.000Z"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"endsAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-02-02T15:30:00.000Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-12'>HTTP Request</h3>
<p><code>GET v3/leaderboard-pnl</code></p>

<aside class="warning">
Only available for the typescript client and http requests
</aside>

<p>Description: Get the top PNLs for a specified period and how they rank against each other.</p>
<h3 id='request-10'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>period</td>
<td>&quot;DAILY&quot;, &quot;WEEKLY&quot;, &quot;MONTHLY&quot;, &quot;ALLTIME&quot;, &quot;COMPETITION&quot;, &quot;DAILY_COMPETITION&quot;, or &quot;LEAGUES&quot;.</td>
</tr>
<tr>
<td>startingBeforeOrAt</td>
<td>Latest the leaderboard starts at.</td>
</tr>
<tr>
<td>sortBy</td>
<td>Which PNL to sort ranks by. &quot;ABSOLUTE&quot; or &quot;PERCENT&quot;.</td>
</tr>
<tr>
<td>limit</td>
<td>(Optional): The number of leaderboard PNLs to fetch (Max 100).</td>
</tr>
</tbody></table>
<h3 id='response-12'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>topPnls</td>
<td>Array of PNLForPeriod (see below).</td>
</tr>
<tr>
<td>numParticipants</td>
<td>Number of participants in this leaderboard. Includes ranked and unranked participants.</td>
</tr>
<tr>
<td>startedAt</td>
<td>Starting time for this pnl. Note: will only be set if being used for a competition or leagues. Otherwise, this value will always be <code>null</code>.</td>
</tr>
<tr>
<td>endsAt</td>
<td>Ending time for this pnl. Note: will only be set if being used for a competition or leagues. Otherwise, this value will always be <code>null</code>. (Can be a future time.)</td>
</tr>
<tr>
<td>updatedAt</td>
<td>The time this pnl was updated.</td>
</tr>
<tr>
<td>seasonNumber</td>
<td>Trading leagues season number. Starts at 1. <code>null</code> if not leagues.</td>
</tr>
<tr>
<td>prizePool</td>
<td>Prize pool size for period. <code>null</code> if not &quot;COMPETITION&quot; or leagues.</td>
</tr>
<tr>
<td>numHedgiesWinners</td>
<td>Number of hedgies winners for league. <code>null</code> if not a leagues period.</td>
</tr>
<tr>
<td>numPrizeWinners</td>
<td>Number of prize winners for league. <code>null</code> if not a leagues period.</td>
</tr>
<tr>
<td>ratioPromoted</td>
<td>Ratio of users promoted for league. <code>null</code> if not a leagues period.</td>
</tr>
<tr>
<td>ratioDemoted</td>
<td>Ratio of users demoted for league. <code>null</code> if not a leagues period.</td>
</tr>
<tr>
<td>minimumEquity</td>
<td>Minimum account equity required to join league. <code>null</code> if not a leagues period.</td>
</tr>
<tr>
<td>minimumDYDXTokens</td>
<td>Minimum user DYDX + stkDYDX Token balance required to join league. <code>null</code> if not a leagues period.</td>
</tr>
<tr>
<td>numHedgiesWinners</td>
<td>Number of hedgies prizes for period. <code>null</code> if not leagues.</td>
</tr>
</tbody></table>
<h4 id='pnlforperiod'>PNLForPeriod</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Publically-displayed username. <code>null</code> if not sharing.</td>
</tr>
<tr>
<td>ethereumAddress</td>
<td>User&#39;s associated ethereum address. <code>null</code> if not sharing.</td>
</tr>
<tr>
<td>publicId</td>
<td>User&#39;s public id used in the public profile endpoint.</td>
</tr>
<tr>
<td>absolutePnl</td>
<td>The PNL (in USD) for the specified period. Sorted DESC for &quot;ABSOLUTE&quot; sortBy.</td>
</tr>
<tr>
<td>percentPnl</td>
<td>The percent PNL for the specified period. Sorted DESC for &quot;PERCENT&quot; sortBy.</td>
</tr>
<tr>
<td>absoluteRank</td>
<td>User&#39;s absolute PNL rank.</td>
</tr>
<tr>
<td>percentRank</td>
<td>User&#39;s percent PNL rank.</td>
</tr>
<tr>
<td>seasonExpectedOutcome</td>
<td>User&#39;s expected outcome of latest season. &quot;PROMOTION&quot;, &quot;DEMOTION&quot;, or &quot;SAME_LEAGUE&quot;. <code>null</code> if not leagues.</td>
</tr>
</tbody></table>
<h2 id='get-public-retroactive-mining-rewards'>Get Public Retroactive Mining Rewards</h2>
<blockquote>
<p>Get Public Retroactive Mining Rewards</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">rewards</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_public_retroactive_mining_rewards</span><span class="p">(</span>
  <span class="n">ethereum_address</span><span class="o">=</span><span class="s">'foo'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">rewards</span><span class="p">:</span> <span class="nx">PublicRetroactiveMiningRewardsResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getPublicRetroactiveMiningRewards</span><span class="p">(</span>
  <span class="dl">'</span><span class="s1">foo</span><span class="dl">'</span>
<span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"allocation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"targetVolume"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-13'>HTTP Request</h3>
<p><code>GET v3/rewards/public-retroactive-mining</code></p>

<p>Description: Get the retroactive mining rewards for an ethereum address.</p>
<h3 id='request-11'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ethereumAddress</td>
<td>An Ethereum address.</td>
</tr>
</tbody></table>
<h3 id='response-13'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>allocation</td>
<td>The number of allocated dYdX tokens for the address.</td>
</tr>
<tr>
<td>targetVolume</td>
<td>The addresses&#39; required trade volume (in USD) to be able to claim the allocation.</td>
</tr>
</tbody></table>
<h2 id='verify-an-email-address'>Verify an Email Address</h2>
<blockquote>
<p>Verify an Email Address</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">verify_email</span><span class="p">(</span>
  <span class="n">token</span><span class="o">=</span><span class="s">'token'</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">verifyEmail</span><span class="p">(</span><span class="dl">'</span><span class="s1">token</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{}</span><span class="w">
</span></code></pre></div><h3 id='http-request-14'>HTTP Request</h3>
<p><code>PUT v3/emails/verify-email</code></p>

<p>Description: Verify an email address by providing the verification token sent to the email address.</p>
<h3 id='request-12'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Confirmation token that was sent to a user&#39;s email.</td>
</tr>
</tbody></table>
<h3 id='response-14'>Response</h3>
<p>On success, returns a <code>204</code> response with an empty body. After receiving a <code>204</code>, the user associated with the email the token was sent to will begin getting notification emails for all types <a href="#send-verification-email">they have specified in their userData</a>. Responds with a <code>400</code> error if the token is invalid.</p>
<h2 id='get-currently-revealed-hedgies'>Get Currently Revealed Hedgies</h2>
<blockquote>
<p>Get Currently Revealed Hedgies</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">currentlyRevealedHedgies</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">daily</span><span class="p">?:</span> <span class="nx">HedgiePeriodResponseObject</span><span class="p">,</span>
    <span class="nx">weekly</span><span class="p">?:</span> <span class="nx">HedgiePeriodResponseObject</span><span class="p">,</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getCurrentlyRevealedHedgies</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"daily"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"blockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">14135506</span><span class="p">,</span><span class="w">
    </span><span class="nl">"competitionPeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tokenIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">4100</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"weekly"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"blockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">14135506</span><span class="p">,</span><span class="w">
    </span><span class="nl">"competitionperiod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tokenIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2790</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w"> </span><span class="mi">4109</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET v3/hedgies/current</code></p>

<aside class="warning">
Only available for the typescript client and http requests.
</aside>

<p>Description: Get the currently revealed <a href="https://hedgies.wtf/">Hedgies</a> for competition distribution.</p>
<h3 id='response-15'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>daily</td>
<td>NftPeriodInformation for daily Hedgie or undefined.</td>
</tr>
<tr>
<td>weekly</td>
<td>NftPeriodInformation for weekly Hedgies or undefined.</td>
</tr>
</tbody></table>
<h3 id='nftperiodinformation'>NftPeriodInformation</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>blockNumber</td>
<td>The number of the block whose hash was used to randomly select the Hedgie tokenId from the remaining unrevealed Hedgies (or currently revealed Hedgies in the case of distributing weekly Hedgies).</td>
</tr>
<tr>
<td>competitionPeriod</td>
<td>The zero-indexed period of the competition. Competition 0 was the very first day a Hedgie was revealed for competition winners.</td>
</tr>
<tr>
<td>tokenIds</td>
<td>An array of the numeric tokenIds of the Hedgies.</td>
</tr>
</tbody></table>
<h2 id='get-historically-revealed-hedgies'>Get Historically Revealed Hedgies</h2>
<blockquote>
<p>Get Historically Revealed Hedgies</p>
</blockquote>
<div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">historicallyRevealedHedgies</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">historicalTokenIds</span><span class="p">:</span> <span class="nx">HedgiePeriodResponseObject</span><span class="p">[],</span>
<span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getHistoricallyRevealedHedgies</span><span class="p">({</span>
    <span class="na">nftRevealType</span><span class="p">:</span> <span class="nx">WEEK</span><span class="p">,</span>
    <span class="na">start</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="p">});</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"historicalTokenIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"blockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">14135506</span><span class="p">,</span><span class="w">
    </span><span class="nl">"competitionperiod"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tokenIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">2790</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w"> </span><span class="mi">4109</span><span class="p">]</span><span class="w">
  </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-16'>HTTP Request</h3>
<p><code>GET v3/hedgies/history</code></p>

<aside class="warning">
Only available for the typescript client and http requests.
</aside>

<p>Description: Get the historically revealed <a href="https://hedgies.wtf/">Hedgies</a> from competition distributions.</p>
<h3 id='request-13'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>nftRevealType</td>
<td>The competition type the Hedgies are being revealed for (<code>Day</code> or <code>Week</code>).</td>
</tr>
<tr>
<td>start</td>
<td>(Optional): Oldest competition period to be looking from (inclusive).</td>
</tr>
<tr>
<td>end</td>
<td>(Optional): Newest competition period to be looking up to (inclusive).</td>
</tr>
</tbody></table>
<h3 id='response-16'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>historicalTokenIds</td>
<td><a href="#get-currently-revealed-hedgies">NftPeriodInformation</a> array.</td>
</tr>
</tbody></table>

<aside class="warning">
Rows are returned from newest to oldest row. If start and end are not included, return most recent 100 rows. If only one of startingFrom or endingAt is present, get startingFrom and the 99 rows after or the 99 before and endingAt (both ordered newest row to oldest). If start and end are both present then window must be no greater than 100 inclusive or a 400 error will be returned. Also, competition periods are zero-indexed.
</aside>
<h2 id='get-insurance-fund-balance'>Get Insurance Fund Balance</h2>
<blockquote>
<p>Get Insurance Fund Balance</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">balance</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_insurance_fund_balance</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">balance</span><span class="p">:</span> <span class="p">{</span> <span class="nl">balance</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getInsuranceFundBalance</span><span class="p">();</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"balance"</span><span class="p">:</span><span class="s2">"9868319.469028"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-17'>HTTP Request</h3>
<p><code>GET v3/insurance-fund/balance</code></p>

<p>Description: Get the balance of the <a href="https://help.dydx.exchange/en/articles/4797358-contract-loss-mechanisms">dYdX insurance fund</a>.</p>
<h3 id='response-17'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>Balance of the dYdX insurance fund in USD.</td>
</tr>
</tbody></table>
<h2 id='get-public-profile'>Get Public Profile</h2>
<p>Get Public Profile data. This is a subset of the <code>v3/profile/private</code> endpoint.</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">balance</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">public</span><span class="p">.</span><span class="n">get_profile</span><span class="p">(</span><span class="s">"publicId"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight typescript tab-typescript"><code><span class="kd">const</span> <span class="nx">publicProfile</span><span class="p">:</span> <span class="nx">ProfilePublicResponseObject</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="k">public</span><span class="p">.</span><span class="nx">getProfilePublic</span><span class="p">(</span><span class="dl">"</span><span class="s2">publicId</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"ethereumAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0913017c740260fea4b2c62828a4008ca8b0d6e4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DYDXHoldings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"stakedDYDXHoldings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"250"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hedgiesHeld"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">111</span><span class="p">],</span><span class="w">
    </span><span class="nl">"twitterHandle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradingLeagues"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"currentLeague"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SILVER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currentLeagueRanking"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tradingPnls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"absolutePnl30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"324"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"percentPnl30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"volume30D"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tradingRewards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"curEpoch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"curEpochEstimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prevEpochEstimatedRewards"</span><span class="p">:</span><span class="w"> </span><span class="mi">125</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-18'>HTTP Request</h3>
<p><code>GET v3/profile/:publicId</code></p>

<p>Description: Get the public profile of a user given their public id.</p>
<h3 id='response-18'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>Balance of the dYdX insurance fund in USD.</td>
</tr>
</tbody></table>
<h3 id='request-14'>Request</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>publicId</td>
<td>Public id of the user</td>
</tr>
</tbody></table>
<h3 id='response-19'>Response</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Publically-displayed username.</td>
</tr>
<tr>
<td>publicId</td>
<td>User&#39;s public id used in the public profile endpoint</td>
</tr>
<tr>
<td>ethereumAddress</td>
<td>User&#39;s associated ethereum address.</td>
</tr>
<tr>
<td>DYDXHoldings</td>
<td>The user&#39;s DYDX token holdings. <code>null</code> if not sharing ethereum address.</td>
</tr>
<tr>
<td>stakedDYDXHoldings</td>
<td>The user&#39;s stkDYDX token holdings. <code>null</code> if not sharing ethereum address.</td>
</tr>
<tr>
<td>hedgiesHeld</td>
<td>Indices of all Hedgies held.</td>
</tr>
<tr>
<td>twitterHandle</td>
<td>The username that appears at the end of a unique Twitter url.</td>
</tr>
<tr>
<td>tradingLeagues</td>
<td>See &quot;TradingLeagues&quot; below.</td>
</tr>
<tr>
<td>tradingPnls</td>
<td>See &quot;TradingPnls&quot; below.</td>
</tr>
<tr>
<td>tradingRewards</td>
<td>See &quot;TradingRewards&quot; below.</td>
</tr>
</tbody></table>
<h3 id='tradingleagues'>TradingLeagues</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>currentLeague</td>
<td><code>null, &quot;BRONZE&quot;, &quot;SILVER&quot;, &quot;GOLD&quot;, &quot;PLATINUM&quot;, or &quot;DIAMOND&quot;</code>.</td>
</tr>
<tr>
<td>currentLeagueRanking</td>
<td><code>null</code>, or positive integer ranking.</td>
</tr>
</tbody></table>
<h3 id='tradingpnls'>TradingPnls</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>absolutePnl30D</td>
<td><code>null</code>, or user&#39;s 30 day absolute pnl (based on leaderboard formula).</td>
</tr>
<tr>
<td>percentPnl30D</td>
<td><code>null</code>, or user&#39;s 30 day percent pnl (based on leaderboard formula).</td>
</tr>
<tr>
<td>volume30D</td>
<td>The sum of a user&#39;s 30 day maker and taker trading volume.</td>
</tr>
</tbody></table>
<h3 id='tradingrewards'>TradingRewards</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>curEpoch</td>
<td>Current epoch number.</td>
</tr>
<tr>
<td>curEpochEstimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards for the current epoch.</td>
</tr>
<tr>
<td>prevEpochEstimatedRewards</td>
<td>The user&#39;s estimated number of dYdX tokens as rewards for the previous epoch.</td>
</tr>
</tbody></table>
<h1 id='v3-websocket-api'>V3 Websocket API</h1>
<p>dYdX offers a WebSocket API for streaming v3 updates.</p>

<p>You can connect to the v3 WebSockets at:</p>

<ul>
<li><strong>Production</strong>: <code>wss://api.dydx.exchange/v3/ws</code></li>
<li><strong>Staging (Goerli)</strong>: <code>wss://api.stage.dydx.exchange/v3/ws</code></li>
</ul>

<p>The server will send pings every 30s and expects a pong within 10s. The server does not expect pings, but will respond with a pong if sent one.</p>
<h2 id='accounts-channel'>Accounts channel</h2>
<p>This channel provides realtime information about orders, fills, funding updates and positions for a user. To subscribe, you will need to
be authenticated.</p>

<p>To subscribe:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Set to <code>subscribe</code></td>
</tr>
<tr>
<td>channel</td>
<td>string</td>
<td>Set to <code>v3_accounts</code></td>
</tr>
<tr>
<td>accountNumber</td>
<td>string</td>
<td>The account number to subscribe to</td>
</tr>
<tr>
<td>apiKey</td>
<td>string</td>
<td>The apiKey for the user</td>
</tr>
<tr>
<td>signature</td>
<td>string</td>
<td>validation signature. See below</td>
</tr>
<tr>
<td>timestamp</td>
<td>string</td>
<td>timestamp used for the signature</td>
</tr>
<tr>
<td>passphrase</td>
<td>string</td>
<td>The <code>passphrase</code> field of the API key</td>
</tr>
</tbody></table>

<p><strong>Authentication</strong></p>

<p>The authentication in the accounts channel is identical to <a href="#authentication">private endpoint authentication</a> with one key difference. The <code>requestPath</code> is <code>/ws/accounts</code>.</p>
<h3 id='initial-response'>Initial Response:</h3>
<p>The initial response will contain the information about the account, open positions, recent transfers, and open orders, i.e. everything from GET <code>/v3/accounts/:id</code>, GET <code>/v3/transfers</code>, GET <code>/v3/funding</code> and GET <code>/v3/orders</code> (with <code>accountId</code> in the header).</p>

<p>Note that the <code>freeCollateral</code> and <code>equity</code> (also called <code>total account value</code>) for an account are only sent in the initial response. To track these over time, refer to <a href="#margin">this section</a>.</p>

<blockquote>
<p>Example initial response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_accounts"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a6c717-6f77-4c1c-ac22-72ce2b7ed77d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"797fc129eeb7c54163f3947f1f250594"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"112"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"limitFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0005"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x456..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-22T20:22:26.399Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-22T20:22:26.399Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9356"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fe71e7df-c633-4ba1-870e-61f36580cfc5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"041c2ae647ee91807eed6471488983ab4addc2a602d4ceeb04dfda470e33f148"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingWithdrawals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"equity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1879.090000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"freeCollateral"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1879.090000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-04-09T21:08:34.984Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openPositions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"LINK-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"677dad3b-d848-5e7c-84bf-18760f3414f6"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK-USD"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-22T20:25:26.399Z"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"openTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"lastTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d303634-da14-56bb-99f5-122e34b1ce34"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FAST_WITHDRAWAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"debitAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"debitAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAmount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactionHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xb86e98d05098de6249d7c10616ffefa0b001976238083dc34a8e747fd7960029"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONFIRMED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-05T00:37:43.009Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confirmedAt"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9407156494718159"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"fromAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3ebe6781be6d436cb7999cfce8b52e40819721cb"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"toAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x14c2a496e5b7a52d54748cba0bd9f4b24ed27fdd"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"fundingPayments"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='channel-data'>Channel Data</h3>
<p>Subsequent responses will contain any updates to open orders, or changes to account balance, or the open positions, or transfers, in a single message.</p>

<blockquote>
<p>A fill occurs, and a position is closed, and the account balance modified</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel_data"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_accounts"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a6c717-6f77-4c1c-ac22-72ce2b7ed77d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"fills"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"677dad3b-d848-5e7c-84bf-18760f3414f6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"liquidity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK-USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"797fc129eeb7c54163f3947f1f250594"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"112"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"orderClientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"31391968951033844"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-22T20:25:26.399Z"</span><span class="p">,</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"797fc129eeb7c54163f3947f1f250594"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"112"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"remainingSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"limitFee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0005"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENTIRELY_FILLED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x456..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FOK"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"postOnly"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-22T20:22:26.399Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-22T20:22:26.399Z"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"677dad3b-d848-5e7c-84bf-18760f3414f6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"market"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINK-USD"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LONG"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CLOSED"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"maxSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"exitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"realizedPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-22T20:25:26.399Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"openTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closeTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"23"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"closedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-14-22T20:25:26.399Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sumOpen"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sumClose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"accounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2759094-12af-4b59-8071-661e99148a14"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fe71e7df-c633-4ba1-870e-61f36580cfc5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x456..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"700"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"400"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingWithdrawals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>a deposit occurs</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel_data"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_accounts"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a6c717-6f77-4c1c-ac22-72ce2b7ed77d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"fills"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="nl">"accounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"positionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2759094-12af-4b59-8071-661e99148a14"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fe71e7df-c633-4ba1-870e-61f36580cfc5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"starkKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x456..."</span><span class="p">,</span><span class="w">
      </span><span class="nl">"quoteBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingDeposits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"pendingWithdrawals"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastTransactionId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="nl">"transfers"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"35bb84a8-d8b5-5f8e-a49e-8ad979fb7567"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accountId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"e33a8007-57ca-52ab-887d-d162d1666f3b"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPOSIT"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"debitAsset"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAsset"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"USDC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"debitAmount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditAmount"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"transactionHash"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0xec2bd16e73e4bb54c1ee25415233ded15f6e8c4edb8480ce9774a28c7846d4f0"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"clientId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-01-17 22:24:54.661+00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="w"> </span><span class="p">:</span><span class="w">  </span><span class="s2">"2021-01-17 22:24:54.560426+00"</span><span class="p">,</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='orderbook'>Orderbook</h2>
<p>To subscribe:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Set to <code>subscribe</code></td>
</tr>
<tr>
<td>channel</td>
<td>string</td>
<td>Set to <code>v3_orderbook</code></td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>The market to subscribe to e.g. BTC-USD, LINK-USD</td>
</tr>
<tr>
<td>includeOffsets (optional)</td>
<td>boolean</td>
<td>If specified, this will return an initial response with per-price level offsets</td>
</tr>
</tbody></table>
<h3 id='initial-response-2'>Initial Response:</h3>
<p>The initial response will contain the state of the orderbook and will be the same structure as GET <code>/v3/orderbook/:market</code>. If <code>includeOffsets</code> is sent and set to true in the subscription message, there will be an offset included for each price level. (See the example included)</p>

<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>will be <code>subscribed</code></td>
</tr>
<tr>
<td>channel</td>
<td>the channel name, i.e. <code>v3_orderbook</code></td>
</tr>
<tr>
<td>id</td>
<td>the market subscribed to e.g. BTC-USD</td>
</tr>
<tr>
<td>contents</td>
<td>the message contents</td>
</tr>
</tbody></table>

<p>The contents is structured as:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>offset</td>
<td>string</td>
<td>A number used for ordering. See <code>offset</code> below.</td>
</tr>
<tr>
<td>bids</td>
<td>array<PublicOrder></td>
<td>See <code>PublicOrder</code> below. Sorted by price in descending order</td>
</tr>
<tr>
<td>asks</td>
<td>array<PublicOrder></td>
<td>See <code>PublicOrder</code> below. Sorted by price in ascending order</td>
</tr>
</tbody></table>

<p>PublicOrder:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>string</td>
<td>human readable price of the order (in quote / base currency)</td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>human readable size of the order (in base currency)</td>
</tr>
<tr>
<td>offset</td>
<td>string</td>
<td>(if <code>includeOffsets</code> is set to true) the offset for the specific price</td>
</tr>
</tbody></table>

<p>Offset:</p>

<p>The price updates are not guaranteed to be sent in order. So it is possible to receive an older price update later. For this reason, the offset is included in the message, to help order. The offset increases monotonically, and increasing values of offsets indicate more recent values.</p>

<aside>
To keep a valid orderbook, you should store the offset for each price level independently. A given price level should be updated if and only if an update for the price level is received with a higher offset than what you have stored.

To get a per-price level offset in the initial response, you can set <code>includeOffsets</code> to true when subscribing.
</aside>

<p>Example messages:</p>

<blockquote>
<p>Example initial response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"87b25218-0170-4111-bfbf-d9f0a506fcab"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_orderbook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1779"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11.24"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1778.5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1782.8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1784"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.81"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Example initial response if <code>includeOffsets</code> is set to true:</p>
</blockquote>

<p>Request:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_orderbook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"includeOffsets"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Response:</p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14f7c481-1e1f-4f5c-8c5c-7b114209d8ce"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_orderbook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1778.8"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36850163"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1776.7"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36849225"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.9"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1783"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36848764"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1784"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"36848433"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.3"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='channel-data-2'>Channel Data</h3>
<p>Subsequent responses will contain the new order sizes for any price levels that have changed since the previous update:</p>

<p>e.g:</p>

<blockquote>
<p>Subsequent messages</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel_data"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a6c717-6f77-4c1c-ac22-72ce2b7ed77d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_orderbook"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"178"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="s2">"102"</span><span class="p">,</span><span class="w"> </span><span class="s2">"12"</span><span class="p">]],</span><span class="w">
    </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="s2">"104"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="w"> </span><span class="p">]]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>E.g: if some orders at &quot;102&quot; price, get filled, then the update would be [&quot;102&quot;, &quot;12&quot;], where &quot;12&quot; is the new size.
If there are no more asks at &quot;104&quot;, then the ask update would be [&quot;104&quot;, &quot;0&quot;].</p>
<h2 id='trades'>Trades</h2>
<p>To subscribe:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Set to <code>subscribe</code></td>
</tr>
<tr>
<td>channel</td>
<td>string</td>
<td>Set to <code>v3_trades</code></td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>The market to subscribe to e.g. BTC-USD, LINK-USD</td>
</tr>
</tbody></table>
<h3 id='initial-response-3'>Initial Response:</h3>
<p>The initial response will contain the historical trades and will be the same structure as GET <code>/v3/trades/:market</code>.</p>

<table><thead>
<tr>
<th>field</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>will be <code>subscribed</code></td>
</tr>
<tr>
<td>channel</td>
<td>the channel name, i.e. <code>v3_trades</code></td>
</tr>
<tr>
<td>id</td>
<td>the market subscribed to e.g. BTC-USD</td>
</tr>
<tr>
<td>contents</td>
<td>the message contents</td>
</tr>
</tbody></table>

<p>The contents is structured as:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>trades</td>
<td>array<PublicTrade></td>
<td>See <code>PublicTrade</code> below.</td>
</tr>
</tbody></table>

<p>PublicTrade:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>side</td>
<td>string</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>size</td>
<td>string</td>
<td>size of the trade</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>price of the trade</td>
</tr>
<tr>
<td>createdAt</td>
<td>ISO time of the trade</td>
<td>time of the trade</td>
</tr>
<tr>
<td>liquidation</td>
<td>boolean</td>
<td><code>true</code> if the trade was the result of a liquidation, <code>false</code> otherwise</td>
</tr>
</tbody></table>

<p>Example messages:</p>

<blockquote>
<p>Example initial response:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a6c717-6f77-4c1c-ac22-72ce2b7ed77d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_trades"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-10-29T00:26:30.759Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-11-02T19:45:42.886Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-10-29T00:26:57.382Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='channel-data-3'>Channel Data</h3>
<p>Subsequent responses will contain the recently created trades. e.g:</p>

<blockquote>
<p>Subsequent responses</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel_data"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a6c717-6f77-4c1c-ac22-72ce2b7ed77d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_trades"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-11-29T00:26:30.759Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-11-29T14:00:03.382Z"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='markets'>Markets</h2>
<p>To subscribe:</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>type</td>
<td>string</td>
<td>Set to <code>subscribe</code></td>
</tr>
<tr>
<td>channel</td>
<td>string</td>
<td>Set to <code>v3_markets</code></td>
</tr>
</tbody></table>
<h3 id='initial-response-4'>Initial Response:</h3>
<p>Same as <a href="#get-markets">GET /v3/markets</a></p>
<h3 id='channel-data-4'>Channel Data</h3>
<p>Subsequent responses will contain an update for one or more markets. Updates will be sent any time a field(s) changes on a market(s). Updates will only contain the field(s) that have changed:</p>

<blockquote>
<p>Subsequent responses</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"channel_data"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"connection_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e2a6c717-6f77-4c1c-ac22-72ce2b7ed77d"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3_markets"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"contents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ETH-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"oraclePrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.23"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"BTC-USD"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"indexPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.23"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"priceChange24H"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.12"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initialMarginFraction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.23"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='security'>Security</h1><h2 id='independent-audits'>Independent Audits</h2>
<p>The Starkware Perpetual smart contracts were audited independently by
<a href="https://peckshield.com">PeckShield</a>.</p>

<p><strong><a href="https://github.com/starkware-libs/starkex-contracts/blob/master/audit/StarkPerpetual_v1.0_Audit_Report.pdf">PeckShield Audit Report</a></strong></p>
<h2 id='vulnerability-disclosure-policy'>Vulnerability Disclosure Policy</h2>
<p>The disclosure of security vulnerabilities helps us ensure the security of our users.</p>

<p><strong>How to report a security vulnerability?</strong></p>

<p>If you believe you’ve found a security vulnerability in one of our contracts or platforms,
send it to us by emailing <a href="mailto:security@dydx.exchange">security@dydx.exchange</a>.
Please include the following details with your report:</p>

<ul>
<li><p>A description of the location and potential impact of the vulnerability.</p></li>
<li><p>A detailed description of the steps required to reproduce the vulnerability.</p></li>
</ul>

<p><strong>Scope</strong></p>

<p>Any vulnerability not previously disclosed by us or our independent auditors in their reports.</p>

<p><strong>Guidelines</strong></p>

<p>We require that all reporters:</p>

<ul>
<li><p>Make every effort to avoid privacy violations, degradation of user experience,
disruption to production systems, and destruction of data during security testing.</p></li>
<li><p>Use the identified communication channels to report vulnerability information to us.</p></li>
<li><p>Keep information about any vulnerabilities you’ve discovered confidential between yourself and
dYdX until we’ve had 30 days to resolve the issue.</p></li>
</ul>

<p>If you follow these guidelines when reporting an issue to us, we commit to:</p>

<ul>
<li><p>Not pursue or support any legal action related to your findings.</p></li>
<li><p>Work with you to understand and resolve the issue quickly
(including an initial confirmation of your report within 72 hours of submission).</p></li>
<li><p>Grant a monetary reward based on the <a href="https://medium.com/dydxderivatives/announcing-bug-bounties-for-the-dydx-margin-trading-protocol-d0c817d1cda4">OWASP risk assessment methodology</a>.</p></li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="typescript">TypeScript</a>
                <a href="#" data-language-name="json">HTTP</a>
          </div>
      </div>
    </div>
  </body>
</html>
